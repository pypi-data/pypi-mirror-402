"""TS-generated SignedTransaction for cross-implementation compatibility testing.

This module provides the signed transaction hex that was generated by TypeScript
implementation, used to verify Python signing produces identical results.

Reference: go-wallet-toolbox/pkg/internal/testabilities/tsgenerated/signed_transaction.go

The signed transaction was created from:
- Sender: testusers.Alice
- Receiver: testusers.Bob
- Using create_action_result.json instructions
"""

# SignedTransactionHex is a rawTx of a transaction created from instructions
# from create_action_result.json
# Sender: testusers.Alice
# Receiver: testusers.Bob
SIGNED_TRANSACTION_HEX = (
    "0100000001f65e47ff7a34ad0e84d70cf2100cdca1c07129859ad8365ce0008fadd5546775000000006b"
    "483045022100f0f72a2bf4be746e8279dcbd77b952c0deb19d5b4b734cb97fff13bb193ef50d02205fdf"
    "e98b474cb9c621432d9a5853a0778d377769f1faa92d78ad6cd73a274f224121038620582eb7a0da0931"
    "9b14d720ecf023396970a2ecf8d6c68ea7dabfe878fe27ffffffff20e8030000000000001976a9144b0d"
    "6cbef5a813d2d12dcec1de2584b250dc96a388ac820c0000000000001976a914a5aab71826f09508c09a"
    "14017430bb410dcadd0588ac760c0000000000001976a91448910afd0b358529b373efdee9d19fa14119"
    "d5fe88ac760c0000000000001976a91453d4ee09d9c25e8c1f826756f9fb3bbaa433b56088ac760c0000"
    "000000001976a914bb1dac223d526fab1d91e38417145c1a2ce7746988ac760c0000000000001976a914"
    "5ed217da839e2e5152388668da29f246f93da64788ac760c0000000000001976a9142b3396a6b2f41537"
    "31492d4f8fe64718de3e93f988ac760c0000000000001976a91463a070980978e619540a1c2e02a9fdf1"
    "2adef50488ac760c0000000000001976a9146310742d0245e17973436594e00fdc82c9fd93cb88ac760c"
    "0000000000001976a9146f777218bd8230e0ad97159cd99a8933c98bae2a88ac760c0000000000001976"
    "a914d561515219271ff23ec2f12991cf7e0908acd55f88ac760c0000000000001976a91459563d2ff7b0"
    "25d17948d413ef28143c30e9ce4188ac760c0000000000001976a914a87606ee8ecfdaa796758d967c43"
    "20a14053e65b88ac760c0000000000001976a914d489144e9b337c7e486356303869c06c930f64a688ac"
    "760c0000000000001976a914c8602b8a53da2d7638729583063b53295385241b88ac760c000000000000"
    "1976a91476bb6eee9ba43febdfcc913d86fd874bf4389af388ac760c0000000000001976a9143b5ab555"
    "a78d4b44ec41e98b6d93adcf8dde90c988ac760c0000000000001976a9140b7a323c320ed74c72fb92eb"
    "8fa81dc8386207cd88ac760c0000000000001976a91450c6136e712d90fa65ae1a1c440074f27f1fb69c"
    "88ac760c0000000000001976a91487da29053fcbf816b61cec74721e841d246148d888ac760c00000000"
    "00001976a914183bcf60d0d65a18d347d444aa448244280ee5e288ac760c0000000000001976a914deec"
    "2f852830ef8da3409d9dbb1606bae5434c2688ac760c0000000000001976a914a29e6c10404f8318f5a3"
    "5867d3d26601b1158bca88ac760c0000000000001976a9147d2243cf199a25969d81fcfe4be847174a6a"
    "9b2c88ac760c0000000000001976a9140b6e3c98b836420bb66cdabc98067bba2b4791b288ac760c0000"
    "000000001976a914e2844a9ee3a8c3dccd8e642a067e5a43a132f97288ac760c0000000000001976a914"
    "3de24f5d157c37c6879cc21d6eadd94120d79a1c88ac760c0000000000001976a914443615e9a6ea90af"
    "9e86f202dc01b44f07965bc288ac760c0000000000001976a914f845e72582d313892fedba298a77fc30"
    "e08c672188ac760c0000000000001976a914af5ca0bf541b58da2b931a53aeb0bfdf3f57619188ac760c"
    "0000000000001976a9148ebcf1b28e24b7c87ae278e1863e086964066c4c88ac760c0000000000001976"
    "a914995cee77130c1ab54354dd0640faa5f9609535c688ac00000000"
)


def signed_transaction_bytes() -> bytes:
    """Get the signed transaction as bytes.

    Returns:
        bytes: The signed transaction raw bytes
    """
    return bytes.fromhex(SIGNED_TRANSACTION_HEX)


def signed_transaction():
    """Get the signed transaction as a Transaction object.

    Returns:
        Transaction: The signed transaction object

    Note:
        This imports bsv lazily to avoid circular imports.
    """
    from bsv.transaction import Transaction

    return Transaction.from_hex(SIGNED_TRANSACTION_HEX)


# Expected transaction ID after signing
SIGNED_TRANSACTION_TXID = "c8d2f3e4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2"

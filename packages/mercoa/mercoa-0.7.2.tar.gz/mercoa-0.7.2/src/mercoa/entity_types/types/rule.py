# This file was auto-generated by Fern from our API Definition.

from __future__ import annotations

import typing

import pydantic
import typing_extensions
from ...core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from ...core.serialization import FieldMetadata
from .identifier_list import IdentifierList


class Rule_Approver(UniversalBaseModel):
    """
    Examples
    --------
    from mercoa.entity_types import IdentifierList_RolesList, Rule_Approver

    Rule_Approver(
        num_approvers=2,
        identifier_list=IdentifierList_RolesList(value=["Admin", "Controller"]),
    )
    """

    type: typing.Literal["approver"] = "approver"
    num_approvers: typing_extensions.Annotated[int, FieldMetadata(alias="numApprovers")]
    identifier_list: typing_extensions.Annotated[IdentifierList, FieldMetadata(alias="identifierList")]
    auto_assign: typing_extensions.Annotated[typing.Optional[bool], FieldMetadata(alias="autoAssign")] = None

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow


class Rule_Automatic(UniversalBaseModel):
    """
    Examples
    --------
    from mercoa.entity_types import IdentifierList_RolesList, Rule_Approver

    Rule_Approver(
        num_approvers=2,
        identifier_list=IdentifierList_RolesList(value=["Admin", "Controller"]),
    )
    """

    type: typing.Literal["automatic"] = "automatic"

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow


"""
from mercoa.entity_types import IdentifierList_RolesList, Rule_Approver

Rule_Approver(
    num_approvers=2,
    identifier_list=IdentifierList_RolesList(value=["Admin", "Controller"]),
)
"""
Rule = typing.Union[Rule_Approver, Rule_Automatic]

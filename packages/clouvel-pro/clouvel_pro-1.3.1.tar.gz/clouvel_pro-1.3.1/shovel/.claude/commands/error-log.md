# /error-log - ì—ëŸ¬ í•™ìŠµ (Compounding Engineering)

> **"ëª¨ë“  ì‹¤ìˆ˜ê°€ ê·œì¹™ì´ ëœë‹¤"**
>
> 1. ì—ëŸ¬ ë°œìƒ ì‹œ **5 Whys ë¶„ì„**
> 2. íŒ¨í„´ **ì¼ë°˜í™”**
> 3. **NEVER/ALWAYS ê·œì¹™** ìƒì„±
> 4. **CLAUDE.md ERROR_LOG**ì— ê¸°ë¡

---

## ì‚¬ìš©ë²•

```bash
# ë§ˆì§€ë§‰ ì—ëŸ¬ ë¶„ì„
/error-log

# íŠ¹ì • ì—ëŸ¬ ë¶„ì„
/error-log "TypeScript ì—ëŸ¬ TS2322"

# ì£¼ê°„ ì—ëŸ¬ ë¦¬ë·°
/error-log --weekly
```

---

## ì—ëŸ¬ ë¶„ì„ í”„ë¡œì„¸ìŠ¤

```
/error-log
    â”‚
    â”œâ”€â”€ Phase 1: ì—ëŸ¬ ìˆ˜ì§‘
    â”‚   â”œâ”€â”€ ì—ëŸ¬ ë©”ì‹œì§€
    â”‚   â”œâ”€â”€ ë°œìƒ ìœ„ì¹˜
    â”‚   â””â”€â”€ ë°œìƒ ìƒí™©
    â”‚
    â”œâ”€â”€ Phase 2: 5 Whys ë¶„ì„
    â”‚   â””â”€â”€ ê·¼ë³¸ ì›ì¸ê¹Œì§€ íŒŒê³ ë“¤ê¸°
    â”‚
    â”œâ”€â”€ Phase 3: íŒ¨í„´ ì¼ë°˜í™”
    â”‚   â””â”€â”€ ìœ ì‚¬ ìƒí™© ì‹ë³„
    â”‚
    â”œâ”€â”€ Phase 4: ê·œì¹™ ìƒì„±
    â”‚   â””â”€â”€ NEVER/ALWAYS í˜•ì‹
    â”‚
    â””â”€â”€ Phase 5: ERROR_LOG ê¸°ë¡
```

---

## Phase 1: ì—ëŸ¬ ìˆ˜ì§‘

### 1.1 ë§ˆì§€ë§‰ ì—ëŸ¬ í™•ì¸

```bash
# ìµœê·¼ Gate ì‹¤íŒ¨ ë¡œê·¸
cat .claude/logs/tool.log | tail -50

# í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ë¡œê·¸
cat /tmp/test_output.txt 2>/dev/null | tail -30
```

### 1.2 ì—ëŸ¬ ì •ë³´ ìˆ˜ì§‘

```markdown
## ðŸ” ì—ëŸ¬ ì •ë³´ ìˆ˜ì§‘

### ì—ëŸ¬ ë©”ì‹œì§€
```
{ì „ì²´ ì—ëŸ¬ ë©”ì‹œì§€}
```

### ë°œìƒ ìœ„ì¹˜
- **íŒŒì¼**: `src/auth/login.ts`
- **ë¼ì¸**: 45
- **í•¨ìˆ˜**: `validateToken()`

### ë°œìƒ ì‹œì 
- **ëª…ë ¹ì–´**: `pnpm test`
- **Gate ë‹¨ê³„**: Test (2/4)
- **ì‹œê°**: 2026-01-09T14:30:00Z

### í™˜ê²½
- Node: v20.10.0
- Git Commit: abc1234
```

---

## Phase 2: 5 Whys ë¶„ì„

### 2.1 ë¶„ì„ í…œí”Œë¦¿

```markdown
## ðŸ¤” 5 Whys ë¶„ì„

### Why 1: ì™œ ì´ ì—ëŸ¬ê°€ ë°œìƒí–ˆëŠ”ê°€?
> **í˜„ìƒ**: í…ŒìŠ¤íŠ¸ì—ì„œ 401 ì‘ë‹µ ë°˜í™˜
> **ë‹µë³€**: í† í° ê²€ì¦ ì‹¤íŒ¨

### Why 2: ì™œ í† í° ê²€ì¦ì´ ì‹¤íŒ¨í–ˆëŠ”ê°€?
> **í˜„ìƒ**: JWT ê²€ì¦ í•¨ìˆ˜ì—ì„œ ì—ëŸ¬
> **ë‹µë³€**: JWT_SECRETì´ undefined

### Why 3: ì™œ JWT_SECRETì´ undefinedì¸ê°€?
> **í˜„ìƒ**: process.env.JWT_SECRET ê°’ ì—†ìŒ
> **ë‹µë³€**: .env.test íŒŒì¼ì— ì„¤ì • ëˆ„ë½

### Why 4: ì™œ .env.testì— ì„¤ì •ì´ ì—†ëŠ”ê°€?
> **í˜„ìƒ**: íŒŒì¼ ìžì²´ê°€ ì—†ìŒ
> **ë‹µë³€**: .env.exampleë§Œ ìžˆê³  í…ŒìŠ¤íŠ¸ í™˜ê²½ìš© íŒŒì¼ ë¯¸ìƒì„±

### Why 5: ì™œ ì´ê²ƒì´ ê°ì§€ë˜ì§€ ì•Šì•˜ëŠ”ê°€? (ê·¼ë³¸ ì›ì¸)
> **í˜„ìƒ**: ì½”ë“œì—ì„œ í™˜ê²½ë³€ìˆ˜ ì¡´ìž¬ ê²€ì¦ ì—†ìŒ
> **ë‹µë³€**: ì‹œìž‘ ì‹œ í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜ ì²´í¬ ë¡œì§ ì—†ìŒ

### ðŸŽ¯ ê·¼ë³¸ ì›ì¸
**í™˜ê²½ë³€ìˆ˜ ì‚¬ìš© ì‹œ ì¡´ìž¬ ê²€ì¦ ì—†ì´ ë°”ë¡œ ì‚¬ìš©**
```

---

## Phase 3: íŒ¨í„´ ì¼ë°˜í™”

### 3.1 ì—ëŸ¬ ìœ í˜• ë¶„ë¥˜

| ìœ í˜• | ì„¤ëª… | ì´ ì—ëŸ¬? |
|------|------|---------|
| íƒ€ìž… ì—ëŸ¬ | TypeScript ì»´íŒŒì¼ | âŒ |
| ëŸ°íƒ€ìž„ ì—ëŸ¬ | ì‹¤í–‰ ì¤‘ ë°œìƒ | âœ… |
| ë¡œì§ ì—ëŸ¬ | ìž˜ëª»ëœ ê²°ê³¼ | âŒ |
| ì•„í‚¤í…ì²˜ ìœ„ë°˜ | ì˜ì¡´ì„±/êµ¬ì¡° | âŒ |
| SSOT ìœ„ë°˜ | ë¶„ì‚°/ì¤‘ë³µ | âŒ |

### 3.2 ìœ ì‚¬ ìƒí™© ì‹ë³„

```markdown
### ðŸ“Š íŒ¨í„´ ë¶„ì„

**ì´ ì—ëŸ¬ì˜ ì¼ë°˜í™”**:
- **íŒ¨í„´**: í™˜ê²½ë³€ìˆ˜ ë¯¸ì„¤ì • â†’ ëŸ°íƒ€ìž„ ì—ëŸ¬
- **ì˜í–¥ ë²”ìœ„**: ëª¨ë“  í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©ì²˜
- **ìž¬ë°œ ê°€ëŠ¥ì„±**: ë†’ìŒ

**ìœ ì‚¬ ìƒí™©**:
1. DATABASE_URL ë¯¸ì„¤ì • ì‹œ DB ì—°ê²° ì‹¤íŒ¨
2. API_KEY ë¯¸ì„¤ì • ì‹œ ì™¸ë¶€ API í˜¸ì¶œ ì‹¤íŒ¨
3. PORT ë¯¸ì„¤ì • ì‹œ ì„œë²„ ì‹œìž‘ ì‹¤íŒ¨

**ê³µí†µì **:
ëª¨ë“  ê²½ìš° **í™˜ê²½ë³€ìˆ˜ ì¡´ìž¬ ê²€ì¦ ì—†ìŒ**
```

---

## Phase 4: ê·œì¹™ ìƒì„±

### 4.1 NEVER ê·œì¹™

```markdown
### ðŸš« NEVER ê·œì¹™

```
NEVER process.env.X ì§ì ‘ ì‚¬ìš© without ì¡´ìž¬ ê²€ì¦
â†’ ì´ìœ : ë¯¸ì„¤ì • ì‹œ undefinedë¡œ ëŸ°íƒ€ìž„ ì—ëŸ¬ ë°œìƒ
```

**ì ìš© ì˜ˆì‹œ**:
```typescript
// âŒ NEVER
const secret = process.env.JWT_SECRET;

// âœ… ëŒ€ì‹ 
const secret = process.env.JWT_SECRET;
if (!secret) throw new Error('JWT_SECRET is required');
```
```

### 4.2 ALWAYS ê·œì¹™

```markdown
### âœ… ALWAYS ê·œì¹™

```
ALWAYS ìƒˆ í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ ì‹œ:
1. .env.exampleì— ë¬¸ì„œí™”
2. ì½”ë“œì—ì„œ ì¡´ìž¬ ê²€ì¦
3. READMEì— ì„¤ëª… ì¶”ê°€
```

**ì ìš© ì˜ˆì‹œ**:
```typescript
// src/core/config/validateEnv.ts
const requiredEnvVars = ['JWT_SECRET', 'DATABASE_URL'];

export function validateEnv() {
  for (const key of requiredEnvVars) {
    if (!process.env[key]) {
      throw new Error(`Missing required env: ${key}`);
    }
  }
}
```
```

---

## Phase 5: ERROR_LOG ê¸°ë¡

### 5.1 ê¸°ë¡ ë‚´ìš© í”„ë¦¬ë·°

```markdown
## ðŸ“ ERROR_LOG ê¸°ë¡ í”„ë¦¬ë·°

CLAUDE.mdì— ë‹¤ìŒ ë‚´ìš©ì´ ì¶”ê°€ë©ë‹ˆë‹¤:

---

### [2026-01-09] JWT í† í° ê²€ì¦ ì‹¤íŒ¨ - í™˜ê²½ë³€ìˆ˜ ëˆ„ë½

- **ìƒí™©**: pnpm test ì¤‘ login.test.ts ì‹¤íŒ¨ (401 ë°˜í™˜)
- **ì›ì¸**: JWT_SECRET í™˜ê²½ë³€ìˆ˜ê°€ í…ŒìŠ¤íŠ¸ í™˜ê²½ì— ë¯¸ì„¤ì •
- **í•´ê²°**: 
  1. .env.exampleì— JWT_SECRET ì¶”ê°€
  2. .env.test ìƒì„± ë° ê°’ ì„¤ì •
  3. ì•± ì‹œìž‘ ì‹œ í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜ ê²€ì¦ ë¡œì§ ì¶”ê°€
- **ì˜ˆë°©**: 
  - NEVER process.env.X without ì¡´ìž¬ ê²€ì¦
  - ALWAYS í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ ì‹œ .env.example ë™ì‹œ ì—…ë°ì´íŠ¸
- **ì¦ê±°**: test_output_20260109.txt

---

ì¶”ê°€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?

> **(y)** ì¶”ê°€
> **(e)** ìˆ˜ì • í›„ ì¶”ê°€
> **(n)** ì·¨ì†Œ

ì„ íƒ: ___
```

### 5.2 CLAUDE.md ì—…ë°ì´íŠ¸

```bash
# ERROR_LOG ì„¹ì…˜ì— ì¶”ê°€
# CLAUDE.md ëë¶€ë¶„ì˜ ERROR_LOG ì„¹ì…˜ì— append
```

---

## ì™„ë£Œ ë©”ì‹œì§€

```markdown
## âœ… ì—ëŸ¬ í•™ìŠµ ì™„ë£Œ

### ìš”ì•½
| í•­ëª© | ê°’ |
|------|-----|
| ì—ëŸ¬ | JWT í† í° ê²€ì¦ ì‹¤íŒ¨ |
| ê·¼ë³¸ ì›ì¸ | í™˜ê²½ë³€ìˆ˜ ì¡´ìž¬ ê²€ì¦ ì—†ìŒ |
| ì¶”ê°€ëœ ê·œì¹™ | NEVER 1ê°œ, ALWAYS 1ê°œ |

### ERROR_LOG ì—…ë°ì´íŠ¸
- ìœ„ì¹˜: CLAUDE.md > ERROR_LOG ì„¹ì…˜
- ì œëª©: [2026-01-09] JWT í† í° ê²€ì¦ ì‹¤íŒ¨

### Compounding Engineering
```
ì—ëŸ¬ ë°œìƒ â†’ ë¶„ì„ â†’ ê·œì¹™í™” â†’ ì˜êµ¬ í•™ìŠµ
```

**ì´ ì—ëŸ¬ëŠ” ë‹¤ì‹œ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

### ë‹¤ìŒ ë‹¨ê³„
1. ìˆ˜ì • ì ìš©
2. `/gate` ìž¬ì‹¤í–‰
```

---

## ì£¼ê°„ ì—ëŸ¬ ë¦¬ë·°

### /error-log --weekly

```markdown
## ðŸ“Š ì£¼ê°„ ì—ëŸ¬ ë¦¬ë·° (2026-01-03 ~ 2026-01-09)

### í†µê³„
| í•­ëª© | ê°’ |
|------|-----|
| ì´ ì—ëŸ¬ | 5ê±´ |
| Gate ì‹¤íŒ¨ | 3ê±´ |
| ëŸ°íƒ€ìž„ ì—ëŸ¬ | 1ê±´ |
| SSOT ìœ„ë°˜ | 1ê±´ |

### ê°€ìž¥ ë¹ˆë²ˆí•œ íŒ¨í„´
1. **í™˜ê²½ë³€ìˆ˜ ê´€ë ¨** (3íšŒ)
2. **íƒ€ìž… ë¶ˆì¼ì¹˜** (2íšŒ)

### ì¶”ê°€ëœ ê·œì¹™
- NEVER process.env without ê²€ì¦
- ALWAYS íƒ€ìž… ê°€ë“œ ì¶”ê°€
- NEVER ë§¤ì§ ë„˜ë²„ í•˜ë“œì½”ë”©

### ê°œì„  ì œì•ˆ
1. ì•± ì‹œìž‘ ì‹œ í™˜ê²½ë³€ìˆ˜ ì¼ê´„ ê²€ì¦ ëª¨ë“ˆ ì¶”ê°€
2. CIì—ì„œ íƒ€ìž… ì²´í¬ ê°•ì œ

### íš¨ê³¼
- ì´ì „ ì£¼ ëŒ€ë¹„ ì—ëŸ¬ 20% ê°ì†Œ (ì¶”ì •)
```

---

## ì¤‘ë³µ ì—ëŸ¬ ê°ì§€

ë™ì¼/ìœ ì‚¬ ì—ëŸ¬ ìž¬ë°œìƒ ì‹œ:

```markdown
## âš ï¸ ì¤‘ë³µ ì—ëŸ¬ ê°ì§€!

**í˜„ìž¬ ì—ëŸ¬**: í™˜ê²½ë³€ìˆ˜ DATABASE_URL ë¯¸ì„¤ì •
**ê¸°ì¡´ ê¸°ë¡**: [2026-01-05] JWT_SECRET ë¯¸ì„¤ì •

### ê¸°ì¡´ ê·œì¹™ í™•ì¸
```
ALWAYS í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ ì‹œ .env.example ë™ì‹œ ì—…ë°ì´íŠ¸
```

### ë¬¸ì œì 
ê·œì¹™ì´ ë¬´ì‹œë˜ì—ˆê±°ë‚˜ ë¶ˆì¶©ë¶„í•¨

### ê·œì¹™ ê°•í™” ì œì•ˆ
```
ALWAYS í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ ì‹œ:
1. .env.example ì—…ë°ì´íŠ¸ (ê¸°ì¡´)
2. validateEnv()ì— ì¶”ê°€ (ì‹ ê·œ)
3. READMEì— ë¬¸ì„œí™” (ì‹ ê·œ)
```

ê°•í™”ëœ ê·œì¹™ ì ìš©í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
> **(y)** ì ìš©
> **(n)** ìœ ì§€
```

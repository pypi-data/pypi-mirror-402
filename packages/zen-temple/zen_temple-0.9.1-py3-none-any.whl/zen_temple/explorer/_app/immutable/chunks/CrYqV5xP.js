import"./DsnmJJEf.js";import{d as Lt,e as Tt,o as dt,b as Le,s as be}from"./jKWSmWmB.js";import{a9 as Pt,P as jt,bf as At,bg as It,K as Dt,w as Fe,bh as Ft,bi as St,bj as Mt,M as st,aH as Ce,bk as ft,X as qe,j as ot,N as ht,L as vt,bl as Ut,bm as zt,b5 as Nt,bn as Bt,b as Ye,p as Ke,f as K,e as Me,be as qt,m as je,k as de,g as h,i as ae,s as $,c as D,r as P,t as ue,u as Oe,h as N,a as Qe,o as Et,n as Pe,q as De,v as Te,l as Wt,G as Ht,x as $e}from"./DAlzfk79.js";import{i as fe}from"./CuNXTB5A.js";import{p as G}from"./CvLwV7-q.js";import{e as mt,d as ze,g as bt,u as Kt}from"./B5O290y9.js";import{s as Se,r as Qt,a as ge,c as _e}from"./D9U3jPEw.js";import{s as lt,c as Zt,o as Gt,f as Jt,a as Vt,b as Yt}from"./OA-GMRJU.js";import{b as Ge}from"./gxe5upM2.js";import"./CtfZr6x0.js";const Xt=()=>performance.now(),Ee={tick:r=>requestAnimationFrame(r),now:()=>Xt(),tasks:new Set};function Rt(){const r=Ee.now();Ee.tasks.forEach(e=>{e.c(r)||(Ee.tasks.delete(e),e.f())}),Ee.tasks.size!==0&&Ee.tick(Rt)}function $t(r){let e;return Ee.tasks.size===0&&Ee.tick(Rt),{promise:new Promise(n=>{Ee.tasks.add(e={c:r,f:n})}),abort(){Ee.tasks.delete(e)}}}function Ze(r,e){St(()=>{r.dispatchEvent(new CustomEvent(e))})}function er(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function yt(r){const e={},n=r.split(";");for(const i of n){const[o,s]=i.split(":");if(!o||s===void 0)break;const c=er(o.trim());e[c]=s.trim()}return e}const tr=r=>r;function rr(r,e,n,i){var o=(r&Ft)!==0,s="both",c,f=e.inert,g=e.style.overflow,u,w;function O(){return St(()=>c??=n()(e,i?.()??{},{direction:s}))}var x={is_global:o,in(){e.inert=f,Ze(e,"introstart"),u=ut(e,O(),w,1,()=>{Ze(e,"introend"),u?.abort(),u=c=void 0,e.style.overflow=g})},out(T){e.inert=!0,Ze(e,"outrostart"),w=ut(e,O(),u,0,()=>{Ze(e,"outroend"),T?.()})},stop:()=>{u?.abort(),w?.abort()}},j=Pt;if((j.transitions??=[]).push(x),Lt){var B=o;if(!B){for(var I=j.parent;I&&(I.f&jt)!==0;)for(;(I=I.parent)&&(I.f&At)===0;);B=!I||(I.f&It)!==0}B&&Dt(()=>{Fe(()=>x.in())})}}function ut(r,e,n,i,o){var s=i===1;if(Mt(e)){var c,f=!1;return st(()=>{if(!f){var T=e({direction:s?"in":"out"});c=ut(r,T,n,i,o)}}),{abort:()=>{f=!0,c?.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(n?.deactivate(),!e?.duration)return o(),{abort:Ce,deactivate:Ce,reset:Ce,t:()=>i};const{delay:g=0,css:u,tick:w,easing:O=tr}=e;var x=[];if(s&&n===void 0&&(w&&w(0,1),u)){var j=yt(u(0,1));x.push(j,j)}var B=()=>1-i,I=r.animate(x,{duration:g,fill:"forwards"});return I.onfinish=()=>{I.cancel();var T=n?.t()??1-i;n?.abort();var z=i-T,Y=e.duration*Math.abs(z),ie=[];if(Y>0){var F=!1;if(u)for(var Z=Math.ceil(Y/16.666666666666668),J=0;J<=Z;J+=1){var A=T+z*O(J/Z),a=yt(u(A,1-A));ie.push(a),F||=a.overflow==="hidden"}F&&(r.style.overflow="hidden"),B=()=>{var t=I.currentTime;return T+z*O(t/Y)},w&&$t(()=>{if(I.playState!=="running")return!1;var t=B();return w(t,1-t),!0})}I=r.animate(ie,{duration:Y,fill:"forwards"}),I.onfinish=()=>{B=()=>i,w?.(i,1-i),o()}},{abort:()=>{I&&(I.cancel(),I.effect=null,I.onfinish=Ce)},deactivate:()=>{o=Ce},reset:()=>{i===0&&w?.(1,0)},t:()=>B()}}function ar(r,e,n=e){var i=new WeakSet;ft(r,"input",async o=>{var s=o?r.defaultValue:r.value;if(s=tt(r)?rt(s):s,n(s),qe!==null&&i.add(qe),await ot(),s!==(s=e())){var c=r.selectionStart,f=r.selectionEnd;r.value=s??"",f!==null&&(r.selectionStart=c,r.selectionEnd=Math.min(f,r.value.length))}}),(ht&&r.defaultValue!==r.value||Fe(e)==null&&r.value)&&(n(tt(r)?rt(r.value):r.value),qe!==null&&i.add(qe)),vt(()=>{var o=e();if(r===document.activeElement){var s=Ut??qe;if(i.has(s))return}tt(r)&&o===rt(r.value)||r.type==="date"&&!o&&!r.value||o!==r.value&&(r.value=o??"")})}const et=new Set;function _a(r,e,n,i,o=i){var s=n.getAttribute("type")==="checkbox",c=r;let f=!1;if(e!==null)for(var g of e)c=c[g]??=[];c.push(n),ft(n,"change",()=>{var u=n.__value;s&&(u=wt(c,u,n.checked)),o(u)},()=>o(s?[]:null)),vt(()=>{var u=i();if(ht&&n.defaultChecked!==n.checked){f=!0;return}s?(u=u||[],n.checked=u.includes(n.__value)):n.checked=zt(n.__value,u)}),Nt(()=>{var u=c.indexOf(n);u!==-1&&c.splice(u,1)}),et.has(c)||(et.add(c),st(()=>{c.sort((u,w)=>u.compareDocumentPosition(w)===4?-1:1),et.delete(c)})),st(()=>{if(f){var u;if(s)u=wt(c,u,n.checked);else{var w=c.find(O=>O.checked);u=w?.__value}o(u)}})}function ma(r,e,n=e){ft(r,"change",i=>{var o=i?r.defaultChecked:r.checked;n(o)}),(ht&&r.defaultChecked!==r.checked||Fe(e)==null)&&n(r.checked),vt(()=>{var i=e();r.checked=!!i})}function wt(r,e,n){for(var i=new Set,o=0;o<r.length;o+=1)r[o].checked&&i.add(r[o].__value);return n||i.delete(e),Array.from(i)}function tt(r){var e=r.type;return e==="number"||e==="range"}function rt(r){return r===""?null:+r}function nr(r){return Array.from(new Set(r))}function ba(r){return r.map(e=>({value:e,label:e}))}function ya(r,e,n){return Object.entries(r).filter(([,i])=>{const o=i.split(",");return n&&!e.includes(o[0])&&e.includes(o[1])||!n&&e.includes(o[0])&&!e.includes(o[1])}).map(([i])=>i)}class ir{#e;#t;constructor(e,n){this.#e=e,this.#t=Tt(n)}get current(){return this.#t(),this.#e()}}const sr=new ir(()=>window.innerWidth,r=>Bt(window,"resize",r));var or=(r,e,n)=>{ae(e,!0),n()},lr=(r,e)=>{ae(e,!1)},ur=Et('<polygon points="0,0 20,0 10,10" class="fill-gray-200 dark:fill-gray-800"></polygon><path d="M0,0 L10,10 L20,0" class="fill-none stroke-black dark:stroke-white"></path>',1),cr=Et('<polygon points="0,10 20,10 10,0" class="fill-gray-200 dark:fill-gray-800"></polygon><path d="M0,10 L10,0 L20,10" class="fill-none stroke-black dark:stroke-white"></path>',1),dr=K('<button aria-label="Help tooltip"><i class="bi bi-question-circle-fill text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"></i></button> <div class="absolute w-[max-content] font-normal z-3 border bg-gray-200 dark:bg-gray-800 border-black dark:border-white rounded-lg p-2 text-base"><!> <svg class="absolute z-3" width="20" height="10"><!></svg></div>',1);function fr(r,e){Ke(e,!0);const n=8;let i=G(e,"maxWidth",3,500),o=de(void 0),s=de(void 0),c=de(void 0),f=de(!1),g=de(!1),u=de(null),w=de(null),O=Oe(()=>Math.min((sr.current||i())-2*n,i())),x=de(null),j=de("top");async function B(){if(!h(o)||!h(s)||!h(c))return;const{x:t,y:l,placement:_,middlewareData:v}=await Zt(h(o),h(s),{placement:"top",middleware:[Gt(8),Jt(),Vt({padding:n}),Yt({element:h(c)})]});ae(u,t,!0),ae(w,l,!0),ae(j,{top:"bottom",bottom:"top"}[_.split("-")[0]]??"top",!0),ae(x,v.arrow?.x??null,!0)}dt(()=>{B()});var I=dr();Me("resize",qt,B);var T=je(I);T.__click=B,T.__mouseover=[or,f,B],T.__focusout=[lr,g],Ge(T,t=>ae(o,t),()=>h(o));var z=$(T,2);let Y;var ie=D(z);Le(ie,()=>e.children);var F=$(ie,2);let Z;var J=D(F);{var A=t=>{var l=ur();Pe(),N(t,l)},a=t=>{var l=cr();Pe(),N(t,l)};fe(J,t=>{h(j)==="bottom"?t(A):t(a,!1)})}P(F),Ge(F,t=>ae(c,t),()=>h(c)),P(z),Ge(z,t=>ae(s,t),()=>h(s)),ue((t,l)=>{Y=lt(z,"",Y,t),Z=lt(F,`${h(j)}: -10px`,Z,l)},[()=>({display:h(f)||h(g)?"block":"none",top:h(w)!==null?`${h(w)}px`:0,left:h(u)!==null?`${h(u)}px`:0,"max-width":`${h(O)}px`}),()=>({left:h(x)!==null?`${h(x)}px`:void 0})]),Me("focus",T,()=>{ae(g,!0),B()}),Me("mouseleave",T,()=>{ae(f,!1)}),N(r,I),Qe()}Ye(["click","mouseover","focusout"]);var hr=K('<label class="fw-medium fs-4"> </label>'),vr=K('<div class="fw-medium fs-4"> </div>'),pr=K('<div class="flex justify-between items-center mb-1"><div class="flex items-center gap-2"><div class="uppercase text-gray-600 dark:text-gray-400 tracking-wide text-sm"><!></div> <!></div> <!></div>');function gr(r,e){var n=pr(),i=D(n),o=D(i),s=D(o);{var c=O=>{var x=hr(),j=D(x,!0);P(x),ue(()=>{Se(x,"for",e.formId),be(j,e.label)}),N(O,x)},f=O=>{var x=vr(),j=D(x,!0);P(x),ue(()=>be(j,e.label)),N(O,x)};fe(s,O=>{e.formId?O(c):O(f,!1)})}P(o);var g=$(o,2);{var u=O=>{fr(O,{get children(){return e.helpText}})};fe(g,O=>{e.helpText&&O(u)})}P(i);var w=$(i,2);Le(w,()=>e.rightSide??Ce),P(n),N(r,n)}const _r=r=>r;function mr(r){const e=r-1;return e*e*e+1}function wa(r,{delay:e=0,duration:n=400,easing:i=_r}={}){const o=+getComputedStyle(r).opacity;return{delay:e,duration:n,easing:i,css:s=>`opacity: ${s*o}`}}function br(r,{delay:e=0,duration:n=400,easing:i=mr,axis:o="y"}={}){const s=getComputedStyle(r),c=+s.opacity,f=o==="y"?"height":"width",g=parseFloat(s[f]),u=o==="y"?["top","bottom"]:["left","right"],w=u.map(z=>`${z[0].toUpperCase()}${z.slice(1)}`),O=parseFloat(s[`padding${w[0]}`]),x=parseFloat(s[`padding${w[1]}`]),j=parseFloat(s[`margin${w[0]}`]),B=parseFloat(s[`margin${w[1]}`]),I=parseFloat(s[`border${w[0]}Width`]),T=parseFloat(s[`border${w[1]}Width`]);return{delay:e,duration:n,easing:i,css:z=>`overflow: hidden;opacity: ${Math.min(z*20,1)*c};${f}: ${z*g}px;padding-${u[0]}: ${z*O}px;padding-${u[1]}: ${z*x}px;margin-${u[0]}: ${z*j}px;margin-${u[1]}: ${z*B}px;border-${u[0]}-width: ${z*I}px;border-${u[1]}-width: ${z*T}px;min-${f}: 0`}}var yr=K('<div class="block truncate"> </div>'),wr=(r,e,n)=>e(r,n),kr=K('<div class="flex items-center bg-blue-500 rounded-md text-xs text-white truncate"><div class="px-2 py-0.5"> </div> <button class="border-l border-black dark:border-white text-lg/1 py-0 px-0.5" aria-label="Deselect option"><i class="bi bi-x"></i></button></div>'),xr=K('<div class="flex flex-wrap gap-2 my-0.5"></div>'),Sr=K('<div class="text-gray-500 dark:text-gray-400 truncate"> </div>'),Er=(r,e,n)=>e(h(n).value),Rr=K('<span class="absolute inset-y-0 right-0 flex items-center pr-2 text-gray-600 dark:text-gray-300"><i class="bi bi-check-lg"></i></span>'),Cr=K('<button role="option"><span class="block truncate"> </span> <!></button>'),Or=K("<div></div>"),Lr=K('<input type="hidden"/> <div class="mb-2 relative"><div aria-haspopup="listbox" role="combobox"><!> <div><i></i></div></div> <!></div>',1);function Tr(r,e){Ke(e,!0);let n=G(e,"placeholderText",3,"Select an option"),i=G(e,"multiple",3,!1),o=G(e,"disabled",3,!1),s=G(e,"value",31,()=>De(i()?[]:null)),c=de(!1),f=de(void 0),g=Oe(()=>i()?e.options.filter(d=>s().includes(d.value)).map(d=>d.value):[s()]);function u(d){const k=e.options.find(W=>W.value===d);return k?k.text:""}function w(d){return i()?s().includes(d.value):s()===d.value}function O(){o()||ae(c,!h(c))}function x(d){if(i()){const k=Array.isArray(s())?s().slice():[];k?.includes(d)?k.splice(k.indexOf(d),1):k?.push(d),s(k)}else{if(ae(c,!1),d===s())return;s(d)}e.onUpdate(s())}function j(d,k){d.stopPropagation(),x(k),h(f)?.firstChild?.focus()}function B(d){if(!(d.relatedTarget instanceof HTMLElement)||!h(f)){ae(c,!1);return}const k=d.relatedTarget;h(f)?.contains(k)||ae(c,!1)}let I=null;function T(){return JSON.stringify(e.options.map(d=>d.value))}Te(()=>{if(!(I!==null&&I===T())){if(I=T(),i()&&s().some(d=>!e.options.find(k=>k.value===d))){const d=s().filter(k=>e.options.find(W=>W.value===k));console.warn(`[Select] ${e.label}: Some selected values are not in options. Resetting value to valid selections:`,d),s(d)}else!i()&&s()&&!e.options.find(d=>d.value===s())&&(console.warn(`[Select] ${e.label}: Selected value "${s()}" is not in options. Resetting value to \`null\`.`),s(null));e.onUpdate(s())}});var z=Lr(),Y=je(z);Qt(Y);var ie=$(Y,2),F=D(ie);let Z;F.__click=O,Se(F,"tabindex",0);var J=D(F);{var A=d=>{var k=yr(),W=D(k,!0);P(k),ue(S=>be(W,S),[()=>u(s())]),N(d,k)},a=d=>{var k=Wt(),W=je(k);{var S=m=>{var p=xr();mt(p,20,()=>h(g),V=>V,(V,E)=>{var R=kr(),b=D(R),ne=D(b,!0);P(b);var ee=$(b,2);ee.__click=[wr,j,E],P(R),ue(se=>be(ne,se),[()=>u(E)]),N(V,R)}),P(p),N(m,p)},y=m=>{var p=Sr(),V=D(p,!0);P(p),ue(()=>be(V,n())),N(m,p)};fe(W,m=>{i()&&Array.isArray(s())&&s().length>0?m(S):m(y,!1)},!0)}N(d,k)};fe(J,d=>{!i()&&s()?d(A):d(a,!1)})}var t=$(J,2),l=D(t);ge(l,1,_e(["bi bi-chevron-down"])),P(t),P(F);var _=$(F,2);{var v=d=>{var k=Or();ge(k,1,_e(["absolute z-10 w-full max-h-60 py-1 overflow-auto focus:outline-none","flex flex-col items-start","bg-white dark:bg-gray-800","rounded-md shadow-lg shadow-black/20 dark:shadow-white/10 ring-1 ring-black dark:ring-gray-400"])),mt(k,21,()=>e.options,W=>W.value,(W,S)=>{var y=Cr();y.__click=[Er,x,S];var m=D(y),p=D(m,!0);P(m);var V=$(m,2);{var E=R=>{var b=Rr();N(R,b)};fe(V,R=>{w(h(S))&&R(E)})}P(y),ue((R,b)=>{ge(y,1,R),Se(y,"aria-selected",b),Se(y,"aria-label",h(S).text),be(p,h(S).text)},[()=>_e(["cursor-pointer select-none relative py-2 pl-2 pr-6 w-full text-left",w(h(S))?"bg-blue-200 dark:bg-blue-800 hover:bg-blue-300 dark:hover:bg-blue-700":"hover:bg-gray-100 dark:hover:bg-gray-700"]),()=>w(h(S))]),Me("blur",y,B),N(W,y)}),P(k),ue(()=>Se(k,"id",e.id+"-listbox")),rr(3,k,()=>br,()=>({duration:300})),N(d,k)};fe(_,d=>{h(c)&&d(v)})}P(ie),Ge(ie,d=>ae(f,d),()=>h(f)),ue(d=>{Se(Y,"id",e.id),Z=ge(F,1,_e(["relative rounded-md pl-2 pr-6 py-2 cursor-pointer w-full","bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-600"]),null,Z,d),Se(F,"aria-expanded",h(c)),Se(F,"aria-controls",e.id+"-listbox"),Se(F,"aria-label",e.label),ge(t,1,_e(["handle absolute inset-y-0 right-0 flex items-center pr-2","transition-transform duration-300",h(c)&&"-scale-y-100"]))},[()=>({"opacity-50":o()})]),ar(Y,s),Me("keypress",F,d=>{(d.key==="Enter"||d.key===" ")&&(O(),d.preventDefault())}),Me("blur",F,B),N(r,z),Qe()}Ye(["click"]);var Pr=K('<div class="text-gray-500 dark:text-gray-400 italic">No options available</div>'),jr=K("<!> <!>",1);function at(r,e){const n=Ht();Ke(e,!0);let i=G(e,"value",15),o=G(e,"disabled",3,!1),s=G(e,"onUpdate",3,()=>{}),c=Oe(()=>e.options.map(x=>typeof x=="string"?{text:x,value:x}:{text:x.label,value:x.value}));var f=jr(),g=je(f);gr(g,{get label(){return e.label},get formId(){return n},get helpText(){return e.helpText}});var u=$(g,2);{var w=x=>{var j=Pr();N(x,j)},O=x=>{Tr(x,{get id(){return n},get label(){return e.label},get options(){return h(c)},get disabled(){return o()},get onUpdate(){return s()},get value(){return i()},set value(j){i(j)}})};fe(u,x=>{h(c).length==0?x(w):x(O,!1)})}N(r,f),Qe()}function Ar(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Je={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Ir=Je.exports,kt;function Dr(){return kt||(kt=1,(function(r,e){((n,i)=>{r.exports=i()})(Ir,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},o,s=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,f={},g=0,u={};function w(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var l=Z(t);l.chunkSize=parseInt(l.chunkSize),t.step||t.chunk||(l.chunkSize=null),this._handle=new I(l),(this._handle.streamer=this)._config=l}).call(this,a),this.parseChunk=function(t,l){var _=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<_){let d=this._config.newline;d||(v=this._config.quoteChar||'"',d=this._handle.guessLineEndings(t,v)),t=[...t.split(d).slice(_)].join(d)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(v=this._config.beforeFirstChunk(t))!==void 0&&(t=v),this.isFirstChunk=!1,this._halted=!1;var _=this._partialLine+t,v=(this._partialLine="",this._handle.parse(_,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=v.meta.cursor,_=(this._finished||(this._partialLine=_.substring(t-this._baseIndex),this._baseIndex=t),v&&v.data&&(this._rowCount+=v.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:v,workerId:u.WORKER_ID,finished:_});else if(A(this._config.chunk)&&!l){if(this._config.chunk(v,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=v=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(v.data),this._completeResults.errors=this._completeResults.errors.concat(v.errors),this._completeResults.meta=v.meta),this._completed||!_||!A(this._config.complete)||v&&v.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),_||v&&v.meta.paused||this._nextChunk(),v}this._halted=!0},this._sendError=function(t){A(this._config.error)?this._config.error(t):c&&this._config.error&&i.postMessage({workerId:u.WORKER_ID,error:t,finished:!1})}}function O(a){var t;(a=a||{}).chunkSize||(a.chunkSize=u.RemoteChunkSize),w.call(this,a),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(l){this._input=l,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),s||(t.onload=J(this._chunkLoaded,this),t.onerror=J(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var l,_=this._config.downloadRequestHeaders;for(l in _)t.setRequestHeader(l,_[l])}var v;this._config.chunkSize&&(v=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+v));try{t.send(this._config.downloadRequestBody)}catch(d){this._chunkError(d.message)}s&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(l=>(l=l.getResponseHeader("Content-Range"))!==null?parseInt(l.substring(l.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(l){l=t.statusText||l,this._sendError(new Error(l))}}function x(a){(a=a||{}).chunkSize||(a.chunkSize=u.LocalChunkSize),w.call(this,a);var t,l,_=typeof FileReader<"u";this.stream=function(v){this._input=v,l=v.slice||v.webkitSlice||v.mozSlice,_?((t=new FileReader).onload=J(this._chunkLoaded,this),t.onerror=J(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var v=this._input,d=(this._config.chunkSize&&(d=Math.min(this._start+this._config.chunkSize,this._input.size),v=l.call(v,this._start,d)),t.readAsText(v,this._config.encoding));_||this._chunkLoaded({target:{result:d}})},this._chunkLoaded=function(v){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(v.target.result)},this._chunkError=function(){this._sendError(t.error)}}function j(a){var t;w.call(this,a=a||{}),this.stream=function(l){return t=l,this._nextChunk()},this._nextChunk=function(){var l,_;if(!this._finished)return l=this._config.chunkSize,t=l?(_=t.substring(0,l),t.substring(l)):(_=t,""),this._finished=!t,this.parseChunk(_)}}function B(a){w.call(this,a=a||{});var t=[],l=!0,_=!1;this.pause=function(){w.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){w.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(v){this._input=v,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){_&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):l=!0},this._streamData=J(function(v){try{t.push(typeof v=="string"?v:v.toString(this._config.encoding)),l&&(l=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(d){this._streamError(d)}},this),this._streamError=J(function(v){this._streamCleanUp(),this._sendError(v)},this),this._streamEnd=J(function(){this._streamCleanUp(),_=!0,this._streamData("")},this),this._streamCleanUp=J(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function I(a){var t,l,_,v,d=Math.pow(2,53),k=-d,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,S=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,y=this,m=0,p=0,V=!1,E=!1,R=[],b={data:[],errors:[],meta:{}};function ne(M){return a.skipEmptyLines==="greedy"?M.join("").trim()==="":M.length===1&&M[0].length===0}function ee(){if(b&&_&&(pe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),_=!1),a.skipEmptyLines&&(b.data=b.data.filter(function(C){return!ne(C)})),se()){let C=function(re,oe){A(a.transformHeader)&&(re=a.transformHeader(re,oe)),R.push(re)};if(b)if(Array.isArray(b.data[0])){for(var M=0;se()&&M<b.data.length;M++)b.data[M].forEach(C);b.data.splice(0,1)}else b.data.forEach(C)}function q(C,re){for(var oe=a.header?{}:[],H=0;H<C.length;H++){var Q=H,U=C[H],U=((me,L)=>(X=>(a.dynamicTypingFunction&&a.dynamicTyping[X]===void 0&&(a.dynamicTyping[X]=a.dynamicTypingFunction(X)),(a.dynamicTyping[X]||a.dynamicTyping)===!0))(me)?L==="true"||L==="TRUE"||L!=="false"&&L!=="FALSE"&&((X=>{if(W.test(X)&&(X=parseFloat(X),k<X&&X<d))return 1})(L)?parseFloat(L):S.test(L)?new Date(L):L===""?null:L):L)(Q=a.header?H>=R.length?"__parsed_extra":R[H]:Q,U=a.transform?a.transform(U,Q):U);Q==="__parsed_extra"?(oe[Q]=oe[Q]||[],oe[Q].push(U)):oe[Q]=U}return a.header&&(H>R.length?pe("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+H,p+re):H<R.length&&pe("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+H,p+re)),oe}var te;b&&(a.header||a.dynamicTyping||a.transform)&&(te=1,!b.data.length||Array.isArray(b.data[0])?(b.data=b.data.map(q),te=b.data.length):b.data=q(b.data,0),a.header&&b.meta&&(b.meta.fields=R),p+=te)}function se(){return a.header&&R.length===0}function pe(M,q,te,C){M={type:M,code:q,message:te},C!==void 0&&(M.row=C),b.errors.push(M)}A(a.step)&&(v=a.step,a.step=function(M){b=M,se()?ee():(ee(),b.data.length!==0&&(m+=M.data.length,a.preview&&m>a.preview?l.abort():(b.data=b.data[0],v(b,y))))}),this.parse=function(M,q,te){var C=a.quoteChar||'"',C=(a.newline||(a.newline=this.guessLineEndings(M,C)),_=!1,a.delimiter?A(a.delimiter)&&(a.delimiter=a.delimiter(M),b.meta.delimiter=a.delimiter):((C=((re,oe,H,Q,U)=>{var me,L,X,Re;U=U||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ae=0;Ae<U.length;Ae++){for(var ye,Ne=U[Ae],ce=0,we=0,le=0,he=(X=void 0,new z({comments:Q,delimiter:Ne,newline:oe,preview:10}).parse(re)),xe=0;xe<he.data.length;xe++)H&&ne(he.data[xe])?le++:(ye=he.data[xe].length,we+=ye,X===void 0?X=ye:0<ye&&(ce+=Math.abs(ye-X),X=ye));0<he.data.length&&(we/=he.data.length-le),(L===void 0||ce<=L)&&(Re===void 0||Re<we)&&1.99<we&&(L=ce,me=Ne,Re=we)}return{successful:!!(a.delimiter=me),bestDelimiter:me}})(M,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess)).successful?a.delimiter=C.bestDelimiter:(_=!0,a.delimiter=u.DefaultDelimiter),b.meta.delimiter=a.delimiter),Z(a));return a.preview&&a.header&&C.preview++,t=M,l=new z(C),b=l.parse(t,q,te),ee(),V?{meta:{paused:!0}}:b||{meta:{paused:!1}}},this.paused=function(){return V},this.pause=function(){V=!0,l.abort(),t=A(a.chunk)?"":t.substring(l.getCharIndex())},this.resume=function(){y.streamer._halted?(V=!1,y.streamer.parseChunk(t,!0)):setTimeout(y.resume,3)},this.aborted=function(){return E},this.abort=function(){E=!0,l.abort(),b.meta.aborted=!0,A(a.complete)&&a.complete(b),t=""},this.guessLineEndings=function(re,C){re=re.substring(0,1048576);var C=new RegExp(T(C)+"([^]*?)"+T(C),"gm"),te=(re=re.replace(C,"")).split("\r"),C=re.split(`
`),re=1<C.length&&C[0].length<te[0].length;if(te.length===1||re)return`
`;for(var oe=0,H=0;H<te.length;H++)te[H][0]===`
`&&oe++;return oe>=te.length/2?`\r
`:"\r"}}function T(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function z(a){var t=(a=a||{}).delimiter,l=a.newline,_=a.comments,v=a.step,d=a.preview,k=a.fastMode,W=null,S=!1,y=a.quoteChar==null?'"':a.quoteChar,m=y;if(a.escapeChar!==void 0&&(m=a.escapeChar),(typeof t!="string"||-1<u.BAD_DELIMITERS.indexOf(t))&&(t=","),_===t)throw new Error("Comment character same as delimiter");_===!0?_="#":(typeof _!="string"||-1<u.BAD_DELIMITERS.indexOf(_))&&(_=!1),l!==`
`&&l!=="\r"&&l!==`\r
`&&(l=`
`);var p=0,V=!1;this.parse=function(E,R,b){if(typeof E!="string")throw new Error("Input must be a string");var ne=E.length,ee=t.length,se=l.length,pe=_.length,M=A(v),q=[],te=[],C=[],re=p=0;if(!E)return ce();if(k||k!==!1&&E.indexOf(y)===-1){for(var oe=E.split(l),H=0;H<oe.length;H++){if(C=oe[H],p+=C.length,H!==oe.length-1)p+=l.length;else if(b)return ce();if(!_||C.substring(0,pe)!==_){if(M){if(q=[],Re(C.split(t)),we(),V)return ce()}else Re(C.split(t));if(d&&d<=H)return q=q.slice(0,d),ce(!0)}}return ce()}for(var Q=E.indexOf(t,p),U=E.indexOf(l,p),me=new RegExp(T(m)+T(y),"g"),L=E.indexOf(y,p);;)if(E[p]===y)for(L=p,p++;;){if((L=E.indexOf(y,L+1))===-1)return b||te.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:p}),ye();if(L===ne-1)return ye(E.substring(p,L).replace(me,y));if(y===m&&E[L+1]===m)L++;else if(y===m||L===0||E[L-1]!==m){Q!==-1&&Q<L+1&&(Q=E.indexOf(t,L+1));var X=Ae((U=U!==-1&&U<L+1?E.indexOf(l,L+1):U)===-1?Q:Math.min(Q,U));if(E.substr(L+1+X,ee)===t){C.push(E.substring(p,L).replace(me,y)),E[p=L+1+X+ee]!==y&&(L=E.indexOf(y,p)),Q=E.indexOf(t,p),U=E.indexOf(l,p);break}if(X=Ae(U),E.substring(L+1+X,L+1+X+se)===l){if(C.push(E.substring(p,L).replace(me,y)),Ne(L+1+X+se),Q=E.indexOf(t,p),L=E.indexOf(y,p),M&&(we(),V))return ce();if(d&&q.length>=d)return ce(!0);break}te.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:p}),L++}}else if(_&&C.length===0&&E.substring(p,p+pe)===_){if(U===-1)return ce();p=U+se,U=E.indexOf(l,p),Q=E.indexOf(t,p)}else if(Q!==-1&&(Q<U||U===-1))C.push(E.substring(p,Q)),p=Q+ee,Q=E.indexOf(t,p);else{if(U===-1)break;if(C.push(E.substring(p,U)),Ne(U+se),M&&(we(),V))return ce();if(d&&q.length>=d)return ce(!0)}return ye();function Re(le){q.push(le),re=p}function Ae(le){var he=0;return he=le!==-1&&(le=E.substring(L+1,le))&&le.trim()===""?le.length:he}function ye(le){return b||(le===void 0&&(le=E.substring(p)),C.push(le),p=ne,Re(C),M&&we()),ce()}function Ne(le){p=le,Re(C),C=[],U=E.indexOf(l,p)}function ce(le){if(a.header&&!R&&q.length&&!S){var he=q[0],xe=Object.create(null),Xe=new Set(he);let gt=!1;for(let Ie=0;Ie<he.length;Ie++){let ke=he[Ie];if(xe[ke=A(a.transformHeader)?a.transformHeader(ke,Ie):ke]){let Be,_t=xe[ke];for(;Be=ke+"_"+_t,_t++,Xe.has(Be););Xe.add(Be),he[Ie]=Be,xe[ke]++,gt=!0,(W=W===null?{}:W)[Be]=ke}else xe[ke]=1,he[Ie]=ke;Xe.add(ke)}gt&&console.warn("Duplicate headers found and renamed."),S=!0}return{data:q,errors:te,meta:{delimiter:t,linebreak:l,aborted:V,truncated:!!le,cursor:re+(R||0),renamedHeaders:W}}}function we(){v(ce()),q=[],te=[]}},this.abort=function(){V=!0},this.getCharIndex=function(){return p}}function Y(a){var t=a.data,l=f[t.workerId],_=!1;if(t.error)l.userError(t.error,t.file);else if(t.results&&t.results.data){var v={abort:function(){_=!0,ie(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:F,resume:F};if(A(l.userStep)){for(var d=0;d<t.results.data.length&&(l.userStep({data:t.results.data[d],errors:t.results.errors,meta:t.results.meta},v),!_);d++);delete t.results}else A(l.userChunk)&&(l.userChunk(t.results,v,t.file),delete t.results)}t.finished&&!_&&ie(t.workerId,t.results)}function ie(a,t){var l=f[a];A(l.userComplete)&&l.userComplete(t),l.terminate(),delete f[a]}function F(){throw new Error("Not implemented.")}function Z(a){if(typeof a!="object"||a===null)return a;var t,l=Array.isArray(a)?[]:{};for(t in a)l[t]=Z(a[t]);return l}function J(a,t){return function(){a.apply(t,arguments)}}function A(a){return typeof a=="function"}return u.parse=function(a,t){var l=(t=t||{}).dynamicTyping||!1;if(A(l)&&(t.dynamicTypingFunction=l,l={}),t.dynamicTyping=l,t.transform=!!A(t.transform)&&t.transform,!t.worker||!u.WORKERS_SUPPORTED)return l=null,u.NODE_STREAM_INPUT,typeof a=="string"?(a=(_=>_.charCodeAt(0)!==65279?_:_.slice(1))(a),l=new(t.download?O:j)(t)):a.readable===!0&&A(a.read)&&A(a.on)?l=new B(t):(i.File&&a instanceof File||a instanceof Object)&&(l=new x(t)),l.stream(a);(l=(()=>{var _;return!!u.WORKERS_SUPPORTED&&(_=(()=>{var v=i.URL||i.webkitURL||null,d=n.toString();return u.BLOB_URL||(u.BLOB_URL=v.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",d,")();"],{type:"text/javascript"})))})(),(_=new i.Worker(_)).onmessage=Y,_.id=g++,f[_.id]=_)})()).userStep=t.step,l.userChunk=t.chunk,l.userComplete=t.complete,l.userError=t.error,t.step=A(t.step),t.chunk=A(t.chunk),t.complete=A(t.complete),t.error=A(t.error),delete t.worker,l.postMessage({input:a,config:t,workerId:l.id})},u.unparse=function(a,t){var l=!1,_=!0,v=",",d=`\r
`,k='"',W=k+k,S=!1,y=null,m=!1,p=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||u.BAD_DELIMITERS.filter(function(R){return t.delimiter.indexOf(R)!==-1}).length||(v=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(l=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(S=t.skipEmptyLines),typeof t.newline=="string"&&(d=t.newline),typeof t.quoteChar=="string"&&(k=t.quoteChar),typeof t.header=="boolean"&&(_=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");y=t.columns}t.escapeChar!==void 0&&(W=t.escapeChar+k),t.escapeFormulae instanceof RegExp?m=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(m=/^[=+\-@\t\r].*$/)}})(),new RegExp(T(k),"g"));if(typeof a=="string"&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return V(null,a,S);if(typeof a[0]=="object")return V(y||Object.keys(a[0]),a,S)}else if(typeof a=="object")return typeof a.data=="string"&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields||y),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:typeof a.data[0]=="object"?Object.keys(a.data[0]):[]),Array.isArray(a.data[0])||typeof a.data[0]=="object"||(a.data=[a.data])),V(a.fields||[],a.data||[],S);throw new Error("Unable to serialize unrecognized input");function V(R,b,ne){var ee="",se=(typeof R=="string"&&(R=JSON.parse(R)),typeof b=="string"&&(b=JSON.parse(b)),Array.isArray(R)&&0<R.length),pe=!Array.isArray(b[0]);if(se&&_){for(var M=0;M<R.length;M++)0<M&&(ee+=v),ee+=E(R[M],M);0<b.length&&(ee+=d)}for(var q=0;q<b.length;q++){var te=(se?R:b[q]).length,C=!1,re=se?Object.keys(b[q]).length===0:b[q].length===0;if(ne&&!se&&(C=ne==="greedy"?b[q].join("").trim()==="":b[q].length===1&&b[q][0].length===0),ne==="greedy"&&se){for(var oe=[],H=0;H<te;H++){var Q=pe?R[H]:H;oe.push(b[q][Q])}C=oe.join("").trim()===""}if(!C){for(var U=0;U<te;U++){0<U&&!re&&(ee+=v);var me=se&&pe?R[U]:U;ee+=E(b[q][me],U)}q<b.length-1&&(!ne||0<te&&!re)&&(ee+=d)}}return ee}function E(R,b){var ne,ee;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(ee=!1,m&&typeof R=="string"&&m.test(R)&&(R="'"+R,ee=!0),ne=R.toString().replace(p,W),(ee=ee||l===!0||typeof l=="function"&&l(R,b)||Array.isArray(l)&&l[b]||((se,pe)=>{for(var M=0;M<pe.length;M++)if(-1<se.indexOf(pe[M]))return!0;return!1})(ne,u.BAD_DELIMITERS)||-1<ne.indexOf(v)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?k+ne+k:ne)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!i.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=z,u.ParserHandle=I,u.NetworkStreamer=O,u.FileStreamer=x,u.StringStreamer=j,u.ReadableStreamStreamer=B,i.jQuery&&((o=i.jQuery).fn.parse=function(a){var t=a.config||{},l=[];return this.each(function(d){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var k=0;k<this.files.length;k++)l.push({file:this.files[k],inputElem:this,instanceConfig:o.extend({},t)})}),_(),this;function _(){if(l.length===0)A(a.complete)&&a.complete();else{var d,k,W,S,y=l[0];if(A(a.before)){var m=a.before(y.file,y.inputElem);if(typeof m=="object"){if(m.action==="abort")return d="AbortError",k=y.file,W=y.inputElem,S=m.reason,void(A(a.error)&&a.error({name:d},k,W,S));if(m.action==="skip")return void v();typeof m.config=="object"&&(y.instanceConfig=o.extend(y.instanceConfig,m.config))}else if(m==="skip")return void v()}var p=y.instanceConfig.complete;y.instanceConfig.complete=function(V){A(p)&&p(V,y.file,y.inputElem),v()},u.parse(y.file,y.instanceConfig)}}function v(){l.splice(0,1),_()}}),c&&(i.onmessage=function(a){a=a.data,u.WORKER_ID===void 0&&a&&(u.WORKER_ID=a.workerId),typeof a.input=="string"?i.postMessage({workerId:u.WORKER_ID,results:u.parse(a.input,a.config),finished:!0}):(i.File&&a.input instanceof File||a.input instanceof Object)&&(a=u.parse(a.input,a.config))&&i.postMessage({workerId:u.WORKER_ID,results:a,finished:!0})}),(O.prototype=Object.create(w.prototype)).constructor=O,(x.prototype=Object.create(w.prototype)).constructor=x,(j.prototype=Object.create(j.prototype)).constructor=j,(B.prototype=Object.create(w.prototype)).constructor=B,u})})(Je)),Je.exports}var Fr=Dr();const Ct=Ar(Fr);class ve{entries;constructor(e){this.entries=e}static fromRows(e){return new ve(e.map(n=>{const i={},o=[];return Object.entries(n).forEach(([s,c])=>{if(c==="inf")o.push(1/0);else if(isNaN(c)){i[s]=c;return}else o.push(Number(c))}),{index:i,data:o}}))}static empty(){return new ve([])}static concatenate(e){return new ve(e.flatMap(n=>n?.toArray()||[]))}filterByCriteria(e){const n=this.entries.filter(i=>Object.entries(e).every(([o,s])=>Object.keys(i.index).includes(o)?s.includes(i.index[o]):!0));return new ve(n)}filterDataByIndex(e){const n=this.entries.map(i=>({index:i.index,data:e.map(o=>i.data[o])}));return new ve(n)}groupBy(e){const n={},i={};return this.entries.forEach(o=>{const s=Object.fromEntries(e.map(f=>[f,o.index[f]])),c=Object.values(s).join("_");i[c]||(i[c]=s),n[c]?o.data.forEach((f,g)=>{n[c][g]+=Number(f)}):n[c]=o.data.slice()}),new ve(Object.entries(n).map(([o,s])=>({index:i[o],data:s})))}normalize(){const e=s=>{const c=[];return this.entries.forEach(f=>{f.data.forEach((g,u)=>{const w=s(g);w<=0||(c[u]=(c[u]??0)+w)})}),c},n=e(s=>s),i=e(s=>-s),o=this.entries.map(s=>({index:s.index,data:s.data.reduce((c,f,g)=>(n[g]>0?c[g]=f/n[g]:i[g]>0?c[g]=f/i[g]:c[g]=0,c),[])}));return new ve(o)}dump(){return this.entries.length===0?console.log("No entries to display."):this.entries[0].data.length+Object.keys(this.entries[0].index).length>20?(console.warn("Data too wide to display all columns, showing sums instead."),console.table(this.entries.map(e=>({...e.index,sum:e.data.reduce((n,i)=>n+i,0)})))):console.table(this.entries.map(e=>({...e.index,...Object.fromEntries(e.data.map((n,i)=>[i.toString(),n]))}))),this}mapData(e){const n=this.entries.map(i=>({index:i.index,data:i.data.map(e)}));return new ve(n)}mapIndex(e){const n=this.entries.map((i,o,s)=>({index:e(i.index,o,s),data:i.data}));return new ve(n)}mapEntries(e){const n=this.entries.map(i=>e(i.index,i.data));return new ve(n)}*[Symbol.iterator](){yield*this.entries[Symbol.iterator]()}forEach(e){return this.entries.forEach(e),this}reduce(e,n){return this.entries.reduce(e,n)}find(e){return this.entries.find(e)}filter(e){return new ve(this.entries.filter(e))}get length(){return this.entries.length}get(e){return this.entries[e]}toArray(){return this.entries}}async function Mr(){const r=ze.PUBLIC_TEMPLE_URL+"solutions/list",e=await fetch(r,{cache:"no-store"});if(!e.ok)return alert("could not fetch "+r),[];const n=await e.json();return n.sort((i,o)=>i.name.localeCompare(o.name)),n}async function Ur(r){const e=new URL(ze.PUBLIC_TEMPLE_URL+"solutions/detail");e.searchParams.set("solution_name",r);const n=e.toString(),i=await fetch(n,{cache:"no-store"});if(!i.ok)throw alert("Could not fetch "+n),new Error("Could not fetch "+n);return await i.json()}async function ka(r,e){const n=new URL(ze.PUBLIC_TEMPLE_URL+"solutions/unit");n.searchParams.set("solution_name",r),n.searchParams.set("component",e);const i=n.toString(),o=await(await fetch(i,{cache:"no-store"})).json();return pt(o)}async function xa(r,e,n,i="",o=""){const s=new URL(ze.PUBLIC_TEMPLE_URL+"solutions/total");s.searchParams.set("solution_name",r),s.searchParams.set("components",e.join(",")),s.searchParams.set("scenario",n),i!==""&&s.searchParams.set("carrier",i),s.searchParams.set("unit_component",o);const c=s.toString(),f=await fetch(c,{cache:"no-store"});if(!f.ok)throw alert("Error when fetching "+c),new Error("Error when fetching "+c);const g=await f.json();for(const u in g)u=="unit"||g[u]===void 0||(g[u]=Nr(zr(g[u])));return g.unit=pt(g.unit||""),g}async function Sa(r,e,n,i="",o=0,s=1,c=""){const f=new URL(ze.PUBLIC_TEMPLE_URL+"solutions/full_ts");f.searchParams.set("solution_name",r),f.searchParams.set("components",e.join(",")),f.searchParams.set("unit_component",i),f.searchParams.set("scenario_name",n),f.searchParams.set("year",o.toString()),f.searchParams.set("rolling_average_window_size",s.toString()),c!==""&&f.searchParams.set("carrier",c);const g=f.toString(),u=await fetch(g,{cache:"no-store"});if(!u.ok)throw alert("Error when fetching "+g),new Error("Error when fetching "+g);const w=await u.json(),O=Object.fromEntries(Object.entries(w).map(([x,j])=>x=="unit"||j===void 0?null:[x,Ot(j)]).filter(x=>x!==null));return{unit:pt(w.unit||""),components:O}}async function Ea(r,e,n,i,o,s){const c=new URL(ze.PUBLIC_TEMPLE_URL+"solutions/energy_balance");c.searchParams.set("solution_name",r),c.searchParams.set("node",e),c.searchParams.set("carrier",n),c.searchParams.set("scenario_name",i),c.searchParams.set("year",o.toString()),c.searchParams.set("rolling_average_window_size",s.toString());const f=c.toString(),g=await fetch(f,{cache:"no-store"});if(!g.ok)throw alert("Could not fetch "+f),new Error("Could not fetch "+f);const u=await g.json(),w=["shed_demand","demand","flow_conversion_input","flow_export","flow_import","flow_storage_charge","flow_storage_discharge","flow_transport_in","flow_transport_out","cost_shed_demand","flow_conversion_output","constraint_nodal_energy_balance"],O={};for(const x of w)u[x]!==void 0&&(O[x]=Ot(u[x]));return O}function zr(r){if(r.slice(0,r.indexOf(`
`)).split(",").length==2){const o=r.split(`
`);let s="",c="";for(const f of o.slice(1,o.length)){if(f=="")continue;const g=f.split(",");s+=g[0]+",",c+=g[1]+","}r=s.substring(0,s.length-1)+`
`+c.substring(0,c.length-1)}return r.slice(-1)==`
`&&(r=r.slice(0,-1)),Ct.parse(r,{delimiter:",",header:!0,newline:`
`})}function Ot(r){return new ve(r.map(e=>{let{d:n,t:i,...o}=e;const[s,c]=i;let f=0;return n=n.map(g=>f+=g),n=n.map(g=>g*c+s),{index:o,data:n}}))}function pt(r){return r.slice(-1)==`
`&&(r=r.slice(0,r.length-1)),Ct.parse(r,{delimiter:",",header:!0,newline:`
`})}function Nr(r){return r.data=r.data.filter(e=>Object.keys(e).some(n=>!Number.isNaN(Number(n))&&!Number.isNaN(e[n])&&Math.abs(e[n])>0)),r}let ct=de(De([]));const nt={};let it=!1;function Br(){dt(async()=>{h(ct).length>0||it||(it=!0,ae(ct,await Mr(),!0),it=!1)})}function xt(){return h(ct)}async function qr(r){if(nt[r])return nt[r];const e=await Ur(r);return e&&(nt[r]=e),e}function Wr(r,e,n){return{solution_name:r,scenario_name:e,detail:n.scenarios[e],version:n.version,objective:n.objective}}function Hr(r){return[...Array(r.system.optimized_years).keys()].map(e=>e*r.system.interval_between_years+r.system.reference_year)}var Kr=K("<!> <!> <!>",1);function Ra(r,e){Ke(e,!0),Br();let n=G(e,"carriers",31,()=>De([])),i=G(e,"nodes",31,()=>De([])),o=G(e,"years",31,()=>De([])),s=G(e,"selected_solution",15),c=G(e,"activeFirstLevel",15,""),f=G(e,"activeSecondLevel",15,""),g=G(e,"activeScenario",15,""),u=G(e,"excludeSolutions",19,()=>[]),w=G(e,"loading",15,!1),O=G(e,"disabled",3,!0),x=G(e,"withoutSolution",3,!1),j=G(e,"urlParamSolution",3,"solution"),B=G(e,"urlParamScenario",3,"scenario"),I=Oe(()=>nr(xt().map(S=>S.name.split(".")[0]))),T=Oe(()=>{if(c()=="")return[];const S=new Set(u().map(m=>m[0])),y=[];return xt().forEach(m=>{const p=m.name.split(".");m.name.startsWith(c())&&p.length>1&&(m.scenarios.length>0||!S.has(p[1]))&&y.push(p[1])}),y}),z=de(De([])),Y=Oe(()=>{const S=new Set(u().filter(y=>y[0]==f()).map(y=>y[1]));return h(z).filter(y=>!S.has(y))}),ie=Oe(()=>h(I).length>0&&h(T).length==0?c()||null:c()&&f()?`${c()}.${f()}`:null),F=de(!0),Z=de(!0);dt(async()=>{if(j()==null||B()==null)return;const S=bt(j())?.split(".")||["",""];c(S[0]),f(S[1]),g(bt(B())||"")}),Te(()=>{h(ie),g(),Fe(J)}),Te(()=>{s(),ot().then(()=>{j()==null||B()==null||s()==null||Kt({[j()]:s().solution_name,[B()]:h(Y).length>1?s().scenario_name:null})})}),Te(()=>{if(!s()){n([]),i([]),o([]);return}n(s().detail.system.set_carriers.slice().sort()),i(s().detail.system.set_nodes.slice().sort()),o(Hr(s().detail))}),Te(()=>{c(),Fe(()=>{if(h(F)){ae(F,!1);return}f(h(T).length===1?h(T)[0]:""),g("")})}),Te(()=>{f(),Fe(()=>{if(h(Z)){ae(Z,!1);return}g("")})}),Te(()=>{h(T).length===1&&f(h(T)[0])});async function J(){if(await ot(),h(ie)===null){s(null),ae(z,[],!0);return}if(s()!==null&&s().solution_name===h(ie)&&s().scenario_name===g())return;w(!0);const S=await qr(h(ie));if(ae(z,Object.keys(S.scenarios),!0),h(Y).length==1&&g(h(Y)[0]),g()==""||!(g()in S.scenarios)){g(""),s(null),w(!1);return}s(Wr(h(ie),g(),S)),e.solutionSelected?.(s()),w(!1)}function A(){return c()==""?!1:h(T).length>1||h(Y).length>1}var a={moreSolutionsExist:A},t=Kr(),l=je(t);{var _=S=>{at(S,{label:"Solution",get disabled(){return O()},get options(){return h(I)},get value(){return c()},set value(m){c(m)},helpText:m=>{Pe();var p=$e("Select the name of the solution for which to visualize results.");N(m,p)},$$slots:{helpText:!0}})};fe(l,S=>{x()||S(_)})}var v=$(l,2);{var d=S=>{at(S,{label:"Subsolution",get disabled(){return O()},get options(){return h(T)},get value(){return f()},set value(m){f(m)},helpText:m=>{Pe();var p=$e("Select the subsolution for which to visualize results.");N(m,p)},$$slots:{helpText:!0}})};fe(v,S=>{h(T).length>0&&S(d)})}var k=$(v,2);{var W=S=>{at(S,{label:"Scenario",get disabled(){return O()},get options(){return h(Y)},get value(){return g()},set value(m){g(m)},helpText:m=>{Pe();var p=$e("Select the scenario for which to visualize results.");N(m,p)},$$slots:{helpText:!0}})};fe(k,S=>{h(z).length>1&&S(W)})}return N(r,t),Qe(a)}var Qr=K("<div><!></div>");function Zr(r,e){let n=G(e,"class",3,""),i=G(e,"noPadding",3,!1);var o=Qr(),s=D(o);Le(s,()=>e.children),P(o),ue(()=>ge(o,1,_e(["bg-white dark:bg-gray-800","shadow-lg shadow-black/10 dark:shadow-white/5","rounded-lg","mb-4",!i()&&"p-4",n()]))),N(r,o)}var Gr=K('<div class="[&amp;:not(:last-child)]:border-b border-gray-300 dark:border-gray-600 p-4 [&amp;:first-child]:pt-0"><h3 class="sr-only"> </h3> <!></div>');function Ca(r,e){var n=Gr(),i=D(n),o=D(i,!0);P(i);var s=$(i,2);Le(s,()=>e.children??Ce),P(n),ue(()=>be(o,e.title)),N(r,n)}const Ue=[["rgb(122, 157, 207)","rgb(8, 64, 126)","rgb(166, 190, 223)","rgb(33, 92, 175)","rgb(211, 222, 239)","rgb(77, 125, 191)"],["rgb(212, 134, 129)","rgb(150, 39, 45)","rgb(226, 174, 171)","rgb(183, 53, 45)","rgb(241, 215, 213)","rgb(197, 93, 87)"],["rgb(102, 175, 192)","rgb(0, 89, 109)","rgb(153, 202, 213)","rgb(0, 120, 148)","rgb(204, 228, 234)","rgb(51, 149, 171)"],["rgb(202, 108, 174)","rgb(140, 10, 89)","rgb(220, 158, 201)","rgb(167, 17, 122)","rgb(239, 208, 227)","rgb(183, 59, 146)"],["rgb(161, 171, 113)","rgb(54, 82, 19)","rgb(192, 199, 161)","rgb(98, 115, 19)","rgb(224, 227, 208)","rgb(129, 143, 66)"],["rgb(187, 164, 113)","rgb(112, 79, 18)","rgb(210, 194, 161)","rgb(142, 103, 19)","rgb(232, 225, 208)","rgb(165, 133, 66)"]];let We=0,He=0,Ve={};function Oa(){We=0,He=0,Ve={}}function La(r){if(r!==void 0&&Ve[r]!==void 0)return Ve[r];We>=Ue.length&&(We=0,He++,He>=Ue[0].length&&(He=0));const e=Ue[We][He];return We++,r!==void 0&&(Ve[r]=e),e}function Ta(r,e=.8){return r.replace("rgb","rgba").replace(")",`, ${e})`)}function Pa(){const r=[];for(let e=0;e<Ue.length;e++)for(let n=0;n<Ue[0].length;n++)r.push(Ue[n][e]);return r}function Jr(r,e){ae(e,!h(e))}var Vr=K('<div class="text-sm text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-1"> </div>'),Yr=K('<div class="text-gray-600 dark:text-gray-400 mt-1 text-xl"> </div>'),Xr=K('<i class="bi bi-chevron-right"></i>'),$r=K('<i class="bi bi-chevron-left"></i>'),ea=K('<div class="text-md font-bold text-gray-600 dark:text-gray-400 [writing-mode:sideways-lr] mt-2">Selection</div>'),ta=K('<div class="flex justify-between w-full"><h2>Selection</h2> <button><!> <span class="sr-only">Toggle selection sidebar</span></button></div> <!> <div><!></div>',1),ra=K('<div><div class="flex items-end justify-between"><div><!> <h1 class="text-3xl font-bold"> </h1> <!></div></div> <div><!></div></div> <div><div class="col-span-1 order-2 lg:order-3 pb-4"><!></div> <main class="order-4 col-span-1"><!></main></div>',1);function ja(r,e){let n=de(!1);var i=ra(),o=je(i);ge(o,1,_e(["grid grid-cols-1","lg:flex lg:justify-between","gap-x-4 p-4 pb-0"]));var s=D(o),c=D(s),f=D(c);{var g=F=>{var Z=Vr(),J=D(Z,!0);P(Z),ue(()=>be(J,e.parentTitle)),N(F,Z)};fe(f,F=>{e.parentTitle&&F(g)})}var u=$(f,2),w=D(u,!0);P(u);var O=$(u,2);{var x=F=>{var Z=Yr(),J=D(Z,!0);P(Z),ue(()=>be(J,e.subtitle)),N(F,Z)};fe(O,F=>{e.subtitle&&F(x)})}P(c),P(s);var j=$(s,2),B=D(j);Le(B,()=>e.buttons??Ce),P(j),P(o);var I=$(o,2),T=D(I),z=D(T);{let F=Oe(()=>"flex flex-col items-center"+(h(n)?" h-full":""));Zr(z,{noPadding:!0,get class(){return h(F)},children:(Z,J)=>{var A=ta(),a=je(A),t=D(a),l=$(t,2);ge(l,1,_e(["hidden lg:block","rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200","p-2 mt-2 mx-2"])),l.__click=[Jr,n];var _=D(l);{var v=m=>{var p=Xr();N(m,p)},d=m=>{var p=$r();N(m,p)};fe(_,m=>{h(n)?m(v):m(d,!1)})}Pe(2),P(l),P(a);var k=$(a,2);{var W=m=>{var p=ea();N(m,p)};fe(k,m=>{h(n)&&m(W)})}var S=$(k,2),y=D(S);Le(y,()=>e.filters),P(S),ue(()=>{ge(t,1,_e(["font-bold text-lg px-4 pt-4 pb-2 text-ellipsis",h(n)&&"sr-only"])),ge(S,1,_e(["w-full",h(n)&&"sr-only"]))}),N(Z,A)},$$slots:{default:!0}})}P(T);var Y=$(T,2),ie=D(Y);Le(ie,()=>e.mainContent),P(Y),P(I),ue(()=>{be(w,e.pageTitle),ge(I,1,_e(["grid grid-cols-1","grow gap-x-4 p-4",h(n)?"lg:grid-cols-[min-content_1fr]":"lg:grid-cols-[calc(25%-0.5rem)_calc(75%-0.5rem)]"]))}),N(r,i)}Ye(["click"]);var aa=(r,e)=>e.onclick?.(),na=K("<button><!></button>");function Aa(r,e){Ke(e,!0);let n=G(e,"class",3,""),i=G(e,"disabled",3,!1);var o=na();o.__click=[aa,e];var s=D(o);Le(s,()=>e.children),P(o),ue(()=>{ge(o,1,_e(["flex","text-blue-800 dark:text-blue-400","border-2 border-blue-800 dark:border-blue-400 rounded-lg","hover:bg-gray-300 dark:hover:bg-gray-800","px-4 py-2","disabled:opacity-50 disabled:cursor-not-allowed",n()])),o.disabled=i()}),N(r,o),Qe()}Ye(["click"]);var ia=K('<div class="flex flex-col items-center mt-8 md:mt-30" role="status"><svg class="h-40 w-40" version="1.1" viewBox="-1.5 -0.8 12.0 10.6"><path d="M3.28 10.671 3.79941,4.975 4.318,10.671 Z" class="fill-gray-500 dark:fill-gray-400"></path><circle cx="3.78" cy="4.215" r=".42995" class="fill-gray-500 dark:fill-gray-400"></circle><g class="animate-[spin_2s_linear_infinite] fill-none stroke-gray-500 dark:stroke-gray-400" stroke-width=".5"><path d="m3.11 4.7-2.9772 1.7189"></path><path d="m4.52 4.718 2.9772 1.7189"></path><path d="m3.78 3.438v-3.4378"></path></g></svg> <span class="text-gray-500 dark:text-gray-400 text-3xl mt-8">Loading ...</span></div>');function Ia(r){var e=ia(),n=D(e),i=$(D(n),2);lt(i,"",{},{"transform-origin":"3.78px 4.215px;"}),P(n),Pe(2),P(e),N(r,e)}var sa=K('<div class="flex flex-col items-center mt-8 md:mt-30" role="status"><svg class="h-40 w-40" viewBox="-1.5 -0.8 12.0 10.6"><path d="M3.28,10.671 3.79941,4.975 4.318,10.671 Z" class="fill-gray-500 dark:fill-gray-400"></path><circle cx="3.78" cy="4.215" r="0.42995" class="fill-gray-500 dark:fill-gray-400"></circle><g class="fill-none stroke-gray-500 dark:stroke-gray-400" stroke-width="0.5"><path d="m3.11 4.7-2.9772 1.7189"></path><path d="m4.52 6.918 2.9772 1.7189"></path><path d="m3.78 3.438v-3.4378"></path></g><path class="fill-gray-500 dark:fill-gray-400" d="M 5.4003906,1.8867187 4.44,2.8124997 9.7128906,2.812 V 1.887 c -1.437499,-6.692e-4 -2.8750003,-2.813e-4 -4.3125,-2.813e-4 z m 0.046875,0.2265626 H 9.4863281 V 2.5859375 H 4.9726562 Z"></path><g class="fill-none stroke-gray-500 dark:stroke-gray-400" stroke-width="0.2"><path d="M8,9.9 V 2.7"></path><path d="M8.7,9.9 V 2.7"></path><path d="m8.0 9.8 0.7 0"></path><path d="m8.0 9.8 0.7 -0.7"></path><path d="m8.7 9.1 -0.7 -0.7"></path><path d="m8.0 8.4 0.7 -0.7"></path><path d="m8.7 7.7 -0.7 -0.7"></path><path d="m8.0 7.0 0.7 -0.7"></path><path d="m8.7 6.3 -0.7 -0.7"></path><path d="m8.0 5.6 0.7 -0.7"></path><path d="m8.7 4.9 -0.7 -0.7"></path><path d="m8.0 4.2 0.7 -0.7"></path><path d="m8.7 3.5 -0.7 -0.7"></path><path d="m5.4 2.0 0.7 0.7"></path><path d="m6.1 2.7 0.7 -0.7"></path><path d="m6.8 2.0 0.7 0.7"></path><path d="m7.5 2.7 0.7 -0.7"></path><path d="m8.2 2.0 0.7 0.7"></path><path d="m8.9 2.7 0.7 -0.7"></path><path d="M 6.3535526,5.7714951 4.7001773,6.789784 M 6.3286408,5.7355339 7.5259047,8.4620005 M 6.31,2.7136504 6.3210485,5.7702329"></path></g></svg> <div class="text-gray-500 dark:text-gray-400 text-3xl mt-8"> </div></div>');function Da(r,e){var n=sa(),i=$(D(n),2),o=D(i,!0);P(i),P(n),ue(()=>be(o,e.message)),N(r,n)}export{Aa as B,Zr as C,ja as D,ve as E,Ca as F,fr as H,Ra as S,Da as W,ka as a,at as b,Ia as c,Sa as d,nr as e,Ea as f,xa as g,Ta as h,gr as i,_a as j,Tr as k,ya as l,ma as m,La as n,Hr as o,Ar as p,Pa as q,Oa as r,rr as s,ba as t,wa as u};

import"../chunks/DsnmJJEf.js";import{c as ei,s as sn,o as ri}from"../chunks/jKWSmWmB.js";import{b as ii,p as Rr,v as kn,i as z,k as nt,q as Cn,l as en,e as We,be as oi,m as vt,g as o,h as Y,a as Ar,f as wt,u as D,s as ut,o as Pn,c as _t,r as lt,t as Ot,w as me,j as ai,n as He,F as Ke}from"../chunks/DAlzfk79.js";import{i as yt}from"../chunks/CuNXTB5A.js";import{b as Tr}from"../chunks/gxe5upM2.js";import{R as li}from"../chunks/DnfI2MPE.js";import{q as ui,c as br,C as Qe,D as si,g as ci,e as fi,F as _e,S as hi,b as Vn,B as Je,W as tr}from"../chunks/CrYqV5xP.js";import{_ as Bn}from"../chunks/BXl3LOEh.js";import{e as cn,i as pi,u as gi,g as ye}from"../chunks/B5O290y9.js";import{a as di}from"../chunks/B0yRDBcJ.js";import{s as dt,a as vi,c as mi}from"../chunks/D9U3jPEw.js";import{p as Ee}from"../chunks/CvLwV7-q.js";import{f as _i,s as Re,i as Ae,g as yi,T as Ei,p as ne}from"../chunks/BMW1TMf0.js";import{E as Si}from"../chunks/D74ROtS8.js";class pn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const c=r[i],f=n+c,s=Math.abs(n)<Math.abs(c)?n-(f-c):c-(f-n);s&&(r[e++]=s),n=f}return r[e]=n,this._n=e+1,this}valueOf(){const n=this._partials;let r=this._n,e,i,c,f=0;if(r>0){for(f=n[--r];r>0&&(e=f,i=n[--r],f=e+i,c=i-(f-e),!c););r>0&&(c<0&&n[r-1]<0||c>0&&n[r-1]>0)&&(i=c*2,e=f+i,i==e-f&&(f=e))}return f}}class nr extends Map{constructor(n,r=wi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[e,i]of n)this.set(e,i)}get(n){return super.get(er(this,n))}has(n){return super.has(er(this,n))}set(n,r){return super.set(xi(this,n),r)}delete(n){return super.delete(Mi(this,n))}}function er({_intern:t,_key:n},r){const e=n(r);return t.has(e)?t.get(e):r}function xi({_intern:t,_key:n},r){const e=n(r);return t.has(e)?t.get(e):(t.set(e,r),r)}function Mi({_intern:t,_key:n},r){const e=n(r);return t.has(e)&&(r=t.get(e),t.delete(e)),r}function wi(t){return t!==null&&typeof t=="object"?t.valueOf():t}function*$i(t){for(const n of t)yield*n}function Nr(t){return Array.from($i(t))}const Te=Math.PI,be=2*Te,hn=1e-6,Pi=be-hn;function kr(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=arguments[n]+t[n]}function Ri(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return kr;const r=10**n;return function(e){this._+=e[0];for(let i=1,c=e.length;i<c;++i)this._+=Math.round(arguments[i]*r)/r+e[i]}}class Ai{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?kr:Ri(n)}moveTo(n,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,r){this._append`L${this._x1=+n},${this._y1=+r}`}quadraticCurveTo(n,r,e,i){this._append`Q${+n},${+r},${this._x1=+e},${this._y1=+i}`}bezierCurveTo(n,r,e,i,c,f){this._append`C${+n},${+r},${+e},${+i},${this._x1=+c},${this._y1=+f}`}arcTo(n,r,e,i,c){if(n=+n,r=+r,e=+e,i=+i,c=+c,c<0)throw new Error(`negative radius: ${c}`);let f=this._x1,s=this._y1,d=e-n,h=i-r,a=f-n,l=s-r,u=a*a+l*l;if(this._x1===null)this._append`M${this._x1=n},${this._y1=r}`;else if(u>hn)if(!(Math.abs(l*d-h*a)>hn)||!c)this._append`L${this._x1=n},${this._y1=r}`;else{let p=e-f,g=i-s,m=d*d+h*h,_=p*p+g*g,S=Math.sqrt(m),x=Math.sqrt(u),M=c*Math.tan((Te-Math.acos((m+u-_)/(2*S*x)))/2),y=M/x,$=M/S;Math.abs(y-1)>hn&&this._append`L${n+y*a},${r+y*l}`,this._append`A${c},${c},0,0,${+(l*p>a*g)},${this._x1=n+$*d},${this._y1=r+$*h}`}}arc(n,r,e,i,c,f){if(n=+n,r=+r,e=+e,f=!!f,e<0)throw new Error(`negative radius: ${e}`);let s=e*Math.cos(i),d=e*Math.sin(i),h=n+s,a=r+d,l=1^f,u=f?i-c:c-i;this._x1===null?this._append`M${h},${a}`:(Math.abs(this._x1-h)>hn||Math.abs(this._y1-a)>hn)&&this._append`L${h},${a}`,e&&(u<0&&(u=u%be+be),u>Pi?this._append`A${e},${e},0,1,${l},${n-s},${r-d}A${e},${e},0,1,${l},${this._x1=h},${this._y1=a}`:u>hn&&this._append`A${e},${e},0,${+(u>=Te)},${l},${this._x1=n+e*Math.cos(c)},${this._y1=r+e*Math.sin(c)}`)}rect(n,r,e,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}h${e=+e}v${+i}h${-e}Z`}toString(){return this._}}var J=1e-6,F=Math.PI,At=F/2,rr=F/4,bt=F*2,Tt=180/F,ft=F/180,et=Math.abs,Or=Math.atan,zn=Math.atan2,st=Math.cos,Ti=Math.exp,bi=Math.log,ct=Math.sin,Ni=Math.sign||function(t){return t>0?1:t<0?-1:0},dn=Math.sqrt,ki=Math.tan;function Oi(t){return t>1?0:t<-1?F:Math.acos(t)}function Fn(t){return t>1?At:t<-1?-At:Math.asin(t)}function jt(){}function ee(t,n){t&&or.hasOwnProperty(t.type)&&or[t.type](t,n)}var ir={Feature:function(t,n){ee(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,e=-1,i=r.length;++e<i;)ee(r[e].geometry,n)}},or={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)t=r[e],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ne(t.coordinates,n,0)},MultiLineString:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)Ne(r[e],n,0)},Polygon:function(t,n){ar(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)ar(r[e],n)},GeometryCollection:function(t,n){for(var r=t.geometries,e=-1,i=r.length;++e<i;)ee(r[e],n)}};function Ne(t,n,r){var e=-1,i=t.length-r,c;for(n.lineStart();++e<i;)c=t[e],n.point(c[0],c[1],c[2]);n.lineEnd()}function ar(t,n){var r=-1,e=t.length;for(n.polygonStart();++r<e;)Ne(t[r],n,1);n.polygonEnd()}function Sn(t,n){t&&ir.hasOwnProperty(t.type)?ir[t.type](t,n):ee(t,n)}function ke(t){return[zn(t[1],t[0]),Fn(t[2])]}function wn(t){var n=t[0],r=t[1],e=st(r);return[e*st(n),e*ct(n),ct(r)]}function Un(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function re(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Se(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Wn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Oe(t){var n=dn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Le(t,n){function r(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(r.invert=function(e,i){return e=n.invert(e,i),e&&t.invert(e[0],e[1])}),r}function je(t,n){return et(t)>F&&(t-=Math.round(t/bt)*bt),[t,n]}je.invert=je;function Lr(t,n,r){return(t%=bt)?n||r?Le(ur(t),sr(n,r)):ur(t):n||r?sr(n,r):je}function lr(t){return function(n,r){return n+=t,et(n)>F&&(n-=Math.round(n/bt)*bt),[n,r]}}function ur(t){var n=lr(t);return n.invert=lr(-t),n}function sr(t,n){var r=st(t),e=ct(t),i=st(n),c=ct(n);function f(s,d){var h=st(d),a=st(s)*h,l=ct(s)*h,u=ct(d),p=u*r+a*e;return[zn(l*i-p*c,a*r-u*e),Fn(p*i+l*c)]}return f.invert=function(s,d){var h=st(d),a=st(s)*h,l=ct(s)*h,u=ct(d),p=u*i-l*c;return[zn(l*i+u*c,a*r+p*e),Fn(p*r-a*e)]},f}function Li(t){t=Lr(t[0]*ft,t[1]*ft,t.length>2?t[2]*ft:0);function n(r){return r=t(r[0]*ft,r[1]*ft),r[0]*=Tt,r[1]*=Tt,r}return n.invert=function(r){return r=t.invert(r[0]*ft,r[1]*ft),r[0]*=Tt,r[1]*=Tt,r},n}function ji(t,n,r,e,i,c){if(r){var f=st(n),s=ct(n),d=e*r;i==null?(i=n+e*bt,c=n-d/2):(i=cr(f,i),c=cr(f,c),(e>0?i<c:i>c)&&(i+=e*bt));for(var h,a=i;e>0?a>c:a<c;a-=d)h=ke([f,-s*st(a),-s*ct(a)]),t.point(h[0],h[1])}}function cr(t,n){n=wn(n),n[0]-=t,Oe(n);var r=Oi(-n[1]);return((-n[2]<0?-r:r)+bt-J)%bt}function jr(){var t=[],n;return{point:function(r,e,i){n.push([r,e,i])},lineStart:function(){t.push(n=[])},lineEnd:jt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function Jn(t,n){return et(t[0]-n[0])<J&&et(t[1]-n[1])<J}function Hn(t,n,r,e){this.x=t,this.z=n,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Dr(t,n,r,e,i){var c=[],f=[],s,d;if(t.forEach(function(g){if(!((m=g.length-1)<=0)){var m,_=g[0],S=g[m],x;if(Jn(_,S)){if(!_[2]&&!S[2]){for(i.lineStart(),s=0;s<m;++s)i.point((_=g[s])[0],_[1]);i.lineEnd();return}S[0]+=2*J}c.push(x=new Hn(_,g,null,!0)),f.push(x.o=new Hn(_,null,x,!1)),c.push(x=new Hn(S,g,null,!1)),f.push(x.o=new Hn(S,null,x,!0))}}),!!c.length){for(f.sort(n),fr(c),fr(f),s=0,d=f.length;s<d;++s)f[s].e=r=!r;for(var h=c[0],a,l;;){for(var u=h,p=!0;u.v;)if((u=u.n)===h)return;a=u.z,i.lineStart();do{if(u.v=u.o.v=!0,u.e){if(p)for(s=0,d=a.length;s<d;++s)i.point((l=a[s])[0],l[1]);else e(u.x,u.n.x,1,i);u=u.n}else{if(p)for(a=u.p.z,s=a.length-1;s>=0;--s)i.point((l=a[s])[0],l[1]);else e(u.x,u.p.x,-1,i);u=u.p}u=u.o,a=u.z,p=!p}while(!u.v);i.lineEnd()}}}function fr(t){if(n=t.length){for(var n,r=0,e=t[0],i;++r<n;)e.n=i=t[r],i.p=e,e=i;e.n=i=t[0],i.p=e}}function xe(t){return et(t[0])<=F?t[0]:Ni(t[0])*((et(t[0])+F)%bt-F)}function Di(t,n){var r=xe(n),e=n[1],i=ct(e),c=[ct(r),-st(r),0],f=0,s=0,d=new pn;i===1?e=At+J:i===-1&&(e=-At-J);for(var h=0,a=t.length;h<a;++h)if(u=(l=t[h]).length)for(var l,u,p=l[u-1],g=xe(p),m=p[1]/2+rr,_=ct(m),S=st(m),x=0;x<u;++x,g=y,_=R,S=N,p=M){var M=l[x],y=xe(M),$=M[1]/2+rr,R=ct($),N=st($),T=y-g,O=T>=0?1:-1,j=O*T,P=j>F,I=_*R;if(d.add(zn(I*O*ct(j),S*N+I*st(j))),f+=P?T+O*bt:T,P^g>=r^y>=r){var E=re(wn(p),wn(M));Oe(E);var w=re(c,E);Oe(w);var v=(P^T>=0?-1:1)*Fn(w[2]);(e>v||e===v&&(E[0]||E[1]))&&(s+=P^T>=0?1:-1)}}return(f<-J||f<J&&d<-1e-12)^s&1}function Ir(t,n,r,e){return function(i){var c=n(i),f=jr(),s=n(f),d=!1,h,a,l,u={point:p,lineStart:m,lineEnd:_,polygonStart:function(){u.point=S,u.lineStart=x,u.lineEnd=M,a=[],h=[]},polygonEnd:function(){u.point=p,u.lineStart=m,u.lineEnd=_,a=Nr(a);var y=Di(h,e);a.length?(d||(i.polygonStart(),d=!0),Dr(a,Ci,y,r,i)):y&&(d||(i.polygonStart(),d=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),a=h=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(y,$){t(y,$)&&i.point(y,$)}function g(y,$){c.point(y,$)}function m(){u.point=g,c.lineStart()}function _(){u.point=p,c.lineEnd()}function S(y,$){l.push([y,$]),s.point(y,$)}function x(){s.lineStart(),l=[]}function M(){S(l[0][0],l[0][1]),s.lineEnd();var y=s.clean(),$=f.result(),R,N=$.length,T,O,j;if(l.pop(),h.push(l),l=null,!!N){if(y&1){if(O=$[0],(T=O.length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),R=0;R<T;++R)i.point((j=O[R])[0],j[1]);i.lineEnd()}return}N>1&&y&2&&$.push($.pop().concat($.shift())),a.push($.filter(Ii))}}return u}}function Ii(t){return t.length>1}function Ci(t,n){return((t=t.x)[0]<0?t[1]-At-J:At-t[1])-((n=n.x)[0]<0?n[1]-At-J:At-n[1])}const hr=Ir(function(){return!0},zi,qi,[-F,-At]);function zi(t){var n=NaN,r=NaN,e=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(c,f){var s=c>0?F:-F,d=et(c-n);et(d-F)<J?(t.point(n,r=(r+f)/2>0?At:-At),t.point(e,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(c,r),i=0):e!==s&&d>=F&&(et(n-e)<J&&(n-=e*J),et(c-s)<J&&(c-=s*J),r=Fi(n,r,c,f),t.point(e,r),t.lineEnd(),t.lineStart(),t.point(s,r),i=0),t.point(n=c,r=f),e=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-i}}}function Fi(t,n,r,e){var i,c,f=ct(t-r);return et(f)>J?Or((ct(n)*(c=st(e))*ct(r)-ct(e)*(i=st(n))*ct(t))/(i*c*f)):(n+e)/2}function qi(t,n,r,e){var i;if(t==null)i=r*At,e.point(-F,i),e.point(0,i),e.point(F,i),e.point(F,0),e.point(F,-i),e.point(0,-i),e.point(-F,-i),e.point(-F,0),e.point(-F,i);else if(et(t[0]-n[0])>J){var c=t[0]<n[0]?F:-F;i=r*c/2,e.point(-c,i),e.point(0,i),e.point(c,i)}else e.point(n[0],n[1])}function Xi(t){var n=st(t),r=2*ft,e=n>0,i=et(n)>J;function c(a,l,u,p){ji(p,t,r,u,a,l)}function f(a,l){return st(a)*st(l)>n}function s(a){var l,u,p,g,m;return{lineStart:function(){g=p=!1,m=1},point:function(_,S){var x=[_,S],M,y=f(_,S),$=e?y?0:h(_,S):y?h(_+(_<0?F:-F),S):0;if(!l&&(g=p=y)&&a.lineStart(),y!==p&&(M=d(l,x),(!M||Jn(l,M)||Jn(x,M))&&(x[2]=1)),y!==p)m=0,y?(a.lineStart(),M=d(x,l),a.point(M[0],M[1])):(M=d(l,x),a.point(M[0],M[1],2),a.lineEnd()),l=M;else if(i&&l&&e^y){var R;!($&u)&&(R=d(x,l,!0))&&(m=0,e?(a.lineStart(),a.point(R[0][0],R[0][1]),a.point(R[1][0],R[1][1]),a.lineEnd()):(a.point(R[1][0],R[1][1]),a.lineEnd(),a.lineStart(),a.point(R[0][0],R[0][1],3)))}y&&(!l||!Jn(l,x))&&a.point(x[0],x[1]),l=x,p=y,u=$},lineEnd:function(){p&&a.lineEnd(),l=null},clean:function(){return m|(g&&p)<<1}}}function d(a,l,u){var p=wn(a),g=wn(l),m=[1,0,0],_=re(p,g),S=Un(_,_),x=_[0],M=S-x*x;if(!M)return!u&&a;var y=n*S/M,$=-n*x/M,R=re(m,_),N=Wn(m,y),T=Wn(_,$);Se(N,T);var O=R,j=Un(N,O),P=Un(O,O),I=j*j-P*(Un(N,N)-1);if(!(I<0)){var E=dn(I),w=Wn(O,(-j-E)/P);if(Se(w,N),w=ke(w),!u)return w;var v=a[0],k=l[0],Z=a[1],K=l[1],rt;k<v&&(rt=v,v=k,k=rt);var Et=k-v,it=et(Et-F)<J,B=it||Et<J;if(!it&&K<Z&&(rt=Z,Z=K,K=rt),B?it?Z+K>0^w[1]<(et(w[0]-v)<J?Z:K):Z<=w[1]&&w[1]<=K:Et>F^(v<=w[0]&&w[0]<=k)){var b=Wn(O,(-j+E)/P);return Se(b,N),[w,ke(b)]}}}function h(a,l){var u=e?t:F-t,p=0;return a<-u?p|=1:a>u&&(p|=2),l<-u?p|=4:l>u&&(p|=8),p}return Ir(f,s,c,e?[0,-t]:[-F,t-F])}function Yi(t,n,r,e,i,c){var f=t[0],s=t[1],d=n[0],h=n[1],a=0,l=1,u=d-f,p=h-s,g;if(g=r-f,!(!u&&g>0)){if(g/=u,u<0){if(g<a)return;g<l&&(l=g)}else if(u>0){if(g>l)return;g>a&&(a=g)}if(g=i-f,!(!u&&g<0)){if(g/=u,u<0){if(g>l)return;g>a&&(a=g)}else if(u>0){if(g<a)return;g<l&&(l=g)}if(g=e-s,!(!p&&g>0)){if(g/=p,p<0){if(g<a)return;g<l&&(l=g)}else if(p>0){if(g>l)return;g>a&&(a=g)}if(g=c-s,!(!p&&g<0)){if(g/=p,p<0){if(g>l)return;g>a&&(a=g)}else if(p>0){if(g<a)return;g<l&&(l=g)}return a>0&&(t[0]=f+a*u,t[1]=s+a*p),l<1&&(n[0]=f+l*u,n[1]=s+l*p),!0}}}}}var On=1e9,Kn=-On;function Zi(t,n,r,e){function i(h,a){return t<=h&&h<=r&&n<=a&&a<=e}function c(h,a,l,u){var p=0,g=0;if(h==null||(p=f(h,l))!==(g=f(a,l))||d(h,a)<0^l>0)do u.point(p===0||p===3?t:r,p>1?e:n);while((p=(p+l+4)%4)!==g);else u.point(a[0],a[1])}function f(h,a){return et(h[0]-t)<J?a>0?0:3:et(h[0]-r)<J?a>0?2:1:et(h[1]-n)<J?a>0?1:0:a>0?3:2}function s(h,a){return d(h.x,a.x)}function d(h,a){var l=f(h,1),u=f(a,1);return l!==u?l-u:l===0?a[1]-h[1]:l===1?h[0]-a[0]:l===2?h[1]-a[1]:a[0]-h[0]}return function(h){var a=h,l=jr(),u,p,g,m,_,S,x,M,y,$,R,N={point:T,lineStart:I,lineEnd:E,polygonStart:j,polygonEnd:P};function T(v,k){i(v,k)&&a.point(v,k)}function O(){for(var v=0,k=0,Z=p.length;k<Z;++k)for(var K=p[k],rt=1,Et=K.length,it=K[0],B,b,q=it[0],L=it[1];rt<Et;++rt)B=q,b=L,it=K[rt],q=it[0],L=it[1],b<=e?L>e&&(q-B)*(e-b)>(L-b)*(t-B)&&++v:L<=e&&(q-B)*(e-b)<(L-b)*(t-B)&&--v;return v}function j(){a=l,u=[],p=[],R=!0}function P(){var v=O(),k=R&&v,Z=(u=Nr(u)).length;(k||Z)&&(h.polygonStart(),k&&(h.lineStart(),c(null,null,1,h),h.lineEnd()),Z&&Dr(u,s,v,c,h),h.polygonEnd()),a=h,u=p=g=null}function I(){N.point=w,p&&p.push(g=[]),$=!0,y=!1,x=M=NaN}function E(){u&&(w(m,_),S&&y&&l.rejoin(),u.push(l.result())),N.point=T,y&&a.lineEnd()}function w(v,k){var Z=i(v,k);if(p&&g.push([v,k]),$)m=v,_=k,S=Z,$=!1,Z&&(a.lineStart(),a.point(v,k));else if(Z&&y)a.point(v,k);else{var K=[x=Math.max(Kn,Math.min(On,x)),M=Math.max(Kn,Math.min(On,M))],rt=[v=Math.max(Kn,Math.min(On,v)),k=Math.max(Kn,Math.min(On,k))];Yi(K,rt,t,n,r,e)?(y||(a.lineStart(),a.point(K[0],K[1])),a.point(rt[0],rt[1]),Z||a.lineEnd(),R=!1):Z&&(a.lineStart(),a.point(v,k),R=!1)}x=v,M=k,y=Z}return N}}const De=t=>t;var Me=new pn,Ie=new pn,Cr,zr,Ce,ze,rn={point:jt,lineStart:jt,lineEnd:jt,polygonStart:function(){rn.lineStart=Gi,rn.lineEnd=Bi},polygonEnd:function(){rn.lineStart=rn.lineEnd=rn.point=jt,Me.add(et(Ie)),Ie=new pn},result:function(){var t=Me/2;return Me=new pn,t}};function Gi(){rn.point=Vi}function Vi(t,n){rn.point=Fr,Cr=Ce=t,zr=ze=n}function Fr(t,n){Ie.add(ze*t-Ce*n),Ce=t,ze=n}function Bi(){Fr(Cr,zr)}var $n=1/0,ie=$n,qn=-$n,oe=qn,ae={point:Ui,lineStart:jt,lineEnd:jt,polygonStart:jt,polygonEnd:jt,result:function(){var t=[[$n,ie],[qn,oe]];return qn=oe=-(ie=$n=1/0),t}};function Ui(t,n){t<$n&&($n=t),t>qn&&(qn=t),n<ie&&(ie=n),n>oe&&(oe=n)}var Fe=0,qe=0,Ln=0,le=0,ue=0,xn=0,Xe=0,Ye=0,jn=0,qr,Xr,Bt,Ut,Lt={point:gn,lineStart:pr,lineEnd:gr,polygonStart:function(){Lt.lineStart=Ki,Lt.lineEnd=Qi},polygonEnd:function(){Lt.point=gn,Lt.lineStart=pr,Lt.lineEnd=gr},result:function(){var t=jn?[Xe/jn,Ye/jn]:xn?[le/xn,ue/xn]:Ln?[Fe/Ln,qe/Ln]:[NaN,NaN];return Fe=qe=Ln=le=ue=xn=Xe=Ye=jn=0,t}};function gn(t,n){Fe+=t,qe+=n,++Ln}function pr(){Lt.point=Wi}function Wi(t,n){Lt.point=Hi,gn(Bt=t,Ut=n)}function Hi(t,n){var r=t-Bt,e=n-Ut,i=dn(r*r+e*e);le+=i*(Bt+t)/2,ue+=i*(Ut+n)/2,xn+=i,gn(Bt=t,Ut=n)}function gr(){Lt.point=gn}function Ki(){Lt.point=Ji}function Qi(){Yr(qr,Xr)}function Ji(t,n){Lt.point=Yr,gn(qr=Bt=t,Xr=Ut=n)}function Yr(t,n){var r=t-Bt,e=n-Ut,i=dn(r*r+e*e);le+=i*(Bt+t)/2,ue+=i*(Ut+n)/2,xn+=i,i=Ut*t-Bt*n,Xe+=i*(Bt+t),Ye+=i*(Ut+n),jn+=i*3,gn(Bt=t,Ut=n)}function Zr(t){this._context=t}Zr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,bt);break}}},result:jt};var Ze=new pn,we,Gr,Vr,Dn,In,Xn={point:jt,lineStart:function(){Xn.point=to},lineEnd:function(){we&&Br(Gr,Vr),Xn.point=jt},polygonStart:function(){we=!0},polygonEnd:function(){we=null},result:function(){var t=+Ze;return Ze=new pn,t}};function to(t,n){Xn.point=Br,Gr=Dn=t,Vr=In=n}function Br(t,n){Dn-=t,In-=n,Ze.add(dn(Dn*Dn+In*In)),Dn=t,In=n}let dr,se,vr,mr;class _r{constructor(n){this._append=n==null?Ur:no(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,r){switch(this._point){case 0:{this._append`M${n},${r}`,this._point=1;break}case 1:{this._append`L${n},${r}`;break}default:{if(this._append`M${n},${r}`,this._radius!==vr||this._append!==se){const e=this._radius,i=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,vr=e,se=this._append,mr=this._,this._=i}this._+=mr;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Ur(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=arguments[n]+t[n]}function no(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ur;if(n!==dr){const r=10**n;dr=n,se=function(i){let c=1;this._+=i[0];for(const f=i.length;c<f;++c)this._+=Math.round(arguments[c]*r)/r+i[c]}}return se}function eo(t,n){let r=3,e=4.5,i,c;function f(s){return s&&(typeof e=="function"&&c.pointRadius(+e.apply(this,arguments)),Sn(s,i(c))),c.result()}return f.area=function(s){return Sn(s,i(rn)),rn.result()},f.measure=function(s){return Sn(s,i(Xn)),Xn.result()},f.bounds=function(s){return Sn(s,i(ae)),ae.result()},f.centroid=function(s){return Sn(s,i(Lt)),Lt.result()},f.projection=function(s){return arguments.length?(i=s==null?(t=null,De):(t=s).stream,f):t},f.context=function(s){return arguments.length?(c=s==null?(n=null,new _r(r)):new Zr(n=s),typeof e!="function"&&c.pointRadius(e),f):n},f.pointRadius=function(s){return arguments.length?(e=typeof s=="function"?s:(c.pointRadius(+s),+s),f):e},f.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const d=Math.floor(s);if(!(d>=0))throw new RangeError(`invalid digits: ${s}`);r=d}return n===null&&(c=new _r(r)),f},f.projection(t).digits(r).context(n)}function Ve(t){return function(n){var r=new Ge;for(var e in t)r[e]=t[e];return r.stream=n,r}}function Ge(){}Ge.prototype={constructor:Ge,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Be(t,n,r){var e=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),e!=null&&t.clipExtent(null),Sn(r,t.stream(ae)),n(ae.result()),e!=null&&t.clipExtent(e),t}function Wr(t,n,r){return Be(t,function(e){var i=n[1][0]-n[0][0],c=n[1][1]-n[0][1],f=Math.min(i/(e[1][0]-e[0][0]),c/(e[1][1]-e[0][1])),s=+n[0][0]+(i-f*(e[1][0]+e[0][0]))/2,d=+n[0][1]+(c-f*(e[1][1]+e[0][1]))/2;t.scale(150*f).translate([s,d])},r)}function ro(t,n,r){return Wr(t,[[0,0],n],r)}function io(t,n,r){return Be(t,function(e){var i=+n,c=i/(e[1][0]-e[0][0]),f=(i-c*(e[1][0]+e[0][0]))/2,s=-c*e[0][1];t.scale(150*c).translate([f,s])},r)}function oo(t,n,r){return Be(t,function(e){var i=+n,c=i/(e[1][1]-e[0][1]),f=-c*e[0][0],s=(i-c*(e[1][1]+e[0][1]))/2;t.scale(150*c).translate([f,s])},r)}var yr=16,ao=st(30*ft);function Er(t,n){return+n?uo(t,n):lo(t)}function lo(t){return Ve({point:function(n,r){n=t(n,r),this.stream.point(n[0],n[1])}})}function uo(t,n){function r(e,i,c,f,s,d,h,a,l,u,p,g,m,_){var S=h-e,x=a-i,M=S*S+x*x;if(M>4*n&&m--){var y=f+u,$=s+p,R=d+g,N=dn(y*y+$*$+R*R),T=Fn(R/=N),O=et(et(R)-1)<J||et(c-l)<J?(c+l)/2:zn($,y),j=t(O,T),P=j[0],I=j[1],E=P-e,w=I-i,v=x*E-S*w;(v*v/M>n||et((S*E+x*w)/M-.5)>.3||f*u+s*p+d*g<ao)&&(r(e,i,c,f,s,d,P,I,O,y/=N,$/=N,R,m,_),_.point(P,I),r(P,I,O,y,$,R,h,a,l,u,p,g,m,_))}}return function(e){var i,c,f,s,d,h,a,l,u,p,g,m,_={point:S,lineStart:x,lineEnd:y,polygonStart:function(){e.polygonStart(),_.lineStart=$},polygonEnd:function(){e.polygonEnd(),_.lineStart=x}};function S(T,O){T=t(T,O),e.point(T[0],T[1])}function x(){l=NaN,_.point=M,e.lineStart()}function M(T,O){var j=wn([T,O]),P=t(T,O);r(l,u,a,p,g,m,l=P[0],u=P[1],a=T,p=j[0],g=j[1],m=j[2],yr,e),e.point(l,u)}function y(){_.point=S,e.lineEnd()}function $(){x(),_.point=R,_.lineEnd=N}function R(T,O){M(i=T,O),c=l,f=u,s=p,d=g,h=m,_.point=M}function N(){r(l,u,a,p,g,m,c,f,i,s,d,h,yr,e),_.lineEnd=y,y()}return _}}var so=Ve({point:function(t,n){this.stream.point(t*ft,n*ft)}});function co(t){return Ve({point:function(n,r){var e=t(n,r);return this.stream.point(e[0],e[1])}})}function fo(t,n,r,e,i){function c(f,s){return f*=e,s*=i,[n+t*f,r-t*s]}return c.invert=function(f,s){return[(f-n)/t*e,(r-s)/t*i]},c}function Sr(t,n,r,e,i,c){if(!c)return fo(t,n,r,e,i);var f=st(c),s=ct(c),d=f*t,h=s*t,a=f/t,l=s/t,u=(s*r-f*n)/t,p=(s*n+f*r)/t;function g(m,_){return m*=e,_*=i,[d*m-h*_+n,r-h*m-d*_]}return g.invert=function(m,_){return[e*(a*m-l*_+u),i*(p-l*m-a*_)]},g}function ho(t){return po(function(){return t})()}function po(t){var n,r=150,e=480,i=250,c=0,f=0,s=0,d=0,h=0,a,l=0,u=1,p=1,g=null,m=hr,_=null,S,x,M,y=De,$=.5,R,N,T,O,j;function P(v){return T(v[0]*ft,v[1]*ft)}function I(v){return v=T.invert(v[0],v[1]),v&&[v[0]*Tt,v[1]*Tt]}P.stream=function(v){return O&&j===v?O:O=so(co(a)(m(R(y(j=v)))))},P.preclip=function(v){return arguments.length?(m=v,g=void 0,w()):m},P.postclip=function(v){return arguments.length?(y=v,_=S=x=M=null,w()):y},P.clipAngle=function(v){return arguments.length?(m=+v?Xi(g=v*ft):(g=null,hr),w()):g*Tt},P.clipExtent=function(v){return arguments.length?(y=v==null?(_=S=x=M=null,De):Zi(_=+v[0][0],S=+v[0][1],x=+v[1][0],M=+v[1][1]),w()):_==null?null:[[_,S],[x,M]]},P.scale=function(v){return arguments.length?(r=+v,E()):r},P.translate=function(v){return arguments.length?(e=+v[0],i=+v[1],E()):[e,i]},P.center=function(v){return arguments.length?(c=v[0]%360*ft,f=v[1]%360*ft,E()):[c*Tt,f*Tt]},P.rotate=function(v){return arguments.length?(s=v[0]%360*ft,d=v[1]%360*ft,h=v.length>2?v[2]%360*ft:0,E()):[s*Tt,d*Tt,h*Tt]},P.angle=function(v){return arguments.length?(l=v%360*ft,E()):l*Tt},P.reflectX=function(v){return arguments.length?(u=v?-1:1,E()):u<0},P.reflectY=function(v){return arguments.length?(p=v?-1:1,E()):p<0},P.precision=function(v){return arguments.length?(R=Er(N,$=v*v),w()):dn($)},P.fitExtent=function(v,k){return Wr(P,v,k)},P.fitSize=function(v,k){return ro(P,v,k)},P.fitWidth=function(v,k){return io(P,v,k)},P.fitHeight=function(v,k){return oo(P,v,k)};function E(){var v=Sr(r,0,0,u,p,l).apply(null,n(c,f)),k=Sr(r,e-v[0],i-v[1],u,p,l);return a=Lr(s,d,h),N=Le(n,k),T=Le(a,N),R=Er(N,$),w()}function w(){return O=j=null,P}return function(){return n=t.apply(this,arguments),P.invert=n.invert&&I,E()}}function Ue(t,n){return[t,bi(ki((At+n)/2))]}Ue.invert=function(t,n){return[t,2*Or(Ti(n))-At]};function $e(){return go(Ue).scale(961/bt)}function go(t){var n=ho(t),r=n.center,e=n.scale,i=n.translate,c=n.clipExtent,f=null,s,d,h;n.scale=function(l){return arguments.length?(e(l),a()):e()},n.translate=function(l){return arguments.length?(i(l),a()):i()},n.center=function(l){return arguments.length?(r(l),a()):r()},n.clipExtent=function(l){return arguments.length?(l==null?f=s=d=h=null:(f=+l[0][0],s=+l[0][1],d=+l[1][0],h=+l[1][1]),a()):f==null?null:[[f,s],[d,h]]};function a(){var l=F*e(),u=n(Li(n.rotate()).invert([0,0]));return c(f==null?[[u[0]-l,u[1]-l],[u[0]+l,u[1]+l]]:t===Ue?[[Math.max(u[0]-l,f),s],[Math.min(u[0]+l,d),h]]:[[f,Math.max(u[1]-l,s)],[d,Math.min(u[1]+l,h)]])}return a()}function vo(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const xr=Symbol("implicit");function Hr(){var t=new nr,n=[],r=[],e=xr;function i(c){let f=t.get(c);if(f===void 0){if(e!==xr)return e;t.set(c,f=n.push(c)-1)}return r[f%r.length]}return i.domain=function(c){if(!arguments.length)return n.slice();n=[],t=new nr;for(const f of c)t.has(f)||t.set(f,n.push(f)-1);return i},i.range=function(c){return arguments.length?(r=Array.from(c),i):r.slice()},i.unknown=function(c){return arguments.length?(e=c,i):e},i.copy=function(){return Hr(n,r).unknown(e)},vo.apply(i,arguments),i}function $t(t){return function(){return t}}const Mr=Math.abs,Mt=Math.atan2,fn=Math.cos,mo=Math.max,Pe=Math.min,Vt=Math.sin,Mn=Math.sqrt,Rt=1e-12,Yn=Math.PI,ce=Yn/2,te=2*Yn;function _o(t){return t>1?0:t<-1?Yn:Math.acos(t)}function wr(t){return t>=1?ce:t<=-1?-ce:Math.asin(t)}function yo(t){let n=3;return t.digits=function(r){if(!arguments.length)return n;if(r==null)n=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);n=e}return t},()=>new Ai(n)}function Eo(t){return t.innerRadius}function So(t){return t.outerRadius}function xo(t){return t.startAngle}function Mo(t){return t.endAngle}function wo(t){return t&&t.padAngle}function $o(t,n,r,e,i,c,f,s){var d=r-t,h=e-n,a=f-i,l=s-c,u=l*d-a*h;if(!(u*u<Rt))return u=(a*(n-c)-l*(t-i))/u,[t+u*d,n+u*h]}function Qn(t,n,r,e,i,c,f){var s=t-r,d=n-e,h=(f?c:-c)/Mn(s*s+d*d),a=h*d,l=-h*s,u=t+a,p=n+l,g=r+a,m=e+l,_=(u+g)/2,S=(p+m)/2,x=g-u,M=m-p,y=x*x+M*M,$=i-c,R=u*m-g*p,N=(M<0?-1:1)*Mn(mo(0,$*$*y-R*R)),T=(R*M-x*N)/y,O=(-R*x-M*N)/y,j=(R*M+x*N)/y,P=(-R*x+M*N)/y,I=T-_,E=O-S,w=j-_,v=P-S;return I*I+E*E>w*w+v*v&&(T=j,O=P),{cx:T,cy:O,x01:-a,y01:-l,x11:T*(i/$-1),y11:O*(i/$-1)}}function Po(){var t=Eo,n=So,r=$t(0),e=null,i=xo,c=Mo,f=wo,s=null,d=yo(h);function h(){var a,l,u=+t.apply(this,arguments),p=+n.apply(this,arguments),g=i.apply(this,arguments)-ce,m=c.apply(this,arguments)-ce,_=Mr(m-g),S=m>g;if(s||(s=a=d()),p<u&&(l=p,p=u,u=l),!(p>Rt))s.moveTo(0,0);else if(_>te-Rt)s.moveTo(p*fn(g),p*Vt(g)),s.arc(0,0,p,g,m,!S),u>Rt&&(s.moveTo(u*fn(m),u*Vt(m)),s.arc(0,0,u,m,g,S));else{var x=g,M=m,y=g,$=m,R=_,N=_,T=f.apply(this,arguments)/2,O=T>Rt&&(e?+e.apply(this,arguments):Mn(u*u+p*p)),j=Pe(Mr(p-u)/2,+r.apply(this,arguments)),P=j,I=j,E,w;if(O>Rt){var v=wr(O/u*Vt(T)),k=wr(O/p*Vt(T));(R-=v*2)>Rt?(v*=S?1:-1,y+=v,$-=v):(R=0,y=$=(g+m)/2),(N-=k*2)>Rt?(k*=S?1:-1,x+=k,M-=k):(N=0,x=M=(g+m)/2)}var Z=p*fn(x),K=p*Vt(x),rt=u*fn($),Et=u*Vt($);if(j>Rt){var it=p*fn(M),B=p*Vt(M),b=u*fn(y),q=u*Vt(y),L;if(_<Yn)if(L=$o(Z,K,b,q,it,B,rt,Et)){var H=Z-L[0],U=K-L[1],G=it-L[0],tt=B-L[1],ht=1/Vt(_o((H*G+U*tt)/(Mn(H*H+U*U)*Mn(G*G+tt*tt)))/2),X=Mn(L[0]*L[0]+L[1]*L[1]);P=Pe(j,(u-X)/(ht-1)),I=Pe(j,(p-X)/(ht+1))}else P=I=0}N>Rt?I>Rt?(E=Qn(b,q,Z,K,p,I,S),w=Qn(it,B,rt,Et,p,I,S),s.moveTo(E.cx+E.x01,E.cy+E.y01),I<j?s.arc(E.cx,E.cy,I,Mt(E.y01,E.x01),Mt(w.y01,w.x01),!S):(s.arc(E.cx,E.cy,I,Mt(E.y01,E.x01),Mt(E.y11,E.x11),!S),s.arc(0,0,p,Mt(E.cy+E.y11,E.cx+E.x11),Mt(w.cy+w.y11,w.cx+w.x11),!S),s.arc(w.cx,w.cy,I,Mt(w.y11,w.x11),Mt(w.y01,w.x01),!S))):(s.moveTo(Z,K),s.arc(0,0,p,x,M,!S)):s.moveTo(Z,K),!(u>Rt)||!(R>Rt)?s.lineTo(rt,Et):P>Rt?(E=Qn(rt,Et,it,B,u,-P,S),w=Qn(Z,K,b,q,u,-P,S),s.lineTo(E.cx+E.x01,E.cy+E.y01),P<j?s.arc(E.cx,E.cy,P,Mt(E.y01,E.x01),Mt(w.y01,w.x01),!S):(s.arc(E.cx,E.cy,P,Mt(E.y01,E.x01),Mt(E.y11,E.x11),!S),s.arc(0,0,u,Mt(E.cy+E.y11,E.cx+E.x11),Mt(w.cy+w.y11,w.cx+w.x11),S),s.arc(w.cx,w.cy,P,Mt(w.y11,w.x11),Mt(w.y01,w.x01),!S))):s.arc(0,0,u,$,y,S)}if(s.closePath(),a)return s=null,a+""||null}return h.centroid=function(){var a=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,l=(+i.apply(this,arguments)+ +c.apply(this,arguments))/2-Yn/2;return[fn(l)*a,Vt(l)*a]},h.innerRadius=function(a){return arguments.length?(t=typeof a=="function"?a:$t(+a),h):t},h.outerRadius=function(a){return arguments.length?(n=typeof a=="function"?a:$t(+a),h):n},h.cornerRadius=function(a){return arguments.length?(r=typeof a=="function"?a:$t(+a),h):r},h.padRadius=function(a){return arguments.length?(e=a==null?null:typeof a=="function"?a:$t(+a),h):e},h.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:$t(+a),h):i},h.endAngle=function(a){return arguments.length?(c=typeof a=="function"?a:$t(+a),h):c},h.padAngle=function(a){return arguments.length?(f=typeof a=="function"?a:$t(+a),h):f},h.context=function(a){return arguments.length?(s=a??null,h):s},h}function Ro(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ao(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function To(t){return t}function bo(){var t=To,n=Ao,r=null,e=$t(0),i=$t(te),c=$t(0);function f(s){var d,h=(s=Ro(s)).length,a,l,u=0,p=new Array(h),g=new Array(h),m=+e.apply(this,arguments),_=Math.min(te,Math.max(-te,i.apply(this,arguments)-m)),S,x=Math.min(Math.abs(_)/h,c.apply(this,arguments)),M=x*(_<0?-1:1),y;for(d=0;d<h;++d)(y=g[p[d]=d]=+t(s[d],d,s))>0&&(u+=y);for(n!=null?p.sort(function($,R){return n(g[$],g[R])}):r!=null&&p.sort(function($,R){return r(s[$],s[R])}),d=0,l=u?(_-h*M)/u:0;d<h;++d,m=S)a=p[d],y=g[a],S=m+(y>0?y*l:0)+M,g[a]={data:s[a],index:d,value:y,startAngle:m,endAngle:S,padAngle:x};return g}return f.value=function(s){return arguments.length?(t=typeof s=="function"?s:$t(+s),f):t},f.sortValues=function(s){return arguments.length?(n=s,r=null,f):n},f.sort=function(s){return arguments.length?(r=s,n=null,f):r},f.startAngle=function(s){return arguments.length?(e=typeof s=="function"?s:$t(+s),f):e},f.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:$t(+s),f):i},f.padAngle=function(s){return arguments.length?(c=typeof s=="function"?s:$t(+s),f):c},f}const No=(t,n,r)=>{const e=t[n];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((i,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};function ko(t){return t}function Oo(t){if(t==null)return ko;var n,r,e=t.scale[0],i=t.scale[1],c=t.translate[0],f=t.translate[1];return function(s,d){d||(n=r=0);var h=2,a=s.length,l=new Array(a);for(l[0]=(n+=s[0])*e+c,l[1]=(r+=s[1])*i+f;h<a;)l[h]=s[h],++h;return l}}function Lo(t,n){for(var r,e=t.length,i=e-n;i<--e;)r=t[i],t[i++]=t[e],t[e]=r}function jo(t,n){return typeof n=="string"&&(n=t.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(r){return $r(t,r)})}:$r(t,n)}function $r(t,n){var r=n.id,e=n.bbox,i=n.properties==null?{}:n.properties,c=Kr(t,n);return r==null&&e==null?{type:"Feature",properties:i,geometry:c}:e==null?{type:"Feature",id:r,properties:i,geometry:c}:{type:"Feature",id:r,bbox:e,properties:i,geometry:c}}function Kr(t,n){var r=Oo(t.transform),e=t.arcs;function i(a,l){l.length&&l.pop();for(var u=e[a<0?~a:a],p=0,g=u.length;p<g;++p)l.push(r(u[p],p));a<0&&Lo(l,g)}function c(a){return r(a)}function f(a){for(var l=[],u=0,p=a.length;u<p;++u)i(a[u],l);return l.length<2&&l.push(l[0]),l}function s(a){for(var l=f(a);l.length<4;)l.push(l[0]);return l}function d(a){return a.map(s)}function h(a){var l=a.type,u;switch(l){case"GeometryCollection":return{type:l,geometries:a.geometries.map(h)};case"Point":u=c(a.coordinates);break;case"MultiPoint":u=a.coordinates.map(c);break;case"LineString":u=f(a.arcs);break;case"MultiLineString":u=a.arcs.map(f);break;case"Polygon":u=d(a.arcs);break;case"MultiPolygon":u=a.arcs.map(d);break;default:return null}return{type:l,coordinates:u}}return h(n)}function Do(t,n){var r={},e={},i={},c=[],f=-1;n.forEach(function(h,a){var l=t.arcs[h<0?~h:h],u;l.length<3&&!l[1][0]&&!l[1][1]&&(u=n[++f],n[f]=h,n[a]=u)}),n.forEach(function(h){var a=s(h),l=a[0],u=a[1],p,g;if(p=i[l])if(delete i[p.end],p.push(h),p.end=u,g=e[u]){delete e[g.start];var m=g===p?p:p.concat(g);e[m.start=p.start]=i[m.end=g.end]=m}else e[p.start]=i[p.end]=p;else if(p=e[u])if(delete e[p.start],p.unshift(h),p.start=l,g=i[l]){delete i[g.end];var _=g===p?p:g.concat(p);e[_.start=g.start]=i[_.end=p.end]=_}else e[p.start]=i[p.end]=p;else p=[h],e[p.start=l]=i[p.end=u]=p});function s(h){var a=t.arcs[h<0?~h:h],l=a[0],u;return t.transform?(u=[0,0],a.forEach(function(p){u[0]+=p[0],u[1]+=p[1]})):u=a[a.length-1],h<0?[u,l]:[l,u]}function d(h,a){for(var l in h){var u=h[l];delete a[u.start],delete u.start,delete u.end,u.forEach(function(p){r[p<0?~p:p]=1}),c.push(u)}}return d(i,e),d(e,i),n.forEach(function(h){r[h<0?~h:h]||c.push([h])}),c}function Pr(t){return Kr(t,Io.apply(this,arguments))}function Io(t,n,r){var e,i,c;if(arguments.length>1)e=Co(t,n,r);else for(i=0,e=new Array(c=t.arcs.length);i<c;++i)e[i]=i;return{type:"MultiLineString",arcs:Do(t,e)}}function Co(t,n,r){var e=[],i=[],c;function f(l){var u=l<0?~l:l;(i[u]||(i[u]=[])).push({i:l,g:c})}function s(l){l.forEach(f)}function d(l){l.forEach(s)}function h(l){l.forEach(d)}function a(l){switch(c=l,l.type){case"GeometryCollection":l.geometries.forEach(a);break;case"LineString":s(l.arcs);break;case"MultiLineString":case"Polygon":d(l.arcs);break;case"MultiPolygon":h(l.arcs);break}}return a(n),i.forEach(r==null?function(l){e.push(l[0].i)}:function(l){r(l[0].g,l[l.length-1].g)&&e.push(l[0].i)}),e}function zo(t,n,r,e,i){t.button===0&&(z(n,!0),z(r,ne(t,o(e)),!0),z(i,o(r),!0))}function Fo(t,n,r,e,i,c,f,s,d,h){if(!o(n))return;z(n,!1);const a=ne(t,o(r)),[l,u]=o(e),[p,g]=a,m=Math.abs(l-p),_=Math.abs(u-g);if(m===0||_===0)return;const S=o(i)/m,x=o(c)/_,M=Math.min(S,x),y=Math.min(l,p)+m/2,$=Math.min(u,g)+_/2,R=(o(f)-y)*M+o(i)/2,N=(o(s)-$)*M+o(c)/2,T=Re(o(r));d.transform(T,Ae.translate(R,N).scale(o(h)*M))}var qo=wt('<div class="flex items-center p-0 text-gray-600 dark:text-gray-400 text-sm"><svg width="40" height="12" class="me-1"><rect width="40" height="12"></rect></svg> <span> </span></div>'),Xo=wt('<h2 class="flex items-start font-bold text-lg me-4">Legend</h2> <div class="flex flex-wrap gap-2"></div>',1),Yo=(t,n,r)=>{n(t),r(t)},Zo=Pn('<path class="fill-none stroke-gray-300 dark:stroke-gray-600 stroke-[1px]"></path>'),Go=Pn('<path stroke="#000"></path>'),Vo=Pn("<path></path>"),Bo=Pn("<g></g>"),Uo=Pn('<rect stroke="black" stroke-width="1" fill="rgba(255, 255, 255, 0.5)"></rect>'),Wo=wt('<div class="flex justify-between items-center gap-2 text-xs px-2"><div class="flex items-center"><svg class="me-1" width="12" height="12"><rect width="12" height="12"></rect></svg> <span> </span></div> <div> </div></div>'),Ho=wt('<div class="flex justify-between items-center gap-1 font-bold text-xs px-2 mt-1"><div>Total:</div> <div> </div></div>'),Ko=wt('<h5 class="font-bold text-sm mb-0 px-2"> </h5> <!> <!>',1),Qo=wt("<div> </div>"),Jo=wt('<div><h5 class="font-bold text-sm mb-0"> </h5> <!></div>'),ta=Pn('<svg class="bg-white dark:bg-gray-800"><g><path class="fill-gray-200 dark:fill-gray-700"></path><!><path class="stroke-gray-400" fill="none"></path></g><g></g><g></g><!></svg><!>',1),na=wt("<!> <!>",1);function ea(t,n){Rr(n,!0);let r=nt(null);kn(()=>{n.map&&No(Object.assign({"../topojson/nuts-1.json":()=>Bn(()=>import("../chunks/BGj-pI5n.js"),[]),"../topojson/nuts-2.json":()=>Bn(()=>import("../chunks/CpFZsRVk.js"),[]),"../topojson/nuts-3.json":()=>Bn(()=>import("../chunks/B34HR-o6.js"),[]),"../topojson/world-3.json":()=>Bn(()=>import("../chunks/43hnhKVC.js"),[])}),`../topojson/${n.map}.json`,3).then(A=>{z(r,A.default,!0)}).catch(A=>{console.error(`Error loading topology for ${n.map}:`,A)})});let e=Ee(n,"id",3,"map"),i=Ee(n,"lineData",19,()=>({})),c=Ee(n,"nodeCoords",19,()=>({})),f=nt(void 0);const s=7,d=40,h=1,a=8;let l=nt(936),u=nt(800),p=nt(1),g=nt(0),m=nt(0),_=D(()=>{const A=new Set(Object.keys(n.pieData).concat(Object.keys(i()).flatMap(W=>W.split("-")))),C=Object.entries(c()).filter(([W])=>A.has(W));if(!c()||C.length==0)return{scale:1100,translateX:400,translateY:1500};if(C.length==1){const W=$e().scale(800).translate([0,0]),xt=W(C[0][1]);return{scale:W.scale(),translateX:o(l)/2-xt[0],translateY:o(u)/2-xt[1]}}const Q={type:"FeatureCollection",features:C.map(([,W])=>({type:"Feature",geometry:{type:"Point",coordinates:W},properties:{}}))},V=1.5*d,ot=$e().fitExtent([[V,V],[o(l)-V,o(u)-V]],Q);return{scale:ot.scale(),translateX:ot.translate()[0],translateY:ot.translate()[1]}}),S=D(()=>$e().translate([o(_).translateX*o(p)+o(g),o(_).translateY*o(p)+o(m)]).scale(o(_).scale*o(p))),x=D(()=>eo().projection(o(S)));const M=Hr(ui()),y=bo().sort(null).value(A=>A);let $=D(()=>o(r)?o(x)(jo(o(r),o(r).objects.land)):null),R=D(()=>o(r)?o(x)(Pr(o(r),o(r).objects.countries,(A,C)=>A!==C)):null),N=D(()=>!o(r)||!("regions"in o(r).objects)?null:o(x)(Pr(o(r),o(r).objects.regions,(A,C)=>A!==C))),T=_i().filter(j).on("zoom",P);function O(){o(f)&&Re(o(f)).call(T).call(T.transform,Ae)}function j(A){return A.button==0&&!(A.ctrlKey&&A.button===0)&&!(A.ctrlKey&&A.type!=="wheel")}function P(A){const{transform:C}=A;z(p,C.k,!0),z(g,C.x,!0),z(m,C.y,!0)}let I=nt(!1),E=nt(Cn([0,0])),w=nt(Cn([0,0]));function v(A){o(I)&&z(w,ne(A,o(f)),!0)}function k(){z(I,!1)}function Z(){o(f)&&(z(p,1),z(g,0),z(m,0),Re(o(f)).call(T.transform,Ae))}let K=D(()=>Object.entries(n.pieData).map(([A,C])=>{const Q=C.reduce((xt,qt)=>xt+qt.value,0),V=Po().innerRadius(0).outerRadius(X(Q)),[ot,W]=o(S)(c()[A]||[0,0]);return{x:ot,y:W,label:A,total:Q,data:y(C.map(xt=>xt.value)).map((xt,qt)=>({color:M(C[qt].technology),arc:V(xt),technology:C[qt].technology,value:xt.data}))}})),rt=D(()=>Object.entries(i()).map(([A,C])=>{const[Q,V]=A.split("-"),ot=C.reduce((W,xt)=>Math.max(W,xt.value),0);return{label:A,values:C,start:o(S)(c()[Q]||[40,40]),end:o(S)(c()[V]||[40,40]),width:Dt(ot)}})),Et=D(()=>Object.values(n.pieData).reduce((A,C)=>{const Q=C.map(V=>V.technology);return[...new Set([...A,...Q])]},[])),it=nt(Cn([0,0])),B=D(()=>tt(o(it))),b=D(()=>o(B)?[]:ht(o(it))),q=D(()=>o(B)?o(B).x:o(b).length>0?.5*(o(b)[0].start[0]+o(b)[0].end[0]):0),L=D(()=>o(B)?o(B).y:o(b).length>0?.5*(o(b)[0].start[1]+o(b)[0].end[1]):0),H=D(()=>o(B)?X(o(B).total):0),U=D(()=>o(L)-o(H)>180);function G(A){z(it,ne(A),!0)}function tt(A){const[C,Q]=A;return o(K).find(V=>{const ot=C-V.x,W=Q-V.y;return Math.sqrt(ot*ot+W*W)<X(V.total)})}function ht(A){const[C,Q]=A;return o(rt).filter(V=>{let[ot,W]=V.start,[xt,qt]=V.end;const pt=C-ot,Kt=Q-W,Qt=xt-ot,on=qt-W,Jt=pt*Qt+Kt*on,Xt=Math.pow(Qt,2)+Math.pow(on,2);return Jt<0||Jt>Xt||Xt<1e-10?!1:4*(Math.pow(pt,2)+Math.pow(Kt,2)-Math.pow(Jt,2)/Xt)<Math.pow(a,2)})}function X(A){return n.maxTotal==n.minTotal?d:s+(A-n.minTotal)/(n.maxTotal-n.minTotal)*(d-s)}function Dt(A){return n.maxEdge==n.minEdge?a:h+(A-n.minEdge)/(n.maxEdge-n.minEdge)*(a-h)}function zt(A,C){const[Q,V]=A,[ot,W]=C;return`M${Q},${V} L${ot},${W}`}function mt(){if(!o(f)?.parentElement)return;const{width:A,height:C}=o(f).parentElement.getBoundingClientRect();z(l,A,!0),z(u,C,!0)}const Ft=new ResizeObserver(mt);function St(){o(f)?.parentElement&&Ft.observe(o(f).parentElement)}ei(()=>{Ft.disconnect()});function It(){o(f)&&yi(o(f),"map_plot.svg")}function ln(){O(),St(),mt()}var Wt={resetZoom:Z,downloadSVG:It},Ht=en();We("resize",oi,mt);var Nt=vt(Ht);{var Pt=A=>{br(A)},kt=A=>{var C=na(),Q=vt(C);{var V=W=>{Qe(W,{class:"flex",children:(xt,qt)=>{var pt=Xo(),Kt=ut(vt(pt),2);cn(Kt,20,()=>o(Et),Qt=>Qt,(Qt,on)=>{var Jt=qo(),Xt=_t(Jt),vn=_t(Xt);lt(Xt);var mn=ut(Xt,2),fe=_t(mn,!0);lt(mn),lt(Jt),Ot(he=>{dt(vn,"fill",he),sn(fe,on)},[()=>M(on)]),Y(Qt,Jt)}),lt(Kt),Y(xt,pt)},$$slots:{default:!0}})};yt(Q,W=>{o(Et).length>0&&W(V)})}var ot=ut(Q,2);Qe(ot,{class:"relative overflow-hidden resize-y overflow-y-auto",noPadding:!0,children:(W,xt)=>{var qt=ta(),pt=vt(qt);pt.__mousemove=[Yo,G,v],pt.__mousedown=[zo,I,E,f,w],pt.__mouseup=[Fo,I,f,E,l,u,g,m,T,p];var Kt=_t(pt),Qt=_t(Kt),on=ut(Qt);{var Jt=at=>{var gt=Zo();Ot(()=>dt(gt,"d",o(N))),Y(at,gt)};yt(on,at=>{o(N)!=null&&at(Jt)})}var Xt=ut(on);lt(Kt);var vn=ut(Kt);cn(vn,21,()=>o(rt),at=>at.label,(at,gt)=>{var Ct=Go();Ot(Yt=>{dt(Ct,"d",Yt),dt(Ct,"stroke-width",o(gt).width)},[()=>zt(o(gt).start,o(gt).end)]),Y(at,Ct)}),lt(vn);var mn=ut(vn);cn(mn,21,()=>o(K),at=>at.label,(at,gt)=>{var Ct=Bo();cn(Ct,21,()=>o(gt).data,Yt=>Yt.technology,(Yt,_n)=>{var un=Vo();Ot(()=>{dt(un,"d",o(_n).arc),dt(un,"fill",o(_n).color)}),Y(Yt,un)}),lt(Ct),Ot(()=>dt(Ct,"transform",`translate(${o(gt).x}, ${o(gt).y})`)),Y(at,Ct)}),lt(mn);var fe=ut(mn);{var he=at=>{var gt=Uo();Ot((Ct,Yt,_n,un)=>{dt(gt,"x",Ct),dt(gt,"y",Yt),dt(gt,"width",_n),dt(gt,"height",un)},[()=>Math.min(o(E)[0],o(w)[0]),()=>Math.min(o(E)[1],o(w)[1]),()=>Math.abs(o(E)[0]-o(w)[0]),()=>Math.abs(o(E)[1]-o(w)[1])]),Y(at,gt)};yt(fe,at=>{o(I)&&at(he)})}lt(pt),Tr(pt,at=>z(f,at),()=>o(f)),di(pt,()=>ln);var Qr=ut(pt);{var Jr=at=>{Ei(at,{get x(){return o(q)},get y(){return o(L)},get yOffset(){return o(H)},get isOnTop(){return o(U)},children:(gt,Ct)=>{var Yt=en(),_n=vt(Yt);{var un=yn=>{var Rn=Ko(),An=vt(Rn),pe=_t(An,!0);lt(An);var En=ut(An,2);cn(En,17,()=>o(B).data,tn=>tn.technology,(tn,Zt)=>{var an=Wo(),Gt=_t(an),nn=_t(Gt),de=_t(nn);lt(nn);var Gn=ut(nn,2),Tn=_t(Gn);lt(Gn),lt(Gt);var bn=ut(Gt,2),Nn=_t(bn);lt(bn),lt(an),Ot(ve=>{dt(de,"fill",o(Zt).color),sn(Tn,`${o(Zt).technology??""}:`),sn(Nn,`${ve??""}
								${n.unit??""}`)},[()=>o(Zt).value.toFixed(3)]),Y(tn,an)});var Zn=ut(En,2);{var ge=tn=>{var Zt=Ho(),an=ut(_t(Zt),2),Gt=_t(an);lt(an),lt(Zt),Ot(nn=>sn(Gt,`${nn??""} ${n.unit??""}`),[()=>o(B).total.toFixed(3)]),Y(tn,Zt)};yt(Zn,tn=>{o(B).data.length>1&&tn(ge)})}Ot(()=>sn(pe,o(B).label)),Y(yn,Rn)},ti=yn=>{var Rn=en(),An=vt(Rn);{var pe=En=>{var Zn=en(),ge=vt(Zn);cn(ge,17,()=>o(b),pi,(tn,Zt,an)=>{var Gt=Jo();vi(Gt,1,mi(["px-2 text-xs",an>0&&"border-t border-gray-500 mt-2 pt-2"]));var nn=_t(Gt),de=_t(nn,!0);lt(nn);var Gn=ut(nn,2);cn(Gn,17,()=>o(Zt).values,Tn=>Tn.technology,(Tn,bn)=>{var Nn=Qo(),ve=_t(Nn);lt(Nn),Ot(ni=>sn(ve,`${o(bn).technology??""}: ${ni??""}
									${n.unit??""}`),[()=>o(bn).value.toFixed(3)]),Y(Tn,Nn)}),lt(Gt),Ot(()=>sn(de,o(Zt).label)),Y(tn,Gt)}),Y(En,Zn)};yt(An,En=>{o(b).length>0&&En(pe)},!0)}Y(yn,Rn)};yt(_n,yn=>{o(B)?yn(un):yn(ti,!1)})}Y(gt,Yt)},$$slots:{default:!0}})};yt(Qr,at=>{(o(B)||o(b).length>0)&&at(Jr)})}Ot(()=>{dt(pt,"width",o(l)),dt(pt,"height",o(u)),dt(pt,"id",e()),dt(Qt,"d",o($)),dt(Xt,"d",o(R)),dt(Xt,"stroke-width",o(N)==null?"1px":"2px")}),We("mouseleave",pt,()=>{k(),z(it,[0,0],!0)}),Y(W,qt)},$$slots:{default:!0}}),Y(A,C)};yt(Nt,A=>{o(r)?A(kt,!1):A(Pt)})}return Y(t,Ht),Ar(Wt)}ii(["mousemove","mousedown","mouseup"]);const ra=[{label:"Countries",value:"world-3"},{label:"NUTS 1 (only Europe)",value:"nuts-1"},{label:"NUTS 2 (only Europe)",value:"nuts-2"},{label:"NUTS 3 (only Europe)",value:"nuts-3"}];var ia=wt("<!> <!>",1),oa=wt("<!> <!>",1),aa=wt("<!> <!>",1),la=wt("<!> <!>",1),ua=wt("<!> <!>",1),sa=wt('<i class="bi bi-house me-2"></i> <div class="visually-hidden">Reset zoom</div>',1),ca=wt('<i class="bi bi-download me-2"></i> <div class="visually-hidden">Download SVG</div>',1),fa=wt('<div class="flex justify-end items-end h-full gap-4"><!> <!></div>');function Pa(t,n){Rr(n,!0);let r=nt(void 0),e=nt(null),i=nt(Cn([])),c=["conversion","storage"];const f=["energy","power"],s=ra;let d=nt(null),h=nt("conversion"),a=nt("energy"),l=nt(null),u=nt(null),p=nt("world-3"),g=nt(!1),m=nt(!1),_=nt(Cn({})),S=D(()=>{const b=o(h)=="storage"?o(a):"power";return o(_)[o(y)[0]+"_"+b]||""}),x=D(()=>o(d)==null?{}:Object.entries(o(d).detail.system.coords).reduce((b,[q,{lat:L,lon:H}])=>({...b,[q]:[H,L]}),{}));kn(()=>{o(i),me(()=>{o(i).length>0&&(o(u)==null||!o(i).includes(parseInt(o(u))))&&z(u,o(i)[0].toString(),!0)})});let M=D(()=>o(d)?fi(Object.values(o(d).detail.reference_carrier)).sort():[]);kn(()=>{o(M),me(()=>{o(d)!==null&&o(l)!==null&&!o(M).includes(o(l))&&z(l,null)})});let y=D(()=>!o(d)||!o(h)?[]:o($).filter(b=>o(d).detail.reference_carrier[b]==o(l))),$=D(()=>{if(!o(d)||!o(h))return[];let b={conversion:"set_conversion_technologies",storage:"set_storage_technologies",transport:"set_transport_technologies"}[o(h)];return b?o(d).detail.system[b]||[]:[]});ri(()=>{z(h,ye("tech")||o(h),!0),z(a,ye("stor")||o(a),!0),z(l,ye("car")||o(l),!0)}),kn(()=>{o(h),o(a),o(l),ai().then(()=>{gi({tech:o(h),stor:o(h)==="storage"?o(a):null,car:o(l)})})});async function R(){o(d)&&T()}let N="";kn(()=>{o(l),me(()=>{o(l)!==N&&T()})});async function T(){N=o(l)||"",await O(),o(r)?.resetZoom()}async function O(){if(!o(d)||!o(l))return;z(m,!0),z(e,null);const b=await ci(o(d).solution_name,["capacity"],o(d).scenario_name,o(l));z(e,b.capacity,!0),b.unit?.data&&z(_,Object.fromEntries(b.unit.data.map(q=>[q.technology+"_"+q.capacity_type,q[0]||q.units])),!0),z(m,!1)}function j(b,q=null){return!o(e)||!o(d)||!o(h)||!o(l)?null:o(e).data.reduce((L,H)=>{const{technology:U,capacity_type:G,location:tt}=H;if(!b.includes(U)||q&&q!==G)return L;const ht=Object.entries(H).filter(([X])=>!isNaN(parseInt(X))).map(([,X])=>parseFloat(X));return ht.length===0||(L[tt]=L[tt]||[],L[tt].push({technology:U,years:ht})),L},{})}let P=D(()=>!o(e)||!o(h)?null:j(o(y),o(h)=="storage"?o(a):null)),I=D(()=>{if(!o(d))return null;const b=o(d).detail.system.set_transport_technologies.filter(q=>o(d).detail.reference_carrier[q]==o(l));return j(b)}),E=D(()=>{if(!o(P)||o(u)==null)return null;const b=o(i).findIndex(L=>L.toString()===o(u)),q=Object.entries(o(P)).map(([L,H])=>{const U=H.map(G=>({technology:G.technology,value:G.years[b]})).filter(G=>G.value>1e-6);return[L,U]}).filter(([,L])=>L.length>0);return Object.fromEntries(q)}),w=D(()=>{if(!o(I)||o(u)==null)return null;const b=o(i).findIndex(L=>L.toString()===o(u)),q=Object.entries(o(I)).map(([L,H])=>[L,H.map(U=>({technology:U.technology,value:U.years[b]}))]);return Object.fromEntries(q)}),v=D(()=>o(P)?Object.values(o(P)).reduce(([b,q],L)=>{const H=L.reduce((G,{years:tt})=>G?G.map((ht,X)=>ht+(tt[X]||0)):[...tt],null);if(H==null)return[b,q];const U=H.reduce((G,tt)=>Math.max(G,tt),0);return[Math.min(b,U),Math.max(q,U)]},[Number.MAX_SAFE_INTEGER,0]):[0,0]),k=D(()=>Ke(o(v),2)),Z=D(()=>o(k)[0]),K=D(()=>o(k)[1]),rt=D(()=>o(I)?Object.values(o(I)).reduce(([b,q],L)=>{const H=L.reduce((G,{years:tt})=>G?G.map((ht,X)=>Math.max(ht,tt[X]||0)):[...tt],null);if(H==null)return[b,q];const U=H.reduce((G,tt)=>Math.max(G,tt),0);return[Math.min(b,U),Math.max(q,U)]},[Number.MAX_SAFE_INTEGER,0]):[0,0]),Et=D(()=>Ke(o(rt),2)),it=D(()=>o(Et)[0]),B=D(()=>o(Et)[1]);si(t,{pageTitle:"The Map",subtitle:"Map of conversion, storage, and transport capacities",filters:H=>{var U=ua(),G=vt(U);_e(G,{title:"Solution Selection",children:(X,Dt)=>{{let zt=D(()=>o(m)||o(g));hi(X,{solutionSelected:R,get disabled(){return o(zt)},get years(){return o(i)},set years(mt){z(i,mt,!0)},get selected_solution(){return o(d)},set selected_solution(mt){z(d,mt,!0)},get loading(){return o(g)},set loading(mt){z(g,mt,!0)}})}}});var tt=ut(G,2);{var ht=X=>{var Dt=la(),zt=vt(Dt);_e(zt,{title:"Variable Selection",children:(St,It)=>{var ln=oa(),Wt=vt(ln);{let Pt=D(()=>o(m)||o(g));Vn(Wt,{get options(){return o(M)},label:"Carrier",onUpdate:T,get disabled(){return o(Pt)},get value(){return o(l)},set value(kt){z(l,kt,!0)}})}var Ht=ut(Wt,2);{var Nt=Pt=>{var kt=ia(),A=vt(kt);{let V=D(()=>o(m)||o(g));Vn(A,{get options(){return c},label:"Technology Type",get disabled(){return o(V)},get value(){return o(h)},set value(ot){z(h,ot,!0)}})}var C=ut(A,2);{var Q=V=>{{let ot=D(()=>o(m)||o(g));li(V,{get options(){return f},label:"Storage Type",get disabled(){return o(ot)},get value(){return o(a)},set value(W){z(a,W,!0)}})}};yt(C,V=>{o(h)=="storage"&&V(Q)})}Y(Pt,kt)};yt(Ht,Pt=>{o(l)!==null&&Pt(Nt)})}Y(St,ln)}});var mt=ut(zt,2);{var Ft=St=>{_e(St,{title:"Data Selection",children:(It,ln)=>{var Wt=aa(),Ht=vt(Wt);{let Pt=D(()=>o(i).map(kt=>kt.toString()));Vn(Ht,{get options(){return o(Pt)},label:"Year",get value(){return o(u)},set value(kt){z(u,kt,!0)}})}var Nt=ut(Ht,2);Vn(Nt,{get options(){return s},label:"Map",get value(){return o(p)},set value(Pt){z(p,Pt,!0)}}),Y(It,Wt)}})};yt(mt,St=>{o(d)!==null&&o(l)!==null&&St(Ft)})}Y(X,Dt)};yt(tt,X=>{!o(g)&&o(d)&&X(ht)})}Y(H,U)},buttons:H=>{var U=en(),G=vt(U);{var tt=ht=>{var X=fa(),Dt=_t(X);{let mt=D(()=>o(r)?.resetZoom);Je(Dt,{get onclick(){return o(mt)},children:(Ft,St)=>{var It=sa();He(2),Y(Ft,It)},$$slots:{default:!0}})}var zt=ut(Dt,2);{let mt=D(()=>o(r)?.downloadSVG);Je(zt,{get onclick(){return o(mt)},children:(Ft,St)=>{var It=ca();He(2),Y(Ft,It)},$$slots:{default:!0}})}lt(X),Y(ht,X)};yt(G,ht=>{o(r)&&ht(tt)})}Y(H,U)},mainContent:H=>{var U=en(),G=vt(U);{var tt=X=>{br(X)},ht=X=>{var Dt=en(),zt=vt(Dt);{var mt=St=>{tr(St,{message:"Please select a solution"})},Ft=St=>{var It=en(),ln=vt(It);{var Wt=Nt=>{tr(Nt,{message:"Please select a carrier"})},Ht=Nt=>{var Pt=en(),kt=vt(Pt);{var A=Q=>{Si(Q,{message:"No data to display for the selected options"})},C=Q=>{Tr(ea(Q,{get pieData(){return o(E)},get lineData(){return o(w)},get minTotal(){return o(Z)},get maxTotal(){return o(K)},get minEdge(){return o(it)},get maxEdge(){return o(B)},get nodeCoords(){return o(x)},get unit(){return o(S)},get map(){return o(p)}}),V=>z(r,V,!0),()=>o(r))};yt(kt,Q=>{!o(E)||!o(w)||Object.keys(o(E)).length===0&&Object.keys(o(w)).length===0?Q(A):Q(C,!1)},!0)}Y(Nt,Pt)};yt(ln,Nt=>{o(l)?Nt(Ht,!1):Nt(Wt)},!0)}Y(St,It)};yt(zt,St=>{o(d)?St(Ft,!1):St(mt)},!0)}Y(X,Dt)};yt(G,X=>{o(g)||o(m)?X(tt):X(ht,!1)})}Y(H,U)}}),Ar()}export{Pa as component};

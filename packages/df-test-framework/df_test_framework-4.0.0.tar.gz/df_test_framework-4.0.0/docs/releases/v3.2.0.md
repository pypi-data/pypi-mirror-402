# df-test-framework v3.2.0 å‘å¸ƒè¯´æ˜

> **å‘å¸ƒæ—¥æœŸ**: 2025-11-06
> **ç‰ˆæœ¬**: v3.1.0 â†’ v3.2.0
> **çŠ¶æ€**: âš ï¸ **å·²è¢« v3.3.0 å–ä»£**

---

## âš ï¸ é‡è¦æç¤º

**v3.2.0 æ˜¯ä¸€ä¸ªä¸­é—´ç‰ˆæœ¬**ï¼Œåæ¥è¢« v3.3.0 çš„å®Œæ•´æ‹¦æˆªå™¨æ¶æ„å–ä»£ã€‚

**å»ºè®®**: å¦‚æœæ‚¨æ­£åœ¨è€ƒè™‘å‡çº§åˆ° v3.2.0ï¼Œè¯·**ç›´æ¥å‡çº§åˆ° v3.3.0**ã€‚

### ä¸ºä»€ä¹ˆè¢«å–ä»£ï¼Ÿ

v3.2.0 å¼•å…¥äº†é…ç½®åŒ–æ‹¦æˆªå™¨çš„æ¦‚å¿µï¼Œä½†å­˜åœ¨ä¸€äº›æ¶æ„é—®é¢˜ï¼š
- BaseAPI å’Œ HttpClient éƒ½ç®¡ç†æ‹¦æˆªå™¨ï¼ˆèŒè´£é‡å¤ï¼‰
- ä½¿ç”¨ä¸šåŠ¡ç›¸å…³çš„å‘½åï¼ˆå¦‚ `AdminAuthInterceptor`ï¼‰
- ç¼ºä¹é€šç”¨çš„æ‹¦æˆªå™¨åè®®

è¿™äº›é—®é¢˜åœ¨ v3.3.0 ä¸­å¾—åˆ°äº†å½»åº•è§£å†³ã€‚

---

## ğŸ“‹ v3.2.0 çš„ä¸»è¦ç‰¹æ€§

### 1. é…ç½®åŒ–æ‹¦æˆªå™¨ï¼ˆé›¶ä»£ç é…ç½®ï¼‰

æ”¯æŒåœ¨ `settings.py` ä¸­é…ç½® HTTP æ‹¦æˆªå™¨ï¼š

```python
# settings.py
from df_test_framework.infrastructure.config.schema import SignatureInterceptorConfig

class MySettings(FrameworkSettings):
    http: HTTPConfig = Field(
        default_factory=lambda: HTTPConfig(
            base_url="http://api.example.com",
            interceptors=[
                SignatureInterceptorConfig(
                    type="signature",
                    algorithm="md5",
                    secret="my_secret",
                    include_paths=["/api/**"],
                    exclude_paths=["/health"],
                ),
            ],
        )
    )
```

### 2. è·¯å¾„æ¨¡å¼åŒ¹é…

æ”¯æŒçµæ´»çš„è·¯å¾„æ¨¡å¼åŒ¹é…ï¼š
- `**` - åŒ¹é…å¤šçº§è·¯å¾„
- `*` - åŒ¹é…å•çº§è·¯å¾„
- ç²¾ç¡®åŒ¹é…
- æ­£åˆ™è¡¨è¾¾å¼

### 3. ä¼˜å…ˆçº§æ§åˆ¶

å¤šä¸ªæ‹¦æˆªå™¨æŒ‰ `priority` å­—æ®µæ’åºæ‰§è¡Œã€‚

---

## ğŸ”„ è¿ç§»å»ºè®®

### ä» v3.2.0 å‡çº§åˆ° v3.3.0

å¦‚æœæ‚¨å·²ç»åœ¨ä½¿ç”¨ v3.2.0ï¼Œå‡çº§åˆ° v3.3.0 éœ€è¦è¿›è¡Œä»¥ä¸‹è°ƒæ•´ï¼š

#### 1. é…ç½®ç±»é‡å‘½å
```python
# v3.2.0
AdminAuthInterceptorConfig(type="admin_auth", username="admin", password="xxx")

# v3.3.0
BearerTokenInterceptorConfig(
    type="bearer_token",
    login_credentials={"username": "admin", "password": "xxx"}
)
```

#### 2. ç§»é™¤ BaseAPI æ‹¦æˆªå™¨å‚æ•°
```python
# v3.2.0
api = MyAPI(client, request_interceptors=[...])

# v3.3.0
api = MyAPI(client)  # æ‹¦æˆªå™¨åœ¨ HttpClient å±‚é…ç½®
```

#### 3. å¯¼å…¥è·¯å¾„å˜æ›´
```python
# v3.2.0
from df_test_framework.clients.http.auth.signature import SignatureInterceptor

# v3.3.0
from df_test_framework.clients.http.interceptors import SignatureInterceptor
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

**æ¨èé˜…è¯»**:
- [v3.3.0 å‘å¸ƒè¯´æ˜](./v3.3.0.md) - å®Œæ•´çš„æ‹¦æˆªå™¨æ¶æ„é‡æ„
- [v3.3.0 è¿ç§»æŒ‡å—](./v3.3.0.md#-è¿ç§»æŒ‡å—-v32--v330)

**å®Œæ•´å˜æ›´æ—¥å¿—**: [CHANGELOG.md](../../CHANGELOG.md#320---2025-11-06)

---

## ğŸ’¡ æ€»ç»“

v3.2.0 æ˜¯æ‹¦æˆªå™¨æ¶æ„æ¼”è¿›è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘ï¼Œä½† v3.3.0 æä¾›äº†æ›´å®Œå–„çš„è§£å†³æ–¹æ¡ˆã€‚å»ºè®®æ‰€æœ‰ç”¨æˆ·ç›´æ¥ä½¿ç”¨ v3.3.0 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚

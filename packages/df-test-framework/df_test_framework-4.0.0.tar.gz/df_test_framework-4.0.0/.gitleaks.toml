# GitLeaks 配置文件
# 用于精确控制密钥扫描行为

title = "DF Test Framework - GitLeaks Config"

# ===== 允许列表 =====
# 排除已知的示例代码和测试数据

[allowlist]
description = "允许的测试数据和示例代码"

# 排除的路径模式
paths = [
    # 示例代码
    '''examples/''',

    # 文档
    '''docs/''',

    # 测试代码
    '''tests/''',

    # 发布说明和变更日志
    '''CHANGELOG.md''',
    '''docs/releases/''',
]

# 排除的正则表达式模式
regexes = [
    # JWT token 示例（文档和测试中使用）
    '''eyJhbGciOiJIUzI1NiIs''',

    # 常见的占位符和示例值
    '''example_api_key''',
    '''your_api_key''',
    '''your_secret''',
    '''test_token''',
    '''demo_key''',

    # Bearer token 示例
    '''Bearer abc123''',
    '''token_preview''',
]

# 排除的提交（历史提交中的误报）
commits = [
    "b53519e8893719957052de5dfc6336ed829d65c2",  # 示例代码重构
    "09393e1e5eb18ae79978b15272a332c01dbb9a57",  # 文档更新
]

# ===== 扫描配置 =====
[extend]
# 使用默认规则，但应用上述允许列表
useDefault = true
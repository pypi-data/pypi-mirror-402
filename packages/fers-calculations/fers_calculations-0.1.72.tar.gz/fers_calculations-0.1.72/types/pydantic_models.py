# generated by datamodel-codegen:
#   filename:  openapi.json
#   timestamp: 2026-01-16T07:36:37+00:00

from __future__ import annotations

from enum import Enum
from typing import Any

from pydantic import BaseModel, RootModel, conint


class AnalysisOrder(Enum):
    LINEAR = 'LINEAR'
    NONLINEAR = 'NONLINEAR'


class DensityUnit(Enum):
    kg_m3 = 'kg/m3'
    kg_mm3 = 'kg/mm3'


class Dimensionality(Enum):
    field_2D = '2D'
    field_3D = '3D'


class DistributedLoad(BaseModel):
    direction: list[Any]
    end_frac: float
    end_magnitude: float
    load_case: conint(ge=0)
    magnitude: float
    member: conint(ge=0)
    start_frac: float


class ForceUnit(Enum):
    N = 'N'
    kN = 'kN'


class GeneralInfo(BaseModel):
    author: str
    project_name: str
    version: str


class GoverningKey(BaseModel):
    load_case_id: conint(ge=0) | None = None
    load_combination_id: conint(ge=0) | None = None
    member_id: conint(ge=0) | None = None


class LengthUnit(Enum):
    mm = 'mm'
    cm = 'cm'
    m = 'm'


class LimitState(Enum):
    SLS = 'SLS'
    ULS = 'ULS'
    FLS = 'FLS'
    ALS = 'ALS'


class LoadCombination(BaseModel):
    check: str
    id: conint(ge=0)
    limit_state: LimitState | None = None
    load_cases_factors: dict[str, float]
    name: str
    situation: str | None = None


class Material(BaseModel):
    density: float
    e_mod: float
    g_mod: float
    id: conint(ge=0)
    name: str
    yield_stress: float


class MemberHinge(BaseModel):
    hinge_type: str
    id: conint(ge=0)
    max_moment_mx: float | None = None
    max_moment_my: float | None = None
    max_moment_mz: float | None = None
    max_tension_vx: float | None = None
    max_tension_vy: float | None = None
    max_tension_vz: float | None = None
    rotational_release_mx: float | None = None
    rotational_release_my: float | None = None
    rotational_release_mz: float | None = None
    translational_release_vx: float | None = None
    translational_release_vy: float | None = None
    translational_release_vz: float | None = None


class MemberType(Enum):
    Normal = 'Normal'
    Truss = 'Truss'
    Tension = 'Tension'
    Compression = 'Compression'
    Rigid = 'Rigid'


class NodalLoad(BaseModel):
    direction: list[Any]
    id: conint(ge=0)
    load_case: conint(ge=0)
    load_type: str
    magnitude: float
    node: conint(ge=0)


class NodalMoment(BaseModel):
    direction: list[Any]
    id: conint(ge=0)
    load_case: conint(ge=0)
    load_type: str
    magnitude: float
    node: conint(ge=0)


class Node(BaseModel):
    X: float
    Y: float
    Z: float
    id: conint(ge=0)
    nodal_support: conint(ge=0) | None = None


class NodeDisplacement(BaseModel):
    dx: float
    dy: float
    dz: float
    rx: float
    ry: float
    rz: float


class NodeForces(BaseModel):
    fx: float
    fy: float
    fz: float
    mx: float
    my: float
    mz: float


class NodeLocation(BaseModel):
    X: float
    Y: float
    Z: float


class PressureUnit(Enum):
    Pa = 'Pa'
    kPa = 'kPa'
    MPa = 'MPa'
    GPa = 'GPa'


class ReactionNodeResult(BaseModel):
    location: NodeLocation
    nodal_forces: NodeForces
    support_id: conint(ge=0)


class ResultType1(BaseModel):
    Loadcase: conint(ge=0)


class ResultType2(BaseModel):
    Loadcombination: conint(ge=0)


class ResultType(RootModel[ResultType1 | ResultType2]):
    root: ResultType1 | ResultType2


class ResultsSummary(BaseModel):
    total_displacements: conint(ge=0)
    total_member_forces: conint(ge=0)
    total_reaction_forces: conint(ge=0)


class RigidStrategy(Enum):
    LinearMpc = 'LinearMpc'
    RigidMember = 'RigidMember'


class RotationImperfection(BaseModel):
    axis: list[Any]
    magnitude: float
    memberset_ids: list[conint(ge=0)]


class Section(BaseModel):
    area: float
    b: float | None = None
    h: float | None = None
    i_y: float
    i_z: float
    id: conint(ge=0)
    j: float
    material: conint(ge=0)
    name: str
    shape_path: conint(ge=0) | None = None


class ShapeCommand(BaseModel):
    command: str
    control_y1: float | None = None
    control_y2: float | None = None
    control_z1: float | None = None
    control_z2: float | None = None
    r: float | None = None
    y: float | None = None
    z: float | None = None


class ShapePath(BaseModel):
    id: conint(ge=0)
    name: str
    shape_commands: list[ShapeCommand]


class SupportConditionType(Enum):
    Fixed = 'Fixed'
    Free = 'Free'
    Spring = 'Spring'
    PositiveOnly = 'PositiveOnly'
    NegativeOnly = 'NegativeOnly'


class TranslationImperfection(BaseModel):
    axis: list[Any]
    magnitude: float
    memberset_ids: list[conint(ge=0)]


class UnitSettings(BaseModel):
    densityUnit: DensityUnit | None = None
    forceUnit: ForceUnit | None = None
    lengthUnit: LengthUnit | None = None
    pressureUnit: PressureUnit | None = None
    system: str | None = None


class UnityCheck(BaseModel):
    check_id: str
    details: Any
    governing: GoverningKey | None = None
    limit: float | None = None
    message: str | None = None
    ok: bool
    value: float | None = None


class UnityCheckOverview(BaseModel):
    aggregated_ok: bool
    aggregated_value: float | None = None
    check_id: str
    children: list[UnityCheck]
    governing: GoverningKey | None = None


class AnalysisOptions(BaseModel):
    axial_slack: float
    dimensionality: Dimensionality
    id: conint(ge=0)
    max_iterations: conint(ge=0) | None = None
    order: AnalysisOrder
    rigid_strategy: RigidStrategy
    solve_loadcases: bool
    solver: str
    tolerance: float


class ImperfectionCase(BaseModel):
    imperfection_case_id: conint(ge=0)
    load_combinations: list[conint(ge=0)]
    rotation_imperfections: list[RotationImperfection]
    translation_imperfections: list[TranslationImperfection]


class LoadCase(BaseModel):
    distributed_loads: list[DistributedLoad]
    id: conint(ge=0)
    name: str
    nodal_loads: list[NodalLoad]
    nodal_moments: list[NodalMoment]
    rotation_imperfections: list[RotationImperfection]
    translation_imperfections: list[TranslationImperfection]


class Member(BaseModel):
    chi: float | None = None
    classification: str
    end_hinge: conint(ge=0) | None = None
    end_node: Node
    id: conint(ge=0)
    member_type: MemberType
    reference_member: conint(ge=0) | None = None
    reference_node: conint(ge=0) | None = None
    rotation_angle: float
    section: conint(ge=0) | None = None
    start_hinge: conint(ge=0) | None = None
    start_node: Node
    weight: float


class MemberResult(BaseModel):
    end_node_forces: NodeForces
    maximums: NodeForces
    minimums: NodeForces
    start_node_forces: NodeForces


class MemberSet(BaseModel):
    classification: str | None = None
    id: conint(ge=0)
    l_y: float | None = None
    l_z: float | None = None
    members: list[Member]


class Results(BaseModel):
    displacement_nodes: dict[str, NodeDisplacement]
    member_results: dict[str, MemberResult]
    name: str
    reaction_nodes: dict[str, ReactionNodeResult]
    result_type: ResultType
    summary: ResultsSummary
    unity_checks: dict[str, UnityCheck] | None = None


class ResultsBundle(BaseModel):
    loadcases: dict[str, Results]
    loadcombinations: dict[str, Results]
    unity_checks_overview: dict[str, UnityCheckOverview] | None = None


class Settings(BaseModel):
    analysis_options: AnalysisOptions
    general_info: GeneralInfo
    id: conint(ge=0)
    unit_settings: UnitSettings


class SupportCondition(BaseModel):
    condition_type: SupportConditionType
    stiffness: float | None = None


class NodalSupport(BaseModel):
    classification: str | None = None
    displacement_conditions: dict[str, SupportCondition]
    id: conint(ge=0)
    rotation_conditions: dict[str, SupportCondition]


class FERS(BaseModel):
    imperfection_cases: list[ImperfectionCase]
    load_cases: list[LoadCase]
    load_combinations: list[LoadCombination]
    materials: list[Material]
    member_sets: list[MemberSet]
    memberhinges: list[MemberHinge] | None = None
    nodal_supports: list[NodalSupport]
    results: ResultsBundle | None = None
    sections: list[Section]
    settings: Settings
    shape_paths: list[ShapePath] | None = None

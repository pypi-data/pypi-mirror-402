{"version":3,"file":"5956.8519ca1f1209c27a.js","sources":["webpack://insteon-frontend/./node_modules/@material/web/list/internal/list-controller.ts","webpack://insteon-frontend/./node_modules/@material/web/list/internal/list-styles.ts","webpack://insteon-frontend/./node_modules/@material/web/list/internal/list.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  activateFirstItem,\n  activateLastItem,\n  activateNextItem,\n  activatePreviousItem,\n  getActiveItem,\n  getFirstActivatableItem,\n  ListItem,\n} from './list-navigation-helpers.js';\n\n// TODO: move this file to List and make List use this\n\n/**\n * Default keys that trigger navigation.\n */\n// tslint:disable:enforce-name-casing Following Enum style\nexport const NavigableKeys = {\n  ArrowDown: 'ArrowDown',\n  ArrowLeft: 'ArrowLeft',\n  ArrowUp: 'ArrowUp',\n  ArrowRight: 'ArrowRight',\n  Home: 'Home',\n  End: 'End',\n} as const;\n// tslint:enable:enforce-name-casing\n\n/**\n * Default set of navigable keys.\n */\nexport type NavigableKeys = (typeof NavigableKeys)[keyof typeof NavigableKeys];\n\n/**\n * The configuration object to customize the behavior of the List Controller\n */\nexport interface ListControllerConfig<Item extends ListItem> {\n  /**\n   * A function that determines whether or not the given element is an Item\n   */\n  isItem: (item: HTMLElement) => item is Item;\n  /**\n   * A function that returns an array of elements to consider as items. For\n   * example, all the slotted elements.\n   */\n  getPossibleItems: () => HTMLElement[];\n  /**\n   * A function that returns whether or not the list is in an RTL context.\n   */\n  isRtl: () => boolean;\n  /**\n   * Deactivates an item such as setting the tabindex to -1 and or sets selected\n   * to false.\n   */\n  deactivateItem: (item: Item) => void;\n  /**\n   * Activates an item such as setting the tabindex to 1 and or sets selected to\n   * true (but does not focus).\n   */\n  activateItem: (item: Item) => void;\n  /**\n   * Whether or not the key should be handled by the list for navigation.\n   */\n  isNavigableKey: (key: string) => boolean;\n  /**\n   * Whether or not the item can be activated. Defaults to items that are not\n   * disabled.\n   */\n  isActivatable?: (item: Item) => boolean;\n  /**\n   * Whether or not navigating past the end of the list wraps to the beginning\n   * and vice versa. Defaults to true.\n   */\n  wrapNavigation?: () => boolean;\n}\n\n/**\n * A controller that handles list keyboard navigation and item management.\n */\nexport class ListController<Item extends ListItem> {\n  isItem: (item: HTMLElement) => item is Item;\n  private readonly getPossibleItems: () => HTMLElement[];\n  private readonly isRtl: () => boolean;\n  private readonly deactivateItem: (item: Item) => void;\n  private readonly activateItem: (item: Item) => void;\n  private readonly isNavigableKey: (key: string) => boolean;\n  private readonly isActivatable?: (item: Item) => boolean;\n  private readonly wrapNavigation: () => boolean;\n\n  constructor(config: ListControllerConfig<Item>) {\n    const {\n      isItem,\n      getPossibleItems,\n      isRtl,\n      deactivateItem,\n      activateItem,\n      isNavigableKey,\n      isActivatable,\n      wrapNavigation,\n    } = config;\n    this.isItem = isItem;\n    this.getPossibleItems = getPossibleItems;\n    this.isRtl = isRtl;\n    this.deactivateItem = deactivateItem;\n    this.activateItem = activateItem;\n    this.isNavigableKey = isNavigableKey;\n    this.isActivatable = isActivatable;\n    this.wrapNavigation = wrapNavigation ?? (() => true);\n  }\n\n  /**\n   * The items being managed by the list. Additionally, attempts to see if the\n   * object has a sub-item in the `.item` property.\n   */\n  get items(): Item[] {\n    const maybeItems = this.getPossibleItems();\n    const items: Item[] = [];\n\n    for (const itemOrParent of maybeItems) {\n      const isItem = this.isItem(itemOrParent);\n      // if the item is a list item, add it to the list of items\n      if (isItem) {\n        items.push(itemOrParent);\n        continue;\n      }\n\n      // If the item exposes an `item` property check if it is a list item.\n      const subItem = (itemOrParent as HTMLElement & {item?: Item}).item;\n      if (subItem && this.isItem(subItem)) {\n        items.push(subItem);\n      }\n    }\n\n    return items;\n  }\n\n  /**\n   * Handles keyboard navigation. Should be bound to the node that will act as\n   * the List.\n   */\n  handleKeydown = (event: KeyboardEvent) => {\n    const key = event.key;\n    if (event.defaultPrevented || !this.isNavigableKey(key)) {\n      return;\n    }\n    // do not use this.items directly in upcoming calculations so we don't\n    // re-query the DOM unnecessarily\n    const items = this.items;\n\n    if (!items.length) {\n      return;\n    }\n\n    const activeItemRecord = getActiveItem(items, this.isActivatable);\n\n    event.preventDefault();\n\n    const isRtl = this.isRtl();\n    const inlinePrevious = isRtl\n      ? NavigableKeys.ArrowRight\n      : NavigableKeys.ArrowLeft;\n    const inlineNext = isRtl\n      ? NavigableKeys.ArrowLeft\n      : NavigableKeys.ArrowRight;\n\n    let nextActiveItem: Item | null = null;\n    switch (key) {\n      // Activate the next item\n      case NavigableKeys.ArrowDown:\n      case inlineNext:\n        nextActiveItem = activateNextItem(\n          items,\n          activeItemRecord,\n          this.isActivatable,\n          this.wrapNavigation(),\n        );\n        break;\n\n      // Activate the previous item\n      case NavigableKeys.ArrowUp:\n      case inlinePrevious:\n        nextActiveItem = activatePreviousItem(\n          items,\n          activeItemRecord,\n          this.isActivatable,\n          this.wrapNavigation(),\n        );\n        break;\n\n      // Activate the first item\n      case NavigableKeys.Home:\n        nextActiveItem = activateFirstItem(items, this.isActivatable);\n        break;\n\n      // Activate the last item\n      case NavigableKeys.End:\n        nextActiveItem = activateLastItem(items, this.isActivatable);\n        break;\n\n      default:\n        break;\n    }\n\n    if (\n      nextActiveItem &&\n      activeItemRecord &&\n      activeItemRecord.item !== nextActiveItem\n    ) {\n      // If a new item was activated, remove the tabindex of the previous\n      // activated item.\n      activeItemRecord.item.tabIndex = -1;\n    }\n  };\n\n  /**\n   * Activates the next item in the list. If at the end of the list, the first\n   * item will be activated.\n   *\n   * @return The activated list item or `null` if there are no items.\n   */\n  activateNextItem(): Item | null {\n    const items = this.items;\n    const activeItemRecord = getActiveItem(items, this.isActivatable);\n    if (activeItemRecord) {\n      activeItemRecord.item.tabIndex = -1;\n    }\n    return activateNextItem(\n      items,\n      activeItemRecord,\n      this.isActivatable,\n      this.wrapNavigation(),\n    );\n  }\n\n  /**\n   * Activates the previous item in the list. If at the start of the list, the\n   * last item will be activated.\n   *\n   * @return The activated list item or `null` if there are no items.\n   */\n  activatePreviousItem(): Item | null {\n    const items = this.items;\n    const activeItemRecord = getActiveItem(items, this.isActivatable);\n    if (activeItemRecord) {\n      activeItemRecord.item.tabIndex = -1;\n    }\n    return activatePreviousItem(\n      items,\n      activeItemRecord,\n      this.isActivatable,\n      this.wrapNavigation(),\n    );\n  }\n\n  /**\n   * Listener to be bound to the `deactivate-items` item event.\n   */\n  onDeactivateItems = () => {\n    const items = this.items;\n\n    for (const item of items) {\n      this.deactivateItem(item);\n    }\n  };\n\n  /**\n   * Listener to be bound to the `request-activation` item event..\n   */\n  onRequestActivation = (event: Event) => {\n    this.onDeactivateItems();\n    const target = event.target as Item;\n    this.activateItem(target);\n    target.focus();\n  };\n\n  /**\n   * Listener to be bound to the `slotchange` event for the slot that renders\n   * the items.\n   */\n  onSlotchange = () => {\n    const items = this.items;\n    // Whether we have encountered an item that has been activated\n    let encounteredActivated = false;\n\n    for (const item of items) {\n      const isActivated = !item.disabled && item.tabIndex > -1;\n\n      if (isActivated && !encounteredActivated) {\n        encounteredActivated = true;\n        item.tabIndex = 0;\n        continue;\n      }\n\n      // Deactivate the rest including disabled\n      item.tabIndex = -1;\n    }\n\n    if (encounteredActivated) {\n      return;\n    }\n\n    const firstActivatableItem = getFirstActivatableItem(\n      items,\n      this.isActivatable,\n    );\n\n    if (!firstActivatableItem) {\n      return;\n    }\n\n    firstActivatableItem.tabIndex = 0;\n  };\n}\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n// Generated stylesheet for ./list/internal/list-styles.css.\nimport {css} from 'lit';\nexport const styles = css`:host{background:var(--md-list-container-color, var(--md-sys-color-surface, #fef7ff));color:unset;display:flex;flex-direction:column;outline:none;padding:8px 0;position:relative}\n`;\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {html, isServer, LitElement} from 'lit';\nimport {queryAssignedElements} from 'lit/decorators.js';\n\nimport {ListController, NavigableKeys} from './list-controller.js';\nimport {ListItem as SharedListItem} from './list-navigation-helpers.js';\n\nconst NAVIGABLE_KEY_SET = new Set<string>(Object.values(NavigableKeys));\n\ninterface ListItem extends SharedListItem {\n  type: 'text' | 'button' | 'link';\n}\n\n// tslint:disable-next-line:enforce-comments-on-exported-symbols\nexport class List extends LitElement {\n  /**\n   * An array of activatable and disableable list items. Queries every assigned\n   * element that has the `md-list-item` attribute.\n   *\n   * _NOTE:_ This is a shallow, flattened query via\n   * `HTMLSlotElement.queryAssignedElements` and thus will _only_ include direct\n   * children / directly slotted elements.\n   */\n  @queryAssignedElements({flatten: true})\n  protected slotItems!: Array<ListItem | (HTMLElement & {item?: ListItem})>;\n\n  /** @export */\n  get items() {\n    return this.listController.items;\n  }\n\n  private readonly listController = new ListController<ListItem>({\n    isItem: (item: HTMLElement): item is ListItem =>\n      item.hasAttribute('md-list-item'),\n    getPossibleItems: () => this.slotItems,\n    isRtl: () => getComputedStyle(this).direction === 'rtl',\n    deactivateItem: (item) => {\n      item.tabIndex = -1;\n    },\n    activateItem: (item) => {\n      item.tabIndex = 0;\n    },\n    isNavigableKey: (key) => NAVIGABLE_KEY_SET.has(key),\n    isActivatable: (item) => !item.disabled && item.type !== 'text',\n  });\n\n  private readonly internals =\n    // Cast needed for closure\n    (this as HTMLElement).attachInternals();\n\n  constructor() {\n    super();\n    if (!isServer) {\n      this.internals.role = 'list';\n      this.addEventListener('keydown', this.listController.handleKeydown);\n    }\n  }\n\n  protected override render() {\n    return html`\n      <slot\n        @deactivate-items=${this.listController.onDeactivateItems}\n        @request-activation=${this.listController.onRequestActivation}\n        @slotchange=${this.listController.onSlotchange}>\n      </slot>\n    `;\n  }\n\n  /**\n   * Activates the next item in the list. If at the end of the list, the first\n   * item will be activated.\n   *\n   * @return The activated list item or `null` if there are no items.\n   */\n  activateNextItem(): ListItem | null {\n    return this.listController.activateNextItem();\n  }\n\n  /**\n   * Activates the previous item in the list. If at the start of the list, the\n   * last item will be activated.\n   *\n   * @return The activated list item or `null` if there are no items.\n   */\n  activatePreviousItem(): ListItem | null {\n    return this.listController.activatePreviousItem();\n  }\n}\n"],"names":["NavigableKeys","ArrowDown","ArrowLeft","ArrowUp","ArrowRight","Home","End","ListController","_createClass","config","_this","_classCallCheck","handleKeydown","event","key","defaultPrevented","isNavigableKey","items","length","activeItemRecord","getActiveItem","isActivatable","preventDefault","isRtl","inlinePrevious","inlineNext","nextActiveItem","activateNextItem","wrapNavigation","activatePreviousItem","activateFirstItem","activateLastItem","item","tabIndex","onDeactivateItems","_step","_iterator","_createForOfIteratorHelper","s","n","done","value","deactivateItem","err","e","f","onRequestActivation","target","activateItem","focus","onSlotchange","_step2","encounteredActivated","_iterator2","disabled","firstActivatableItem","getFirstActivatableItem","isItem","getPossibleItems","this","get","_step3","maybeItems","_iterator3","itemOrParent","push","subItem","styles","css","_templateObject","_taggedTemplateLiteral","NAVIGABLE_KEY_SET","Set","Object","values","List","_LitElement","_callSuper","listController","hasAttribute","slotItems","getComputedStyle","direction","has","type","internals","attachInternals","isServer","role","addEventListener","_inherits","html","LitElement","__decorate","queryAssignedElements","flatten"],"mappings":"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"}
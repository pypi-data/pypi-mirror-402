{"version":3,"file":"8550.3eed35132077dccb.js","sources":["webpack://insteon-frontend/./homeassistant-frontend/src/components/ha-expansion-panel.ts","webpack://insteon-frontend/./homeassistant-frontend/src/components/ha-form/ha-form-expandable.ts"],"sourcesContent":["import { mdiChevronDown } from \"@mdi/js\";\nimport type { PropertyValues, TemplateResult } from \"lit\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, query, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { nextRender } from \"../common/util/render-status\";\nimport \"./ha-svg-icon\";\n\n@customElement(\"ha-expansion-panel\")\nexport class HaExpansionPanel extends LitElement {\n  @property({ type: Boolean, reflect: true }) expanded = false;\n\n  @property({ type: Boolean, reflect: true }) outlined = false;\n\n  @property({ attribute: \"left-chevron\", type: Boolean, reflect: true })\n  public leftChevron = false;\n\n  @property({ attribute: \"no-collapse\", type: Boolean, reflect: true })\n  public noCollapse = false;\n\n  @property() header?: string;\n\n  @property() secondary?: string;\n\n  @state() _showContent = this.expanded;\n\n  @query(\".container\") private _container!: HTMLDivElement;\n\n  protected render(): TemplateResult {\n    const chevronIcon = this.noCollapse\n      ? nothing\n      : html`\n          <ha-svg-icon\n            .path=${mdiChevronDown}\n            class=\"summary-icon ${classMap({ expanded: this.expanded })}\"\n          ></ha-svg-icon>\n        `;\n    return html`\n      <div class=\"top ${classMap({ expanded: this.expanded })}\">\n        <div\n          id=\"summary\"\n          class=${classMap({ noCollapse: this.noCollapse })}\n          @click=${this._toggleContainer}\n          @keydown=${this._toggleContainer}\n          @focus=${this._focusChanged}\n          @blur=${this._focusChanged}\n          role=\"button\"\n          tabindex=${this.noCollapse ? -1 : 0}\n          aria-expanded=${this.expanded}\n          aria-controls=\"sect1\"\n          part=\"summary\"\n        >\n          ${this.leftChevron ? chevronIcon : nothing}\n          <slot name=\"leading-icon\"></slot>\n          <slot name=\"header\">\n            <div class=\"header\">\n              ${this.header}\n              <slot class=\"secondary\" name=\"secondary\">${this.secondary}</slot>\n            </div>\n          </slot>\n          ${!this.leftChevron ? chevronIcon : nothing}\n          <slot name=\"icons\"></slot>\n        </div>\n      </div>\n      <div\n        class=\"container ${classMap({ expanded: this.expanded })}\"\n        @transitionend=${this._handleTransitionEnd}\n        role=\"region\"\n        aria-labelledby=\"summary\"\n        aria-hidden=${!this.expanded}\n        tabindex=\"-1\"\n      >\n        ${this._showContent ? html`<slot></slot>` : \"\"}\n      </div>\n    `;\n  }\n\n  protected willUpdate(changedProps: PropertyValues) {\n    super.willUpdate(changedProps);\n    if (changedProps.has(\"expanded\")) {\n      this._showContent = this.expanded;\n      setTimeout(() => {\n        // Verify we're still expanded\n        this._container.style.overflow = this.expanded ? \"initial\" : \"hidden\";\n      }, 300);\n    }\n  }\n\n  private _handleTransitionEnd() {\n    this._container.style.removeProperty(\"height\");\n    this._container.style.overflow = this.expanded ? \"initial\" : \"hidden\";\n    this._showContent = this.expanded;\n  }\n\n  private async _toggleContainer(ev): Promise<void> {\n    if (ev.defaultPrevented) {\n      return;\n    }\n    if (ev.type === \"keydown\" && ev.key !== \"Enter\" && ev.key !== \" \") {\n      return;\n    }\n    ev.preventDefault();\n    if (this.noCollapse) {\n      return;\n    }\n    const newExpanded = !this.expanded;\n    fireEvent(this, \"expanded-will-change\", { expanded: newExpanded });\n    this._container.style.overflow = \"hidden\";\n\n    if (newExpanded) {\n      this._showContent = true;\n      // allow for dynamic content to be rendered\n      await nextRender();\n    }\n\n    const scrollHeight = this._container.scrollHeight;\n    this._container.style.height = `${scrollHeight}px`;\n\n    if (!newExpanded) {\n      setTimeout(() => {\n        this._container.style.height = \"0px\";\n      }, 0);\n    }\n\n    this.expanded = newExpanded;\n    fireEvent(this, \"expanded-changed\", { expanded: this.expanded });\n  }\n\n  private _focusChanged(ev) {\n    if (this.noCollapse) {\n      return;\n    }\n    this.shadowRoot!.querySelector(\".top\")!.classList.toggle(\n      \"focused\",\n      ev.type === \"focus\"\n    );\n  }\n\n  static styles = css`\n    :host {\n      display: block;\n    }\n\n    .top {\n      display: flex;\n      align-items: center;\n      border-radius: var(--ha-card-border-radius, var(--ha-border-radius-lg));\n    }\n\n    .top.expanded {\n      border-bottom-left-radius: 0px;\n      border-bottom-right-radius: 0px;\n    }\n\n    .top.focused {\n      background: var(--input-fill-color);\n    }\n\n    :host([outlined]) {\n      box-shadow: none;\n      border-width: 1px;\n      border-style: solid;\n      border-color: var(--outline-color);\n      border-radius: var(--ha-card-border-radius, var(--ha-border-radius-lg));\n    }\n\n    .summary-icon {\n      transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);\n      direction: var(--direction);\n      margin-left: 8px;\n      margin-inline-start: 8px;\n      margin-inline-end: initial;\n      border-radius: var(--ha-border-radius-circle);\n    }\n\n    #summary:focus-visible ha-svg-icon.summary-icon {\n      background-color: var(--ha-color-fill-neutral-normal-active);\n    }\n\n    :host([left-chevron]) .summary-icon,\n    ::slotted([slot=\"leading-icon\"]) {\n      margin-left: 0;\n      margin-right: 8px;\n      margin-inline-start: 0;\n      margin-inline-end: 8px;\n    }\n\n    #summary {\n      flex: 1;\n      display: flex;\n      padding: var(--expansion-panel-summary-padding, 0 8px);\n      min-height: 48px;\n      align-items: center;\n      cursor: pointer;\n      overflow: hidden;\n      font-weight: var(--ha-font-weight-medium);\n      outline: none;\n    }\n    #summary.noCollapse {\n      cursor: default;\n    }\n\n    .summary-icon.expanded {\n      transform: rotate(180deg);\n    }\n\n    .header,\n    ::slotted([slot=\"header\"]) {\n      flex: 1;\n      overflow-wrap: anywhere;\n      color: var(--primary-text-color);\n    }\n\n    .container {\n      padding: var(--expansion-panel-content-padding, 0 8px);\n      overflow: hidden;\n      transition: height 300ms cubic-bezier(0.4, 0, 0.2, 1);\n      height: 0px;\n    }\n\n    .container.expanded {\n      height: auto;\n    }\n\n    .secondary {\n      display: block;\n      color: var(--secondary-text-color);\n      font-size: var(--ha-font-size-s);\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-expansion-panel\": HaExpansionPanel;\n  }\n\n  // for fire event\n  interface HASSDomEvents {\n    \"expanded-changed\": {\n      expanded: boolean;\n    };\n    \"expanded-will-change\": {\n      expanded: boolean;\n    };\n  }\n}\n","import { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport type { HomeAssistant } from \"../../types\";\nimport \"./ha-form\";\nimport \"../ha-expansion-panel\";\nimport type {\n  HaFormDataContainer,\n  HaFormElement,\n  HaFormExpandableSchema,\n  HaFormSchema,\n} from \"./types\";\n\n@customElement(\"ha-form-expandable\")\nexport class HaFormExpandable extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public data!: HaFormDataContainer;\n\n  @property({ attribute: false }) public schema!: HaFormExpandableSchema;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ attribute: false }) public computeLabel?: (\n    schema: HaFormSchema,\n    data?: HaFormDataContainer,\n    options?: { path?: string[] }\n  ) => string;\n\n  @property({ attribute: false }) public computeHelper?: (\n    schema: HaFormSchema,\n    options?: { path?: string[] }\n  ) => string;\n\n  @property({ attribute: false }) public localizeValue?: (\n    key: string\n  ) => string;\n\n  private _renderDescription() {\n    const description = this.computeHelper?.(this.schema);\n    return description ? html`<p>${description}</p>` : nothing;\n  }\n\n  private _computeLabel = (\n    schema: HaFormSchema,\n    data?: HaFormDataContainer,\n    options?: { path?: string[] }\n  ) => {\n    if (!this.computeLabel) return this.computeLabel;\n\n    return this.computeLabel(schema, data, {\n      ...options,\n      path: [...(options?.path || []), this.schema.name],\n    });\n  };\n\n  private _computeHelper = (\n    schema: HaFormSchema,\n    options?: { path?: string[] }\n  ) => {\n    if (!this.computeHelper) return this.computeHelper;\n\n    return this.computeHelper(schema, {\n      ...options,\n      path: [...(options?.path || []), this.schema.name],\n    });\n  };\n\n  protected render() {\n    return html`\n      <ha-expansion-panel outlined .expanded=${Boolean(this.schema.expanded)}>\n        ${this.schema.icon\n          ? html`\n              <ha-icon slot=\"leading-icon\" .icon=${this.schema.icon}></ha-icon>\n            `\n          : this.schema.iconPath\n            ? html`\n                <ha-svg-icon\n                  slot=\"leading-icon\"\n                  .path=${this.schema.iconPath}\n                ></ha-svg-icon>\n              `\n            : nothing}\n        <div\n          slot=\"header\"\n          role=\"heading\"\n          aria-level=${this.schema.headingLevel?.toString() ?? \"3\"}\n        >\n          ${this.schema.title || this.computeLabel?.(this.schema)}\n        </div>\n        <div class=\"content\">\n          ${this._renderDescription()}\n          <ha-form\n            .hass=${this.hass}\n            .data=${this.data}\n            .schema=${this.schema.schema}\n            .disabled=${this.disabled}\n            .computeLabel=${this._computeLabel}\n            .computeHelper=${this._computeHelper}\n            .localizeValue=${this.localizeValue}\n          ></ha-form>\n        </div>\n      </ha-expansion-panel>\n    `;\n  }\n\n  static styles = css`\n    :host {\n      display: flex !important;\n      flex-direction: column;\n    }\n    :host ha-form {\n      display: block;\n    }\n    .content {\n      padding: 12px;\n    }\n    .content p {\n      margin: 0 0 24px;\n    }\n    ha-expansion-panel {\n      display: block;\n      --expansion-panel-content-padding: 0;\n      border-radius: var(--ha-border-radius-md);\n      --ha-card-border-radius: var(--ha-border-radius-md);\n    }\n    ha-svg-icon,\n    ha-icon {\n      color: var(--secondary-text-color);\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-expandable\": HaFormExpandable;\n  }\n}\n"],"names":["HaExpansionPanel","_LitElement","_this","_callSuper","concat","args","expanded","outlined","leftChevron","noCollapse","_showContent","chevronIcon","nothing","html","_templateObject","_taggedTemplateLiteral","classMap","_templateObject2","_toggleContainer","_focusChanged","header","secondary","_handleTransitionEnd","_templateObject3","key","value","changedProps","_this2","_superPropGet","has","this","setTimeout","_container","style","overflow","removeProperty","_toggleContainer2","_asyncToGenerator","_regenerator","m","_callee","ev","newExpanded","scrollHeight","_this3","w","_context","n","defaultPrevented","a","type","preventDefault","fireEvent","nextRender","height","_x","apply","arguments","shadowRoot","querySelector","classList","toggle","LitElement","styles","css","_templateObject4","Boolean","reflect","attribute","HaFormExpandable","disabled","_computeLabel","schema","data","options","computeLabel","Object","assign","path","_toConsumableArray","name","_computeHelper","computeHelper","_this$computeHelper","description","call","_this$schema$headingL","_this$schema$headingL2","_this$computeLabel","icon","iconPath","headingLevel","toString","title","_renderDescription","hass","localizeValue","_templateObject5"],"mappings":"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"}
"use strict";(self.webpackChunkinsteon_frontend=self.webpackChunkinsteon_frontend||[]).push([["2542"],{48774:function(e,a,t){t.d(a,{L:function(){return n}});var n=function(e,a){var t=e.floor_id;return{area:e,floor:(t?a[t]:void 0)||null}}},25388:function(e,a,t){var n,i=t(72153),r=t(43080),o=t(44734),s=t(69683),l=t(6454),c=t(62826),d=t(41216),u=t(78960),h=t(75640),_=t(91735),p=t(43826),v=t(96196),f=t(77845),m=function(e){function a(){return(0,o.A)(this,a),(0,s.A)(this,a,arguments)}return(0,l.A)(a,e),(0,r.A)(a)}(d.R);m.styles=[_.R,p.R,h.R,u.R,(0,v.AH)(n||(n=(0,i.A)(['\n      :host {\n        --md-sys-color-primary: var(--primary-text-color);\n        --md-sys-color-on-surface: var(--primary-text-color);\n        --md-sys-color-on-surface-variant: var(--primary-text-color);\n        --md-sys-color-on-secondary-container: var(--primary-text-color);\n        --md-input-chip-container-shape: 16px;\n        --md-input-chip-outline-color: var(--outline-color);\n        --md-input-chip-selected-container-color: rgba(\n          var(--rgb-primary-text-color),\n          0.15\n        );\n        --ha-input-chip-selected-container-opacity: 1;\n        --md-input-chip-label-text-font: Roboto, sans-serif;\n      }\n      /** Set the size of mdc icons **/\n      ::slotted([slot="icon"]) {\n        display: flex;\n        --mdc-icon-size: var(--md-input-chip-icon-size, 18px);\n      }\n      .selected::before {\n        opacity: var(--ha-input-chip-selected-container-opacity);\n      }\n    '])))],m=(0,c.__decorate)([(0,f.EM)("ha-input-chip")],m)},53907:function(e,a,t){t.a(e,async function(e,a){try{var n,i,r,o,s,l,c,d=t(61397),u=t(50264),h=t(94741),_=t(72153),p=t(44734),v=t(43080),f=t(69683),m=t(6454),y=(t(28706),t(2008),t(74423),t(62062),t(18111),t(81148),t(22489),t(61701),t(13579),t(26099),t(16034),t(21699),t(11392),t(62826)),g=t(96196),A=t(77845),b=t(22786),k=t(92542),w=t(56403),L=t(41144),M=t(47644),x=t(48774),z=t(2223),V=t(74839),C=t(10234),q=t(82160),H=(t(94343),t(96943)),Z=(t(60733),t(60961),e([H]));H=(Z.then?(await Z)():Z)[0];var D="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",F="M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z",E="___ADD_NEW___",R=function(e){function a(){var e;(0,p.A)(this,a);for(var t=arguments.length,c=new Array(t),d=0;d<t;d++)c[d]=arguments[d];return(e=(0,f.A)(this,a,[].concat(c))).noAdd=!1,e.disabled=!1,e.required=!1,e._computeValueRenderer=(0,b.A)(function(a){return function(a){var t=e.hass.areas[a];if(!t)return(0,g.qy)(n||(n=(0,_.A)(['\n            <ha-svg-icon slot="start" .path=','></ha-svg-icon>\n            <span slot="headline">',"</span>\n          "])),F,t);var l=(0,x.L)(t,e.hass.floors).floor,c=t?(0,w.A)(t):void 0,d=l?(0,M.X)(l):void 0,u=t.icon;return(0,g.qy)(i||(i=(0,_.A)(["\n          ",'\n          <span slot="headline">',"</span>\n          ","\n        "])),u?(0,g.qy)(r||(r=(0,_.A)(['<ha-icon slot="start" .icon=',"></ha-icon>"])),u):(0,g.qy)(o||(o=(0,_.A)(['<ha-svg-icon\n                slot="start"\n                .path=',"\n              ></ha-svg-icon>"])),F),c,d?(0,g.qy)(s||(s=(0,_.A)(['<span slot="supporting-text">',"</span>"])),d):g.s6)}}),e._getAreas=(0,b.A)(function(a,t,n,i,r,o,s,l,c){var d,u,_={},p=Object.values(a),v=Object.values(t),f=Object.values(n);(i||r||o||s||l)&&(_=(0,V.g2)(f),d=v,u=f.filter(function(e){return e.area_id}),i&&(d=d.filter(function(e){var a=_[e.id];return!(!a||!a.length)&&_[e.id].some(function(e){return i.includes((0,L.m)(e.entity_id))})}),u=u.filter(function(e){return i.includes((0,L.m)(e.entity_id))})),r&&(d=d.filter(function(e){var a=_[e.id];return!a||!a.length||f.every(function(e){return!r.includes((0,L.m)(e.entity_id))})}),u=u.filter(function(e){return!r.includes((0,L.m)(e.entity_id))})),o&&(d=d.filter(function(a){var t=_[a.id];return!(!t||!t.length)&&_[a.id].some(function(a){var t=e.hass.states[a.entity_id];return!!t&&(t.attributes.device_class&&o.includes(t.attributes.device_class))})}),u=u.filter(function(a){var t=e.hass.states[a.entity_id];return t.attributes.device_class&&o.includes(t.attributes.device_class)})),s&&(d=d.filter(function(e){return s(e)})),l&&(d=d.filter(function(a){var t=_[a.id];return!(!t||!t.length)&&_[a.id].some(function(a){var t=e.hass.states[a.entity_id];return!!t&&l(t)})}),u=u.filter(function(a){var t=e.hass.states[a.entity_id];return!!t&&l(t)})));var m,y=p;return d&&(m=d.filter(function(e){return e.area_id}).map(function(e){return e.area_id})),u&&(m=(null!=m?m:[]).concat(u.filter(function(e){return e.area_id}).map(function(e){return e.area_id}))),m&&(y=y.filter(function(e){return m.includes(e.area_id)})),c&&(y=y.filter(function(e){return!c.includes(e.area_id)})),y.map(function(a){var t=(0,x.L)(a,e.hass.floors).floor,n=t?(0,M.X)(t):void 0,i=(0,w.A)(a);return{id:a.area_id,primary:i||a.area_id,secondary:n,icon:a.icon||void 0,icon_path:a.icon?void 0:F,sorting_label:i,search_labels:[i,n,a.area_id].concat((0,h.A)(a.aliases)).filter(function(e){return Boolean(e)})}})}),e._getItems=function(){return e._getAreas(e.hass.areas,e.hass.devices,e.hass.entities,e.includeDomains,e.excludeDomains,e.includeDeviceClasses,e.deviceFilter,e.entityFilter,e.excludeAreas)},e._allAreaNames=(0,b.A)(function(e){return Object.values(e).map(function(e){var a;return null===(a=(0,w.A)(e))||void 0===a?void 0:a.toLowerCase()}).filter(Boolean)}),e._getAdditionalItems=function(a){if(e.noAdd)return[];var t=e._allAreaNames(e.hass.areas);return a&&!t.includes(a.toLowerCase())?[{id:E+a,primary:e.hass.localize("ui.components.area-picker.add_new_sugestion",{name:a}),icon_path:D}]:[{id:E,primary:e.hass.localize("ui.components.area-picker.add_new"),icon_path:D}]},e._notFoundLabel=function(a){return e.hass.localize("ui.components.area-picker.no_match",{term:(0,g.qy)(l||(l=(0,_.A)(["<b>‘","’</b>"])),a)})},e}return(0,m.A)(a,e),(0,v.A)(a,[{key:"open",value:(t=(0,u.A)((0,d.A)().m(function e(){var a;return(0,d.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(a=this._picker)||void 0===a?void 0:a.open();case 2:return e.a(2)}},e,this)})),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,a=null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.area-picker.area"),t=this._computeValueRenderer(this.hass.areas);return(0,g.qy)(c||(c=(0,_.A)(["\n      <ha-generic-picker\n        .hass=","\n        .autofocus=","\n        .label=","\n        .helper=","\n        .notFoundLabel=","\n        .emptyLabel=","\n        .disabled=","\n        .required=","\n        .placeholder=","\n        .value=","\n        .getItems=","\n        .getAdditionalItems=","\n        .valueRenderer=","\n        .addButtonLabel=","\n        @value-changed=","\n      >\n      </ha-generic-picker>\n    "])),this.hass,this.autofocus,this.label,this.helper,this._notFoundLabel,this.hass.localize("ui.components.area-picker.no_areas"),this.disabled,this.required,a,this.value,this._getItems,this._getAdditionalItems,t,this.addButtonLabel,this._valueChanged)}},{key:"_valueChanged",value:function(e){var a=this;e.stopPropagation();var t=e.detail.value;if(t)if(t.startsWith(E)){this.hass.loadFragmentTranslation("config");var n=t.substring(13);(0,q.J)(this,{suggestedName:n,createEntry:(i=(0,u.A)((0,d.A)().m(function e(t){var n,i;return(0,d.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,z.L3)(a.hass,t);case 1:n=e.v,a._setValue(n.area_id),e.n=3;break;case 2:e.p=2,i=e.v,(0,C.K$)(a,{title:a.hass.localize("ui.components.area-picker.failed_create_area"),text:i.message});case 3:return e.a(2)}},e,null,[[0,2]])})),function(e){return i.apply(this,arguments)})})}else{var i;this._setValue(t)}else this._setValue(void 0)}},{key:"_setValue",value:function(e){this.value=e,(0,k.r)(this,"value-changed",{value:e}),(0,k.r)(this,"change")}}]);var t}(g.WF);(0,y.__decorate)([(0,A.MZ)({attribute:!1})],R.prototype,"hass",void 0),(0,y.__decorate)([(0,A.MZ)()],R.prototype,"label",void 0),(0,y.__decorate)([(0,A.MZ)()],R.prototype,"value",void 0),(0,y.__decorate)([(0,A.MZ)()],R.prototype,"helper",void 0),(0,y.__decorate)([(0,A.MZ)()],R.prototype,"placeholder",void 0),(0,y.__decorate)([(0,A.MZ)({type:Boolean,attribute:"no-add"})],R.prototype,"noAdd",void 0),(0,y.__decorate)([(0,A.MZ)({type:Array,attribute:"include-domains"})],R.prototype,"includeDomains",void 0),(0,y.__decorate)([(0,A.MZ)({type:Array,attribute:"exclude-domains"})],R.prototype,"excludeDomains",void 0),(0,y.__decorate)([(0,A.MZ)({type:Array,attribute:"include-device-classes"})],R.prototype,"includeDeviceClasses",void 0),(0,y.__decorate)([(0,A.MZ)({type:Array,attribute:"exclude-areas"})],R.prototype,"excludeAreas",void 0),(0,y.__decorate)([(0,A.MZ)({attribute:!1})],R.prototype,"deviceFilter",void 0),(0,y.__decorate)([(0,A.MZ)({attribute:!1})],R.prototype,"entityFilter",void 0),(0,y.__decorate)([(0,A.MZ)({type:Boolean})],R.prototype,"disabled",void 0),(0,y.__decorate)([(0,A.MZ)({type:Boolean})],R.prototype,"required",void 0),(0,y.__decorate)([(0,A.MZ)({attribute:"add-button-label"})],R.prototype,"addButtonLabel",void 0),(0,y.__decorate)([(0,A.P)("ha-generic-picker")],R.prototype,"_picker",void 0),R=(0,y.__decorate)([(0,A.EM)("ha-area-picker")],R),a()}catch(B){a(B)}})},96573:function(e,a,t){t.a(e,async function(e,n){try{t.r(a);var i,r,o,s,l,c,d,u,h,_,p=t(61397),v=t(50264),f=t(72153),m=t(44734),y=t(43080),g=t(69683),A=t(6454),b=(t(28706),t(2008),t(23792),t(62062),t(18111),t(22489),t(61701),t(2892),t(26099),t(16034),t(31415),t(17642),t(58004),t(33853),t(45876),t(32475),t(15024),t(31698),t(47764),t(42762),t(62953),t(62826)),k=t(96196),w=t(77845),L=t(4937),M=t(22786),x=t(92542),z=(t(96294),t(25388),t(17963),t(45783)),V=t(53907),C=t(89473),q=t(95637),H=t(88867),Z=t(41881),D=(t(2809),t(60961),t(78740),t(2223)),F=t(39396),E=t(82160),R=e([z,V,C,H,Z]);[z,V,C,H,Z]=R.then?(await R)():R;var B=function(e){function a(){var e;(0,m.A)(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=(0,g.A)(this,a,[].concat(n)))._addedAreas=new Set,e._removedAreas=new Set,e._floorAreas=(0,M.A)(function(e,a,t,n){return Object.values(a).filter(function(a){return(a.floor_id===(null==e?void 0:e.floor_id)||t.has(a.area_id))&&!n.has(a.area_id)})}),e}return(0,A.A)(a,e),(0,y.A)(a,[{key:"showDialog",value:function(e){var a,t,n,i;this._params=e,this._error=void 0,this._name=this._params.entry?this._params.entry.name:this._params.suggestedName||"",this._aliases=(null===(a=this._params.entry)||void 0===a?void 0:a.aliases)||[],this._icon=(null===(t=this._params.entry)||void 0===t?void 0:t.icon)||null,this._level=null!==(n=null===(i=this._params.entry)||void 0===i?void 0:i.level)&&void 0!==n?n:null,this._addedAreas.clear(),this._removedAreas.clear()}},{key:"closeDialog",value:function(){this._error="",this._params=void 0,this._addedAreas.clear(),this._removedAreas.clear(),(0,x.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){var e,a=this,t=this._floorAreas(null===(e=this._params)||void 0===e?void 0:e.entry,this.hass.areas,this._addedAreas,this._removedAreas);if(!this._params)return k.s6;var n=this._params.entry,_=!this._isNameValid();return(0,k.qy)(i||(i=(0,f.A)(["\n      <ha-dialog\n        open\n        @closed=","\n        .heading=","\n      >\n        <div>\n          ",'\n          <div class="form">\n            ',"\n\n            <ha-textfield\n              .value=","\n              @input=","\n              .label=","\n              .validationMessage=","\n              required\n              dialogInitialFocus\n            ></ha-textfield>\n\n            <ha-textfield\n              .value=","\n              @input=","\n              .label=",'\n              type="number"\n              .helper=',"\n              helperPersistent\n            ></ha-textfield>\n\n            <ha-icon-picker\n              .hass=","\n              .value=","\n              @value-changed=","\n              .label=","\n            >\n              ",'\n            </ha-icon-picker>\n\n            <h3 class="header">\n              ',"\n            </h3>\n\n            ","\n            <ha-area-picker\n              no-add\n              .hass=","\n              @value-changed=","\n              .excludeAreas=","\n              .addButtonLabel=",'\n            ></ha-area-picker>\n\n            <h3 class="header">\n              ','\n            </h3>\n\n            <p class="description">\n              ',"\n            </p>\n            <ha-aliases-editor\n              .hass=","\n              .aliases=","\n              @value-changed=",'\n            ></ha-aliases-editor>\n          </div>\n        </div>\n        <ha-button\n          appearance="plain"\n          slot="secondaryAction"\n          @click=',"\n        >\n          ",'\n        </ha-button>\n        <ha-button\n          slot="primaryAction"\n          @click=',"\n          .disabled=","\n        >\n          ","\n        </ha-button>\n      </ha-dialog>\n    "])),this.closeDialog,(0,q.l)(this.hass,n?this.hass.localize("ui.panel.config.floors.editor.update_floor"):this.hass.localize("ui.panel.config.floors.editor.create_floor")),this._error?(0,k.qy)(r||(r=(0,f.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",n?(0,k.qy)(o||(o=(0,f.A)(['\n                  <ha-settings-row>\n                    <span slot="heading">\n                      ','\n                    </span>\n                    <span slot="description">',"</span>\n                  </ha-settings-row>\n                "])),this.hass.localize("ui.panel.config.floors.editor.floor_id"),n.floor_id):k.s6,this._name,this._nameChanged,this.hass.localize("ui.panel.config.floors.editor.name"),this.hass.localize("ui.panel.config.floors.editor.name_required"),this._level,this._levelChanged,this.hass.localize("ui.panel.config.floors.editor.level"),this.hass.localize("ui.panel.config.floors.editor.level_helper"),this.hass,this._icon,this._iconChanged,this.hass.localize("ui.panel.config.areas.editor.icon"),this._icon?k.s6:(0,k.qy)(s||(s=(0,f.A)(['\n                    <ha-floor-icon\n                      slot="fallback"\n                      .floor=',"\n                    ></ha-floor-icon>\n                  "])),{level:this._level}),this.hass.localize("ui.panel.config.floors.editor.areas_section"),t.length?(0,k.qy)(l||(l=(0,f.A)(["<ha-chip-set>\n                  ","\n                </ha-chip-set>"])),(0,L.u)(t,function(e){return e.area_id},function(e){return(0,k.qy)(c||(c=(0,f.A)(["<ha-input-chip\n                        .area=","\n                        @click=","\n                        @remove=","\n                        .label=","\n                      >\n                        ","\n                      </ha-input-chip>"])),e,a._openArea,a._removeArea,null==e?void 0:e.name,e.icon?(0,k.qy)(d||(d=(0,f.A)(['<ha-icon\n                              slot="icon"\n                              .icon=',"\n                            ></ha-icon>"])),e.icon):(0,k.qy)(u||(u=(0,f.A)(['<ha-svg-icon\n                              slot="icon"\n                              .path=',"\n                            ></ha-svg-icon>"])),"M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z"))})):(0,k.qy)(h||(h=(0,f.A)(['<p class="description">\n                  ',"\n                </p>"])),this.hass.localize("ui.panel.config.floors.editor.areas_description")),this.hass,this._addArea,t.map(function(e){return e.area_id}),this.hass.localize("ui.panel.config.floors.editor.add_area"),this.hass.localize("ui.panel.config.floors.editor.aliases_section"),this.hass.localize("ui.panel.config.floors.editor.aliases_description"),this.hass,this._aliases,this._aliasesChanged,this.closeDialog,this.hass.localize("ui.common.cancel"),this._updateEntry,_||!!this._submitting,n?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.create"))}},{key:"_openArea",value:function(e){var a=this,t=e.target.area;(0,E.J)(this,{entry:t,updateEntry:function(e){return(0,D.gs)(a.hass,t.area_id,e)}})}},{key:"_removeArea",value:function(e){var a=e.target.area.area_id;if(this._addedAreas.has(a))return this._addedAreas.delete(a),void(this._addedAreas=new Set(this._addedAreas));this._removedAreas.add(a),this._removedAreas=new Set(this._removedAreas)}},{key:"_addArea",value:function(e){var a=e.detail.value;if(a){if(e.target.value="",this._removedAreas.has(a))return this._removedAreas.delete(a),void(this._removedAreas=new Set(this._removedAreas));this._addedAreas.add(a),this._addedAreas=new Set(this._addedAreas)}}},{key:"_isNameValid",value:function(){return""!==this._name.trim()}},{key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{key:"_levelChanged",value:function(e){this._error=void 0,this._level=""===e.target.value?null:Number(e.target.value)}},{key:"_iconChanged",value:function(e){this._error=void 0,this._icon=e.detail.value}},{key:"_updateEntry",value:(t=(0,v.A)((0,p.A)().m(function e(){var a,t,n;return(0,p.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this._submitting=!0,a=!this._params.entry,e.p=1,t={name:this._name.trim(),icon:this._icon||(a?void 0:null),level:this._level,aliases:this._aliases},!a){e.n=3;break}return e.n=2,this._params.createEntry(t,this._addedAreas);case 2:e.n=4;break;case 3:return e.n=4,this._params.updateEntry(t,this._addedAreas,this._removedAreas);case 4:this.closeDialog(),e.n=6;break;case 5:e.p=5,n=e.v,this._error=n.message||this.hass.localize("ui.panel.config.floors.editor.unknown_error");case 6:return e.p=6,this._submitting=!1,e.f(6);case 7:return e.a(2)}},e,this,[[1,5,6,7]])})),function(){return t.apply(this,arguments)})},{key:"_aliasesChanged",value:function(e){this._aliases=e.detail.value}}],[{key:"styles",get:function(){return[F.RF,F.nA,(0,k.AH)(_||(_=(0,f.A)(["\n        ha-textfield {\n          display: block;\n          margin-bottom: 16px;\n        }\n        ha-floor-icon {\n          color: var(--secondary-text-color);\n        }\n        ha-chip-set {\n          margin-bottom: 8px;\n        }\n      "])))]}}]);var t}(k.WF);(0,b.__decorate)([(0,w.MZ)({attribute:!1})],B.prototype,"hass",void 0),(0,b.__decorate)([(0,w.wk)()],B.prototype,"_name",void 0),(0,b.__decorate)([(0,w.wk)()],B.prototype,"_aliases",void 0),(0,b.__decorate)([(0,w.wk)()],B.prototype,"_icon",void 0),(0,b.__decorate)([(0,w.wk)()],B.prototype,"_level",void 0),(0,b.__decorate)([(0,w.wk)()],B.prototype,"_error",void 0),(0,b.__decorate)([(0,w.wk)()],B.prototype,"_params",void 0),(0,b.__decorate)([(0,w.wk)()],B.prototype,"_submitting",void 0),(0,b.__decorate)([(0,w.wk)()],B.prototype,"_addedAreas",void 0),(0,b.__decorate)([(0,w.wk)()],B.prototype,"_removedAreas",void 0),customElements.define("dialog-floor-registry-detail",B),n()}catch(N){n(N)}})},82160:function(e,a,t){t.d(a,{J:function(){return r}});t(23792),t(26099),t(3362),t(47764),t(62953);var n=t(92542),i=function(){return Promise.all([t.e("4124"),t.e("3785"),t.e("6919"),t.e("969"),t.e("5463"),t.e("4398"),t.e("624"),t.e("5633"),t.e("1157"),t.e("274"),t.e("7298"),t.e("3116"),t.e("1043"),t.e("39")]).then(t.bind(t,76218))},r=function(e,a){(0,n.r)(e,"show-dialog",{dialogTag:"dialog-area-registry-detail",dialogImport:i,dialogParams:a})}}}]);
//# sourceMappingURL=2542.5f06833e35f6d8ce.js.map
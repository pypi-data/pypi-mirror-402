export const __webpack_id__="6468";export const __webpack_ids__=["6468"];export const __webpack_modules__={56830:function(e,t,i){i.d(t,{u:()=>o});class o{start(e){const t=Date.now();this._startY=e,this._startTime=t,this._lastY=e,this._lastTime=t,this._delta=0}move(e){const t=Date.now();return this._delta=this._startY-e,this._lastY=e,this._lastTime=t,this._delta}end(){const e=this.getVelocity(),t=Math.abs(e)>this._velocityThreshold;return{velocity:e,delta:this._delta,isSwipe:t,isDownwardSwipe:e>0}}getDelta(){return this._delta}getVelocity(){if(Date.now()-this._lastTime>=this._movementTimeThreshold)return 0;const e=this._lastTime-this._startTime;return e>0?(this._lastY-this._startY)/e:0}reset(){this._startY=0,this._delta=0,this._startTime=0,this._lastY=0,this._lastTime=0}constructor(e={}){this._startY=0,this._delta=0,this._startTime=0,this._lastY=0,this._lastTime=0,this._velocityThreshold=e.velocitySwipeThreshold??.5,this._movementTimeThreshold=e.movementTimeThreshold??100}}},96294:function(e,t,i){var o=i(62826),a=i(4720),r=i(77845);class s extends a.Y{}s=(0,o.__decorate)([(0,r.EM)("ha-chip-set")],s)},72434:function(e,t,i){var o=i(62826),a=i(42034),r=i(36034),s=i(40993),l=i(75640),d=i(91735),n=i(43826),c=i(96196),h=i(77845);class p extends r.${renderLeadingIcon(){return this.noLeadingIcon?c.qy``:super.renderLeadingIcon()}constructor(...e){super(...e),this.noLeadingIcon=!1}}p.styles=[d.R,a.R,n.R,l.R,s.R,c.AH`
      :host {
        --md-sys-color-primary: var(--primary-text-color);
        --md-sys-color-on-surface: var(--primary-text-color);
        --md-sys-color-on-surface-variant: var(--primary-text-color);
        --md-sys-color-on-secondary-container: var(--primary-text-color);
        --md-filter-chip-container-shape: 16px;
        --md-filter-chip-outline-color: var(--outline-color);
        --md-filter-chip-selected-container-color: rgba(
          var(--rgb-primary-text-color),
          0.15
        );
        --_label-text-font: var(--ha-font-family-body);
        border-radius: var(--ha-border-radius-md);
      }
    `],(0,o.__decorate)([(0,h.MZ)({type:Boolean,reflect:!0,attribute:"no-leading-icon"})],p.prototype,"noLeadingIcon",void 0),p=(0,o.__decorate)([(0,h.EM)("ha-filter-chip")],p)},92312:function(e,t,i){i.a(e,async function(e,t){try{var o=i(62826),a=i(1126),r=i(96196),s=i(77845),l=i(56830),d=i(39396),n=e([a]);a=(n.then?(await n)():n)[0];const c=300;class h extends r.WF{_handleAfterHide(e){e.stopPropagation(),this.open=!1;const t=new Event("closed",{bubbles:!0,composed:!0});this.dispatchEvent(t)}updated(e){super.updated(e),e.has("open")&&(this._drawerOpen=this.open)}render(){return r.qy`
      <wa-drawer
        id="drawer"
        placement="bottom"
        .open=${this._drawerOpen}
        @wa-after-hide=${this._handleAfterHide}
        without-header
        @touchstart=${this._handleTouchStart}
      >
        <slot name="header"></slot>
        <div id="body" class="body ha-scrollbar">
          <slot></slot>
        </div>
      </wa-drawer>
    `}_startResizing(e){document.addEventListener("touchmove",this._handleTouchMove,{passive:!1}),document.addEventListener("touchend",this._handleTouchEnd),document.addEventListener("touchcancel",this._handleTouchEnd),this._gestureRecognizer.start(e)}_animateSnapBack(){this.style.setProperty("--dialog-transition",`transform ${c}ms ease-out`),this.style.removeProperty("--dialog-transform"),setTimeout(()=>{this.style.removeProperty("--dialog-transition")},c)}disconnectedCallback(){super.disconnectedCallback(),this._unregisterResizeHandlers(),this._isDragging=!1}constructor(...e){super(...e),this.open=!1,this.flexContent=!1,this._drawerOpen=!1,this._gestureRecognizer=new l.u,this._isDragging=!1,this._handleTouchStart=e=>{for(const t of e.composedPath()){const e=t;if(e===this._drawer)break;if(e.scrollTop>0)return}this._startResizing(e.touches[0].clientY)},this._handleTouchMove=e=>{const t=e.touches[0].clientY,i=this._gestureRecognizer.move(t);i<0&&(e.preventDefault(),this._isDragging=!0,requestAnimationFrame(()=>{this._isDragging&&this.style.setProperty("--dialog-transform",`translateY(${-1*i}px)`)}))},this._handleTouchEnd=()=>{this._unregisterResizeHandlers(),this._isDragging=!1;const e=this._gestureRecognizer.end();if(e.isSwipe)return void(e.isDownwardSwipe?this._drawerOpen=!1:this._animateSnapBack());const t=this._drawer.shadowRoot?.querySelector('[part="body"]'),i=t?.offsetHeight||0;i>0&&e.delta<0&&Math.abs(e.delta)>.5*i?this._drawerOpen=!1:this._animateSnapBack()},this._unregisterResizeHandlers=()=>{document.removeEventListener("touchmove",this._handleTouchMove),document.removeEventListener("touchend",this._handleTouchEnd),document.removeEventListener("touchcancel",this._handleTouchEnd)}}}h.styles=[d.dp,r.AH`
      wa-drawer {
        --wa-color-surface-raised: transparent;
        --spacing: 0;
        --size: var(--ha-bottom-sheet-height, auto);
        --show-duration: ${c}ms;
        --hide-duration: ${c}ms;
      }
      wa-drawer::part(dialog) {
        max-height: var(--ha-bottom-sheet-max-height, 90vh);
        align-items: center;
        transform: var(--dialog-transform);
        transition: var(--dialog-transition);
      }
      wa-drawer::part(body) {
        max-width: var(--ha-bottom-sheet-max-width);
        width: 100%;
        border-top-left-radius: var(
          --ha-bottom-sheet-border-radius,
          var(--ha-dialog-border-radius, var(--ha-border-radius-2xl))
        );
        border-top-right-radius: var(
          --ha-bottom-sheet-border-radius,
          var(--ha-dialog-border-radius, var(--ha-border-radius-2xl))
        );
        background-color: var(
          --ha-bottom-sheet-surface-background,
          var(--ha-dialog-surface-background, var(--mdc-theme-surface, #fff)),
        );
        padding: var(
          --ha-bottom-sheet-padding,
          0 var(--safe-area-inset-right) var(--safe-area-inset-bottom)
            var(--safe-area-inset-left)
        );
      }
      :host([flexcontent]) wa-drawer::part(body) {
        display: flex;
        flex-direction: column;
      }
      :host([flexcontent]) .body {
        flex: 1;
        max-width: 100%;
        display: flex;
        flex-direction: column;
        padding: var(
          --ha-bottom-sheet-padding,
          0 var(--safe-area-inset-right) var(--safe-area-inset-bottom)
            var(--safe-area-inset-left)
        );
      }
    `],(0,o.__decorate)([(0,s.MZ)({type:Boolean})],h.prototype,"open",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],h.prototype,"flexContent",void 0),(0,o.__decorate)([(0,s.wk)()],h.prototype,"_drawerOpen",void 0),(0,o.__decorate)([(0,s.P)("#drawer")],h.prototype,"_drawer",void 0),h=(0,o.__decorate)([(0,s.EM)("ha-bottom-sheet")],h),t()}catch(c){t(c)}})},94343:function(e,t,i){var o=i(62826),a=i(96196),r=i(77845),s=i(23897);class l extends s.G{constructor(...e){super(...e),this.borderTop=!1}}l.styles=[...s.J,a.AH`
      :host {
        --md-list-item-one-line-container-height: 48px;
        --md-list-item-two-line-container-height: 64px;
      }
      :host([border-top]) md-item {
        border-top: 1px solid var(--divider-color);
      }
      [slot="start"] {
        --state-icon-color: var(--secondary-text-color);
      }
      [slot="headline"] {
        line-height: var(--ha-line-height-normal);
        font-size: var(--ha-font-size-m);
        white-space: nowrap;
      }
      [slot="supporting-text"] {
        line-height: var(--ha-line-height-normal);
        font-size: var(--ha-font-size-s);
        white-space: nowrap;
      }
      ::slotted(state-badge),
      ::slotted(img) {
        width: 32px;
        height: 32px;
      }
      ::slotted(.code) {
        font-family: var(--ha-font-family-code);
        font-size: var(--ha-font-size-xs);
      }
      ::slotted(.domain) {
        font-size: var(--ha-font-size-s);
        font-weight: var(--ha-font-weight-normal);
        line-height: var(--ha-line-height-normal);
        align-self: flex-end;
        max-width: 30%;
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
      }
    `],(0,o.__decorate)([(0,r.MZ)({type:Boolean,reflect:!0,attribute:"border-top"})],l.prototype,"borderTop",void 0),l=(0,o.__decorate)([(0,r.EM)("ha-combo-box-item")],l)},96943:function(e,t,i){i.a(e,async function(e,t){try{var o=i(62826),a=i(61366),r=i(96196),s=i(77845),l=i(32288),d=i(57947),n=i(92542),c=i(92312),h=i(89473),p=(i(94343),i(56768),i(13208),i(74554),i(60961),e([a,c,h]));[a,c,h]=p.then?(await p)():p;const m="M3 16H10V14H3M18 14V10H16V14H12V16H16V20H18V16H22V14M14 6H3V8H14M14 10H3V12H14V10Z";class _ extends r.WF{render(){return r.qy`
      ${this.label?r.qy`<label ?disabled=${this.disabled}>${this.label}</label>`:r.s6}
      <div class="container">
        <div id="picker">
          <slot name="field">
            ${this.addButtonLabel&&!this.value?r.qy`<ha-button
                  size="small"
                  appearance="filled"
                  @click=${this.open}
                  .disabled=${this.disabled}
                >
                  <ha-svg-icon
                    .path=${m}
                    slot="start"
                  ></ha-svg-icon>
                  ${this.addButtonLabel}
                </ha-button>`:r.qy`<ha-picker-field
                  type="button"
                  class=${this._opened?"opened":""}
                  compact
                  aria-label=${(0,l.J)(this.label)}
                  @click=${this.open}
                  @clear=${this._clear}
                  .placeholder=${this.placeholder}
                  .value=${this.value}
                  .required=${this.required}
                  .disabled=${this.disabled}
                  .hideClearIcon=${this.hideClearIcon}
                  .valueRenderer=${this.valueRenderer}
                >
                </ha-picker-field>`}
          </slot>
        </div>
        ${this._openedNarrow||!this._pickerWrapperOpen&&!this._opened?this._pickerWrapperOpen||this._opened?r.qy`<ha-bottom-sheet
                flexcontent
                .open=${this._pickerWrapperOpen}
                @wa-after-show=${this._dialogOpened}
                @closed=${this._hidePicker}
                role="dialog"
                aria-modal="true"
                aria-label=${this.label||"Select option"}
              >
                ${this._renderComboBox(!0)}
              </ha-bottom-sheet>`:r.s6:r.qy`
              <wa-popover
                .open=${this._pickerWrapperOpen}
                style="--body-width: ${this._popoverWidth}px;"
                without-arrow
                distance="-4"
                .placement=${this.popoverPlacement}
                for="picker"
                auto-size="vertical"
                auto-size-padding="16"
                @wa-after-show=${this._dialogOpened}
                @wa-after-hide=${this._hidePicker}
                trap-focus
                role="dialog"
                aria-modal="true"
                aria-label=${this.label||"Select option"}
              >
                ${this._renderComboBox()}
              </wa-popover>
            `}
      </div>
      ${this._renderHelper()}
    `}_renderComboBox(e=!1){return this._opened?r.qy`
      <ha-picker-combo-box
        .hass=${this.hass}
        .allowCustomValue=${this.allowCustomValue}
        .label=${this.searchLabel}
        .value=${this.value}
        @value-changed=${this._valueChanged}
        .rowRenderer=${this.rowRenderer}
        .notFoundLabel=${this.notFoundLabel}
        .emptyLabel=${this.emptyLabel}
        .getItems=${this.getItems}
        .getAdditionalItems=${this.getAdditionalItems}
        .searchFn=${this.searchFn}
        .mode=${e?"dialog":"popover"}
        .sections=${this.sections}
        .sectionTitleFunction=${this.sectionTitleFunction}
        .selectedSection=${this.selectedSection}
      ></ha-picker-combo-box>
    `:r.s6}_renderHelper(){return this.helper?r.qy`<ha-input-helper-text .disabled=${this.disabled}
          >${this.helper}</ha-input-helper-text
        >`:r.s6}_hidePicker(e){e.stopPropagation(),this._newValue&&((0,n.r)(this,"value-changed",{value:this._newValue}),this._newValue=void 0),this._opened=!1,this._pickerWrapperOpen=!1,this._unsubscribeTinyKeys?.()}_valueChanged(e){e.stopPropagation();const t=e.detail.value;t&&(this._pickerWrapperOpen=!1,this._newValue=t)}_clear(e){e.stopPropagation(),this._setValue(void 0)}_setValue(e){this.value=e,(0,n.r)(this,"value-changed",{value:e})}async open(e){e?.stopPropagation(),this.disabled||(this._openedNarrow=this._narrow,this._popoverWidth=this._containerElement?.offsetWidth||250,this._pickerWrapperOpen=!0,this._unsubscribeTinyKeys=(0,d.Tc)(this,{Escape:this._handleEscClose}))}connectedCallback(){super.connectedCallback(),this._handleResize(),window.addEventListener("resize",this._handleResize)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this._handleResize),this._unsubscribeTinyKeys?.()}static get styles(){return[r.AH`
        .container {
          position: relative;
          display: block;
        }
        label[disabled] {
          color: var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.6));
        }
        label {
          display: block;
          margin: 0 0 8px;
        }
        ha-input-helper-text {
          display: block;
          margin: var(--ha-space-2) 0 0;
        }

        wa-popover {
          --wa-space-l: var(--ha-space-0);
        }

        wa-popover::part(body) {
          width: max(var(--body-width), 250px);
          max-width: max(var(--body-width), 250px);
          max-height: 500px;
          height: 70vh;
          overflow: hidden;
        }

        @media (max-height: 1000px) {
          wa-popover::part(body) {
            max-height: 400px;
          }
        }

        @media (max-height: 1000px) {
          wa-popover::part(body) {
            max-height: 400px;
          }
        }

        ha-bottom-sheet {
          --ha-bottom-sheet-height: 90vh;
          --ha-bottom-sheet-height: calc(100dvh - var(--ha-space-12));
          --ha-bottom-sheet-max-height: var(--ha-bottom-sheet-height);
          --ha-bottom-sheet-max-width: 600px;
          --ha-bottom-sheet-padding: var(--ha-space-0);
          --ha-bottom-sheet-surface-background: var(--card-background-color);
          --ha-bottom-sheet-border-radius: var(--ha-border-radius-2xl);
        }

        ha-picker-field.opened {
          --mdc-text-field-idle-line-color: var(--primary-color);
        }
      `]}constructor(...e){super(...e),this.disabled=!1,this.required=!1,this.hideClearIcon=!1,this.popoverPlacement="bottom-start",this._opened=!1,this._pickerWrapperOpen=!1,this._popoverWidth=0,this._openedNarrow=!1,this._narrow=!1,this._dialogOpened=()=>{this._opened=!0,requestAnimationFrame(()=>{this._comboBox?.focus()})},this._handleResize=()=>{this._narrow=window.matchMedia("(max-width: 870px)").matches||window.matchMedia("(max-height: 500px)").matches,!this._openedNarrow&&this._pickerWrapperOpen&&(this._popoverWidth=this._containerElement?.offsetWidth||250)},this._handleEscClose=e=>{e.stopPropagation()}}}_.shadowRootOptions={...r.WF.shadowRootOptions,delegatesFocus:!0},(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"hass",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],_.prototype,"disabled",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],_.prototype,"required",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean,attribute:"allow-custom-value"})],_.prototype,"allowCustomValue",void 0),(0,o.__decorate)([(0,s.MZ)()],_.prototype,"label",void 0),(0,o.__decorate)([(0,s.MZ)()],_.prototype,"value",void 0),(0,o.__decorate)([(0,s.MZ)()],_.prototype,"helper",void 0),(0,o.__decorate)([(0,s.MZ)()],_.prototype,"placeholder",void 0),(0,o.__decorate)([(0,s.MZ)({type:String,attribute:"search-label"})],_.prototype,"searchLabel",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"hide-clear-icon",type:Boolean})],_.prototype,"hideClearIcon",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"getItems",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1,type:Array})],_.prototype,"getAdditionalItems",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"rowRenderer",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"valueRenderer",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"searchFn",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"notFoundLabel",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"empty-label"})],_.prototype,"emptyLabel",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"popover-placement"})],_.prototype,"popoverPlacement",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"add-button-label"})],_.prototype,"addButtonLabel",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"sections",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],_.prototype,"sectionTitleFunction",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"selected-section"})],_.prototype,"selectedSection",void 0),(0,o.__decorate)([(0,s.P)(".container")],_.prototype,"_containerElement",void 0),(0,o.__decorate)([(0,s.P)("ha-picker-combo-box")],_.prototype,"_comboBox",void 0),(0,o.__decorate)([(0,s.wk)()],_.prototype,"_opened",void 0),(0,o.__decorate)([(0,s.wk)()],_.prototype,"_pickerWrapperOpen",void 0),(0,o.__decorate)([(0,s.wk)()],_.prototype,"_popoverWidth",void 0),(0,o.__decorate)([(0,s.wk)()],_.prototype,"_openedNarrow",void 0),_=(0,o.__decorate)([(0,s.EM)("ha-generic-picker")],_),t()}catch(m){t(m)}})},56768:function(e,t,i){var o=i(62826),a=i(96196),r=i(77845);class s extends a.WF{render(){return a.qy`<slot></slot>`}constructor(...e){super(...e),this.disabled=!1}}s.styles=a.AH`
    :host {
      display: block;
      color: var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6));
      font-size: 0.75rem;
      padding-left: 16px;
      padding-right: 16px;
      padding-inline-start: 16px;
      padding-inline-end: 16px;
      letter-spacing: var(
        --mdc-typography-caption-letter-spacing,
        0.0333333333em
      );
      line-height: normal;
    }
    :host([disabled]) {
      color: var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.6));
    }
  `,(0,o.__decorate)([(0,r.MZ)({type:Boolean,reflect:!0})],s.prototype,"disabled",void 0),s=(0,o.__decorate)([(0,r.EM)("ha-input-helper-text")],s)},23897:function(e,t,i){i.d(t,{G:()=>n,J:()=>d});var o=i(62826),a=i(97154),r=i(82553),s=i(96196),l=i(77845);i(95591);const d=[r.R,s.AH`
    :host {
      --ha-icon-display: block;
      --md-sys-color-primary: var(--primary-text-color);
      --md-sys-color-secondary: var(--secondary-text-color);
      --md-sys-color-surface: var(--card-background-color);
      --md-sys-color-on-surface: var(--primary-text-color);
      --md-sys-color-on-surface-variant: var(--secondary-text-color);
    }
    md-item {
      overflow: var(--md-item-overflow, hidden);
      align-items: var(--md-item-align-items, center);
      gap: var(--ha-md-list-item-gap, 16px);
    }
  `];class n extends a.n{renderRipple(){return"text"===this.type?s.s6:s.qy`<ha-ripple
      part="ripple"
      for="item"
      ?disabled=${this.disabled&&"link"!==this.type}
    ></ha-ripple>`}}n.styles=d,n=(0,o.__decorate)([(0,l.EM)("ha-md-list-item")],n)},13208:function(e,t,i){var o=i(62826),a=i(78648),r=i(96196),s=i(77845),l=i(22786),d=i(57947),n=i(92542),c=i(25749),h=i(69847),p=i(39396),m=i(84183);i(96294),i(72434),i(94343),i(22598),i(78740);const _="___no_items_available___",u=e=>r.qy`
  <ha-combo-box-item type="button" compact>
    ${e.icon?r.qy`<ha-icon slot="start" .icon=${e.icon}></ha-icon>`:e.icon_path?r.qy`<ha-svg-icon slot="start" .path=${e.icon_path}></ha-svg-icon>`:r.s6}
    <span slot="headline">${e.primary}</span>
    ${e.secondary?r.qy`<span slot="supporting-text">${e.secondary}</span>`:r.s6}
  </ha-combo-box-item>
`;class v extends r.WF{firstUpdated(){this._registerKeyboardShortcuts()}willUpdate(){this.hasUpdated||((0,m.i)(),this._allItems=this._getItems(),this._items=this._allItems)}disconnectedCallback(){super.disconnectedCallback(),this._removeKeyboardShortcuts?.()}render(){return r.qy`<ha-textfield
        .label=${this.label??this.hass?.localize("ui.common.search")??"Search"}
        @input=${this._filterChanged}
      ></ha-textfield>
      ${this._renderSectionButtons()}
      ${this.sections?.length?r.qy`
            <div class="section-title-wrapper">
              <div
                class="section-title ${!this.selectedSection&&this._sectionTitle?"show":""}"
              >
                ${this._sectionTitle}
              </div>
            </div>
          `:r.s6}
      <lit-virtualizer
        .keyFunction=${this._keyFunction}
        tabindex="0"
        scroller
        .items=${this._items}
        .renderItem=${this._renderItem}
        style="min-height: 36px;"
        class=${this._listScrolled?"scrolled":""}
        @scroll=${this._onScrollList}
        @focus=${this._focusList}
        @visibilityChanged=${this._visibilityChanged}
      >
      </lit-virtualizer>`}_renderSectionButtons(){return this.sections&&0!==this.sections.length?r.qy`
      <ha-chip-set class="sections">
        ${this.sections.map(e=>"separator"===e?r.qy`<div class="separator"></div>`:r.qy`<ha-filter-chip
                @click=${this._toggleSection}
                .section-id=${e.id}
                .selected=${this.selectedSection===e.id}
                .label=${e.label}
              >
              </ha-filter-chip>`)}
      </ha-chip-set>
    `:r.s6}_visibilityChanged(e){if(this._virtualizerElement&&this.sectionTitleFunction&&this.sections?.length){const t=this._virtualizerElement.items[e.first],i=this._virtualizerElement.items[e.first+1];this._sectionTitle=this.sectionTitleFunction({firstIndex:e.first,lastIndex:e.last,firstItem:t,secondItem:i,itemsCount:this._virtualizerElement.items.length})}}_onScrollList(e){const t=e.target.scrollTop??0;this._listScrolled=t>0}get _value(){return this.value||""}_toggleSection(e){e.stopPropagation(),this._resetSelectedItem(),this._sectionTitle=void 0;const t=e.target["section-id"];t&&(this.selectedSection===t?this.selectedSection=void 0:this.selectedSection=t,this._items=this._getItems(),this._virtualizerElement&&this._virtualizerElement.scrollToIndex(0))}_registerKeyboardShortcuts(){this._removeKeyboardShortcuts=(0,d.Tc)(this,{ArrowUp:this._selectPreviousItem,ArrowDown:this._selectNextItem,Home:this._selectFirstItem,End:this._selectLastItem,Enter:this._pickSelectedItem})}_focusList(){-1===this._selectedItemIndex&&this._selectNextItem()}_resetSelectedItem(){this._virtualizerElement?.querySelector(".selected")?.classList.remove("selected"),this._selectedItemIndex=-1}constructor(...e){super(...e),this.autofocus=!1,this.disabled=!1,this.required=!1,this._listScrolled=!1,this.mode="popover",this._items=[],this._allItems=[],this._selectedItemIndex=-1,this._search="",this._getAdditionalItems=e=>this.getAdditionalItems?.(e)||[],this._getItems=()=>{let e=[...this.getItems?this.getItems(this._search,this.selectedSection):[]];this.sections?.length||(e=e.sort((e,t)=>(0,c.SH)(e.sorting_label,t.sorting_label,this.hass?.locale.language??navigator.language))),e.length||e.push(_);const t=this._getAdditionalItems();return e.push(...t),"dialog"===this.mode&&e.push("padding"),e},this._renderItem=(e,t)=>{if("padding"===e)return r.qy`<div class="bottom-padding"></div>`;if(e===_)return r.qy`
        <div class="combo-box-row">
          <ha-combo-box-item type="text" compact>
            <ha-svg-icon
              slot="start"
              .path=${this._search?"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z":"M19,19V5H5V19H19M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5C3,3.89 3.9,3 5,3H19M17,11V13H7V11H17Z"}
            ></ha-svg-icon>
            <span slot="headline"
              >${this._search?"function"==typeof this.notFoundLabel?this.notFoundLabel(this._search):this.notFoundLabel||this.hass?.localize("ui.components.combo-box.no_match")||"No matching items found":this.emptyLabel||this.hass?.localize("ui.components.combo-box.no_items")||"No items available"}</span
            >
          </ha-combo-box-item>
        </div>
      `;if("string"==typeof e)return r.qy`<div class="title">${e}</div>`;const i=this.rowRenderer||u;return r.qy`<div
      id=${`list-item-${t}`}
      class="combo-box-row ${this._value===e.id?"current-value":""}"
      .value=${e.id}
      .index=${t}
      @click=${this._valueSelected}
    >
      ${i(e,t)}
    </div>`},this._valueSelected=e=>{e.stopPropagation();const t=e.currentTarget.value,i=t?.trim();(0,n.r)(this,"value-changed",{value:i})},this._fuseIndex=(0,l.A)(e=>a.A.createIndex(["search_labels"],e)),this._filterChanged=e=>{const t=e.target.value.trim();if(this._search=t,this.sections?.length)this._items=this._getItems();else{if(!t)return void(this._items=this._allItems);const e=this._fuseIndex(this._allItems),i=new h.b(this._allItems,{shouldSort:!1,minMatchCharLength:Math.min(t.length,2)},e).multiTermsSearch(t);let o=[...this._allItems];if(i){const e=i.map(e=>e.item);e.length||o.push(_);const t=this._getAdditionalItems();e.push(...t),o=e}this.searchFn&&(o=this.searchFn(t,o,this._allItems)),this._items=o}this._selectedItemIndex=-1,this._virtualizerElement&&this._virtualizerElement.scrollTo(0,0)},this._selectNextItem=e=>{if(e?.stopPropagation(),e?.preventDefault(),!this._virtualizerElement)return;this._searchFieldElement?.focus();const t=this._virtualizerElement.items,i=t.length-1;if(-1===i)return void this._resetSelectedItem();const o=i===this._selectedItemIndex?this._selectedItemIndex:this._selectedItemIndex+1;if(t[o]){if("string"==typeof t[o]){if(o===i)return;this._selectedItemIndex=o+1}else this._selectedItemIndex=o;this._scrollToSelectedItem()}},this._selectPreviousItem=e=>{if(e.stopPropagation(),e.preventDefault(),this._virtualizerElement&&this._selectedItemIndex>0){const e=this._selectedItemIndex-1,t=this._virtualizerElement.items;if(!t[e])return;if("string"==typeof t[e]){if(0===e)return;this._selectedItemIndex=e-1}else this._selectedItemIndex=e;this._scrollToSelectedItem()}},this._selectFirstItem=e=>{if(e.stopPropagation(),!this._virtualizerElement||!this._virtualizerElement.items.length)return;"string"==typeof this._virtualizerElement.items[0]?this._selectedItemIndex=1:this._selectedItemIndex=0,this._scrollToSelectedItem()},this._selectLastItem=e=>{if(e.stopPropagation(),!this._virtualizerElement||!this._virtualizerElement.items.length)return;const t=this._virtualizerElement.items.length-1;"string"==typeof this._virtualizerElement.items[t]?this._selectedItemIndex=t-1:this._selectedItemIndex=t,this._scrollToSelectedItem()},this._scrollToSelectedItem=()=>{this._virtualizerElement?.querySelector(".selected")?.classList.remove("selected"),this._virtualizerElement?.scrollToIndex(this._selectedItemIndex,"end"),requestAnimationFrame(()=>{this._virtualizerElement?.querySelector(`#list-item-${this._selectedItemIndex}`)?.classList.add("selected")})},this._pickSelectedItem=e=>{e.stopPropagation();const t=this._virtualizerElement?.items[0];if(1===this._virtualizerElement?.items.length&&(0,n.r)(this,"value-changed",{value:t.id}),-1===this._selectedItemIndex)return;e.preventDefault();const i=this._virtualizerElement?.items[this._selectedItemIndex];i&&(0,n.r)(this,"value-changed",{value:i.id})},this._keyFunction=e=>"string"==typeof e?e:e.id}}v.shadowRootOptions={...r.WF.shadowRootOptions,delegatesFocus:!0},v.styles=[p.dp,r.AH`
      :host {
        display: flex;
        flex-direction: column;
        padding-top: var(--ha-space-3);
        flex: 1;
      }

      ha-textfield {
        padding: 0 var(--ha-space-3);
        margin-bottom: var(--ha-space-3);
      }

      :host([mode="dialog"]) ha-textfield {
        padding: 0 var(--ha-space-4);
      }

      ha-combo-box-item {
        width: 100%;
      }

      ha-combo-box-item.selected {
        background-color: var(--ha-color-fill-neutral-quiet-hover);
      }

      @media (prefers-color-scheme: dark) {
        ha-combo-box-item.selected {
          background-color: var(--ha-color-fill-neutral-normal-hover);
        }
      }

      lit-virtualizer {
        flex: 1;
      }

      lit-virtualizer:focus-visible {
        outline: none;
      }

      lit-virtualizer.scrolled {
        border-top: 1px solid var(--ha-color-border-neutral-quiet);
      }

      .bottom-padding {
        height: max(var(--safe-area-inset-bottom, 0px), var(--ha-space-8));
        width: 100%;
      }

      .empty {
        text-align: center;
      }

      .combo-box-row {
        display: flex;
        width: 100%;
        align-items: center;
        box-sizing: border-box;
        min-height: 36px;
      }
      .combo-box-row.current-value {
        background-color: var(--ha-color-fill-primary-quiet-resting);
      }

      .combo-box-row.selected {
        background-color: var(--ha-color-fill-neutral-quiet-hover);
      }

      @media (prefers-color-scheme: dark) {
        .combo-box-row.selected {
          background-color: var(--ha-color-fill-neutral-normal-hover);
        }
      }

      .sections {
        display: flex;
        flex-wrap: nowrap;
        gap: var(--ha-space-2);
        padding: var(--ha-space-3) var(--ha-space-3);
        overflow: auto;
      }

      :host([mode="dialog"]) .sections {
        padding: var(--ha-space-3) var(--ha-space-4);
      }

      .sections ha-filter-chip {
        flex-shrink: 0;
        --md-filter-chip-selected-container-color: var(
          --ha-color-fill-primary-normal-hover
        );
        color: var(--primary-color);
      }

      .sections .separator {
        height: var(--ha-space-8);
        width: 0;
        border: 1px solid var(--ha-color-border-neutral-quiet);
      }

      .section-title,
      .title {
        background-color: var(--ha-color-fill-neutral-quiet-resting);
        padding: var(--ha-space-1) var(--ha-space-2);
        font-weight: var(--ha-font-weight-bold);
        color: var(--secondary-text-color);
        min-height: var(--ha-space-6);
        display: flex;
        align-items: center;
      }

      .title {
        width: 100%;
      }

      :host([mode="dialog"]) .title {
        padding: var(--ha-space-1) var(--ha-space-4);
      }

      :host([mode="dialog"]) ha-textfield {
        padding: 0 var(--ha-space-4);
      }

      .section-title-wrapper {
        height: 0;
        position: relative;
      }

      .section-title {
        opacity: 0;
        position: absolute;
        top: 1px;
        width: calc(100% - var(--ha-space-8));
      }

      .section-title.show {
        opacity: 1;
        z-index: 1;
      }

      .empty-search {
        display: flex;
        width: 100%;
        flex-direction: column;
        align-items: center;
        padding: var(--ha-space-3);
      }
    `],(0,o.__decorate)([(0,s.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],v.prototype,"autofocus",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],v.prototype,"disabled",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean})],v.prototype,"required",void 0),(0,o.__decorate)([(0,s.MZ)({type:Boolean,attribute:"allow-custom-value"})],v.prototype,"allowCustomValue",void 0),(0,o.__decorate)([(0,s.MZ)()],v.prototype,"label",void 0),(0,o.__decorate)([(0,s.MZ)()],v.prototype,"value",void 0),(0,o.__decorate)([(0,s.wk)()],v.prototype,"_listScrolled",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],v.prototype,"getItems",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1,type:Array})],v.prototype,"getAdditionalItems",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],v.prototype,"rowRenderer",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],v.prototype,"notFoundLabel",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"empty-label"})],v.prototype,"emptyLabel",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],v.prototype,"searchFn",void 0),(0,o.__decorate)([(0,s.MZ)({reflect:!0})],v.prototype,"mode",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],v.prototype,"sections",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:!1})],v.prototype,"sectionTitleFunction",void 0),(0,o.__decorate)([(0,s.MZ)({attribute:"selected-section"})],v.prototype,"selectedSection",void 0),(0,o.__decorate)([(0,s.P)("lit-virtualizer")],v.prototype,"_virtualizerElement",void 0),(0,o.__decorate)([(0,s.P)("ha-textfield")],v.prototype,"_searchFieldElement",void 0),(0,o.__decorate)([(0,s.wk)()],v.prototype,"_items",void 0),(0,o.__decorate)([(0,s.wk)()],v.prototype,"_sectionTitle",void 0),(0,o.__decorate)([(0,s.Ls)({passive:!0})],v.prototype,"_visibilityChanged",null),(0,o.__decorate)([(0,s.Ls)({passive:!0})],v.prototype,"_onScrollList",null),v=(0,o.__decorate)([(0,s.EM)("ha-picker-combo-box")],v)},74554:function(e,t,i){var o=i(62826),a=i(96196),r=i(77845),s=i(92542);i(94343),i(60733);class l extends a.WF{async focus(){await this.updateComplete,await(this.item?.focus())}render(){const e=!(!this.value||this.required||this.disabled||this.hideClearIcon);return a.qy`
      <ha-combo-box-item .disabled=${this.disabled} type="button" compact>
        ${this.value?this.valueRenderer?this.valueRenderer(this.value):a.qy`<slot name="headline">${this.value}</slot>`:a.qy`
              <span slot="headline" class="placeholder">
                ${this.placeholder}
              </span>
            `}
        ${e?a.qy`
              <ha-icon-button
                class="clear"
                slot="end"
                @click=${this._clear}
                .path=${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}
              ></ha-icon-button>
            `:a.s6}
        <ha-svg-icon
          class="arrow"
          slot="end"
          .path=${"M7,10L12,15L17,10H7Z"}
        ></ha-svg-icon>
      </ha-combo-box-item>
    `}_clear(e){e.stopPropagation(),(0,s.r)(this,"clear")}static get styles(){return[a.AH`
        ha-combo-box-item[disabled] {
          background-color: var(
            --mdc-text-field-disabled-fill-color,
            whitesmoke
          );
        }
        ha-combo-box-item {
          background-color: var(--mdc-text-field-fill-color, whitesmoke);
          border-radius: var(--ha-border-radius-sm);
          border-end-end-radius: 0;
          border-end-start-radius: 0;
          --md-list-item-one-line-container-height: 56px;
          --md-list-item-two-line-container-height: 56px;
          --md-list-item-top-space: 0px;
          --md-list-item-bottom-space: 0px;
          --md-list-item-leading-space: 8px;
          --md-list-item-trailing-space: 8px;
          --ha-md-list-item-gap: var(--ha-space-2);
          /* Remove the default focus ring */
          --md-focus-ring-width: 0px;
          --md-focus-ring-duration: 0s;
        }

        /* Add Similar focus style as the text field */
        ha-combo-box-item[disabled]:after {
          background-color: var(
            --mdc-text-field-disabled-line-color,
            rgba(0, 0, 0, 0.42)
          );
        }
        ha-combo-box-item:after {
          display: block;
          content: "";
          position: absolute;
          pointer-events: none;
          bottom: 0;
          left: 0;
          right: 0;
          height: 1px;
          width: 100%;
          background-color: var(
            --mdc-text-field-idle-line-color,
            rgba(0, 0, 0, 0.42)
          );
          transform:
            height 180ms ease-in-out,
            background-color 180ms ease-in-out;
        }

        ha-combo-box-item:focus:after {
          height: 2px;
          background-color: var(--mdc-theme-primary);
        }

        .clear {
          margin: 0 -8px;
          --mdc-icon-button-size: 32px;
          --mdc-icon-size: 20px;
        }
        .arrow {
          --mdc-icon-size: 20px;
          width: 32px;
        }

        .placeholder {
          color: var(--secondary-text-color);
          padding: 0 8px;
        }
      `]}constructor(...e){super(...e),this.disabled=!1,this.required=!1,this.hideClearIcon=!1}}(0,o.__decorate)([(0,r.MZ)({type:Boolean})],l.prototype,"disabled",void 0),(0,o.__decorate)([(0,r.MZ)({type:Boolean})],l.prototype,"required",void 0),(0,o.__decorate)([(0,r.MZ)()],l.prototype,"value",void 0),(0,o.__decorate)([(0,r.MZ)()],l.prototype,"helper",void 0),(0,o.__decorate)([(0,r.MZ)()],l.prototype,"placeholder",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:"hide-clear-icon",type:Boolean})],l.prototype,"hideClearIcon",void 0),(0,o.__decorate)([(0,r.MZ)({attribute:!1})],l.prototype,"valueRenderer",void 0),(0,o.__decorate)([(0,r.P)("ha-combo-box-item",!0)],l.prototype,"item",void 0),l=(0,o.__decorate)([(0,r.EM)("ha-picker-field")],l)},78740:function(e,t,i){i.d(t,{h:()=>n});var o=i(62826),a=i(68846),r=i(92347),s=i(96196),l=i(77845),d=i(76679);class n extends a.J{updated(e){super.updated(e),(e.has("invalid")||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||e.has("invalid")&&void 0!==e.get("invalid"))&&this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(!1===this.autocorrect?this.formElement.setAttribute("autocorrect","off"):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}renderIcon(e,t=!1){const i=t?"trailing":"leading";return s.qy`
      <span
        class="mdc-text-field__icon mdc-text-field__icon--${i}"
        tabindex=${t?1:-1}
      >
        <slot name="${i}Icon"></slot>
      </span>
    `}constructor(...e){super(...e),this.icon=!1,this.iconTrailing=!1,this.autocorrect=!0}}n.styles=[r.R,s.AH`
      .mdc-text-field__input {
        width: var(--ha-textfield-input-width, 100%);
      }
      .mdc-text-field:not(.mdc-text-field--with-leading-icon) {
        padding: var(--text-field-padding, 0px 16px);
      }
      .mdc-text-field__affix--suffix {
        padding-left: var(--text-field-suffix-padding-left, 12px);
        padding-right: var(--text-field-suffix-padding-right, 0px);
        padding-inline-start: var(--text-field-suffix-padding-left, 12px);
        padding-inline-end: var(--text-field-suffix-padding-right, 0px);
        direction: ltr;
      }
      .mdc-text-field--with-leading-icon {
        padding-inline-start: var(--text-field-suffix-padding-left, 0px);
        padding-inline-end: var(--text-field-suffix-padding-right, 16px);
        direction: var(--direction);
      }

      .mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon {
        padding-left: var(--text-field-suffix-padding-left, 0px);
        padding-right: var(--text-field-suffix-padding-right, 0px);
        padding-inline-start: var(--text-field-suffix-padding-left, 0px);
        padding-inline-end: var(--text-field-suffix-padding-right, 0px);
      }
      .mdc-text-field:not(.mdc-text-field--disabled)
        .mdc-text-field__affix--suffix {
        color: var(--secondary-text-color);
      }

      .mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon {
        color: var(--secondary-text-color);
      }

      .mdc-text-field__icon--leading {
        margin-inline-start: 16px;
        margin-inline-end: 8px;
        direction: var(--direction);
      }

      .mdc-text-field__icon--trailing {
        padding: var(--textfield-icon-trailing-padding, 12px);
      }

      .mdc-floating-label:not(.mdc-floating-label--float-above) {
        max-width: calc(100% - 16px);
      }

      .mdc-floating-label--float-above {
        max-width: calc((100% - 16px) / 0.75);
        transition: none;
      }

      input {
        text-align: var(--text-field-text-align, start);
      }

      input[type="color"] {
        height: 20px;
      }

      /* Edge, hide reveal password icon */
      ::-ms-reveal {
        display: none;
      }

      /* Chrome, Safari, Edge, Opera */
      :host([no-spinner]) input::-webkit-outer-spin-button,
      :host([no-spinner]) input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }

      input[type="color"]::-webkit-color-swatch-wrapper {
        padding: 0;
      }

      /* Firefox */
      :host([no-spinner]) input[type="number"] {
        -moz-appearance: textfield;
      }

      .mdc-text-field__ripple {
        overflow: hidden;
      }

      .mdc-text-field {
        overflow: var(--text-field-overflow);
      }

      .mdc-floating-label {
        padding-inline-end: 16px;
        padding-inline-start: initial;
        inset-inline-start: 16px !important;
        inset-inline-end: initial !important;
        transform-origin: var(--float-start);
        direction: var(--direction);
        text-align: var(--float-start);
        box-sizing: border-box;
        text-overflow: ellipsis;
      }

      .mdc-text-field--with-leading-icon.mdc-text-field--filled
        .mdc-floating-label {
        max-width: calc(
          100% - 48px - var(--text-field-suffix-padding-left, 0px)
        );
        inset-inline-start: calc(
          48px + var(--text-field-suffix-padding-left, 0px)
        ) !important;
        inset-inline-end: initial !important;
        direction: var(--direction);
      }

      .mdc-text-field__input[type="number"] {
        direction: var(--direction);
      }
      .mdc-text-field__affix--prefix {
        padding-right: var(--text-field-prefix-padding-right, 2px);
        padding-inline-end: var(--text-field-prefix-padding-right, 2px);
        padding-inline-start: initial;
      }

      .mdc-text-field:not(.mdc-text-field--disabled)
        .mdc-text-field__affix--prefix {
        color: var(--mdc-text-field-label-ink-color);
      }
      #helper-text ha-markdown {
        display: inline-block;
      }
    `,"rtl"===d.G.document.dir?s.AH`
          .mdc-text-field--with-leading-icon,
          .mdc-text-field__icon--leading,
          .mdc-floating-label,
          .mdc-text-field--with-leading-icon.mdc-text-field--filled
            .mdc-floating-label,
          .mdc-text-field__input[type="number"] {
            direction: rtl;
            --direction: rtl;
          }
        `:s.AH``],(0,o.__decorate)([(0,l.MZ)({type:Boolean})],n.prototype,"invalid",void 0),(0,o.__decorate)([(0,l.MZ)({attribute:"error-message"})],n.prototype,"errorMessage",void 0),(0,o.__decorate)([(0,l.MZ)({type:Boolean})],n.prototype,"icon",void 0),(0,o.__decorate)([(0,l.MZ)({type:Boolean})],n.prototype,"iconTrailing",void 0),(0,o.__decorate)([(0,l.MZ)()],n.prototype,"autocomplete",void 0),(0,o.__decorate)([(0,l.MZ)({type:Boolean})],n.prototype,"autocorrect",void 0),(0,o.__decorate)([(0,l.MZ)({attribute:"input-spellcheck"})],n.prototype,"inputSpellcheck",void 0),(0,o.__decorate)([(0,l.P)("input")],n.prototype,"formElement",void 0),n=(0,o.__decorate)([(0,l.EM)("ha-textfield")],n)},69847:function(e,t,i){i.d(t,{b:()=>r});var o=i(78648);const a={ignoreDiacritics:!0,isCaseSensitive:!1,threshold:.3,minMatchCharLength:2};class r extends o.A{multiTermsSearch(e,t){const i=e.toLowerCase().split(" "),{minMatchCharLength:o}=this.options,a=o?i.filter(e=>e.length>=o):i;if(0===a.length)return null;const r=this.getIndex().toJSON().keys,s={$and:a.map(e=>({$or:r.map(t=>({$path:t.path,$val:e}))}))};return this.search(s,t)}constructor(e,t,i){super(e,{...a,...t},i)}}},84183:function(e,t,i){i.d(t,{i:()=>o});const o=async()=>{await i.e("2564").then(i.bind(i,42735))}}};
//# sourceMappingURL=6468.dd14071b71be6a12.js.map
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tool Manager - Gatekit Documentation</title>
  <meta name="description" content="Control which tools are visible to MCP clients using an allowlist. Filter, rename, and modify tool descriptions to optimize context and simplify workflows.">
  <link rel="icon" type="image/png" href="../../../favicon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../../css/style.css">
  <script defer src="https://api.pirsch.io/pa.js" id="pianjs" data-code="GUYxLQ7LGQThWCqSrzrtg2qOOArCNKPS"></script>
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <a href="../../../" class="logo">Gate<span class="logo-kit">kit</span></a>
      <nav class="header-nav">
        <a href="../../../docs/getting-started.html">Get started</a>
        <a href="../../../docs/">Docs</a>
        <a href="https://github.com/gatekit-ai/gatekit">GitHub</a>
      </nav>
    </div>
  </header>

  <div class="docs-layout">
    <aside class="docs-sidebar">
      <nav class="docs-nav">
<div class="nav-section">
<h3>Getting Started</h3>
<ul>
<li><a href="/docs/getting-started.html">Quick Start</a></li>
</ul>
</div>
<div class="nav-section">
<h3>Guides</h3>
<ul>
<li><a href="/docs/guides/managing-tools.html">Managing Tools</a></li>
</ul>
</div>
<div class="nav-section">
<h3>Concepts</h3>
<ul>
<li><a href="/docs/concepts/configuration.html">Configuration</a></li>
<li><a href="/docs/concepts/routing.html">Routing Model</a></li>
<li><a href="/docs/concepts/security.html">Security Model</a></li>
</ul>
</div>
<div class="nav-section">
<h3>Plugin Development</h3>
<ul>
<li><a href="/docs/plugins/development-guide.html">Plugin Guide</a></li>
</ul>
</div>
<div class="nav-section">
<h3>Reference</h3>
<ul>
<li><a href="/docs/reference/plugins/">Built-in Plugins</a></li>
<li><a href="/docs/reference/known-issues.html">Known Issues</a></li>
</ul>
</div>
<div class="nav-section">
<h3>Decisions</h3>
<ul>
<li><a href="/decisions/">Architecture Decision Records</a></li>
</ul>
</div>
</nav>
    </aside>
    <main class="docs-content">
      <h1 id="tool-manager">Tool Manager</h1>
<p>Control which tools are visible to MCP clients using an allowlist. Filter, rename, and modify tool descriptions to optimize context and simplify workflows.</p>
<blockquote>
<p><strong>Note:</strong> This is a middleware plugin, NOT a security plugin. Tools are filtered for operational purposes (context optimization, workflow simplification). For security-based tool restrictions, implement a separate security plugin.</p>
</blockquote>
<h2 id="quick-reference">Quick Reference</h2>
<table>
<thead>
<tr>
  <th>Property</th>
  <th>Value</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Handler</td>
  <td><code>tool_manager</code></td>
</tr>
<tr>
  <td>Type</td>
  <td>Middleware</td>
</tr>
<tr>
  <td>Scope</td>
  <td>Server-aware (must be configured per-server)</td>
</tr>
</tbody>
</table>
<h2 id="how-it-works">How It Works</h2>
<p>The tool manager uses an <strong>allowlist</strong> approach:</p>
<ul>
<li>Only tools explicitly listed in <code>tools</code> are visible to the MCP client</li>
<li>Empty <code>tools</code> list blocks all tools</li>
<li>Unlisted tools are hidden from <code>tools/list</code> responses</li>
<li>Calls to hidden tools return a &quot;method not found&quot; error</li>
</ul>
<p>The plugin intercepts:</p>
<ol>
<li><strong><code>tools/list</code> responses</strong> - Filters and renames tools before they reach the client</li>
<li><strong><code>tools/call</code> requests</strong> - Translates renamed tools back to original names, blocks hidden tools</li>
</ol>
<h2 id="configuration-reference">Configuration Reference</h2>
<h3 id="tools">tools</h3>
<p>An array of tool entries. Each entry specifies a tool to allow and optionally rename.</p>
<table>
<thead>
<tr>
  <th>Field</th>
  <th>Type</th>
  <th>Required</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>tool</code></td>
  <td>string</td>
  <td>Yes</td>
  <td>Original tool name from the upstream server</td>
</tr>
<tr>
  <td><code>display_name</code></td>
  <td>string</td>
  <td>No</td>
  <td>Override the tool name shown to clients</td>
</tr>
<tr>
  <td><code>display_description</code></td>
  <td>string</td>
  <td>No</td>
  <td>Override the tool description shown to clients</td>
</tr>
</tbody>
</table>
<p><strong>Tool name format:</strong> Must start with a letter, contain only letters, numbers, underscores, or hyphens.</p>
<h2 id="yaml-configuration">YAML Configuration</h2>
<h3 id="minimal-configuration-allow-specific-tools">Minimal Configuration (Allow Specific Tools)</h3>
<pre><code class="language-yaml"><span class="nt">servers</span><span class="p">:</span>
<span class="w">  </span><span class="nt">filesystem</span><span class="p">:</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npx</span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;-y&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;@anthropic-ai/mcp-server-filesystem&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;/path/to/allowed&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">plugins</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">handler</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tool_manager</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">tools</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">read_file</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">list_directory</span>
</code></pre>
<h3 id="full-configuration-with-renaming">Full Configuration with Renaming</h3>
<pre><code class="language-yaml"><span class="nt">servers</span><span class="p">:</span>
<span class="w">  </span><span class="nt">filesystem</span><span class="p">:</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npx</span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;-y&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;@anthropic-ai/mcp-server-filesystem&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;/path/to/allowed&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">plugins</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">handler</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tool_manager</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">tools</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">read_file</span>
<span class="w">            </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">read</span>
<span class="w">            </span><span class="nt">display_description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Read</span><span class="nv"> </span><span class="s">contents</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">file&quot;</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write_file</span>
<span class="w">            </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
<span class="w">            </span><span class="nt">display_description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Write</span><span class="nv"> </span><span class="s">content</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">file&quot;</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">list_directory</span>
<span class="w">            </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ls</span>
<span class="w">            </span><span class="nt">display_description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;List</span><span class="nv"> </span><span class="s">files</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">directory&quot;</span>
</code></pre>
<h3 id="block-all-tools">Block All Tools</h3>
<pre><code class="language-yaml"><span class="nt">servers</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dangerous-server</span><span class="p">:</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./run-server.sh</span>
<span class="w">    </span><span class="nt">plugins</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">handler</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tool_manager</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">tools</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w">    </span><span class="c1"># Empty list blocks all tools</span>
</code></pre>
<h3 id="context-optimization-example">Context Optimization Example</h3>
<p>Reduce context usage by exposing only essential tools with shorter names:</p>
<pre><code class="language-yaml"><span class="nt">servers</span><span class="p">:</span>
<span class="w">  </span><span class="nt">filesystem</span><span class="p">:</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npx</span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;-y&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;@anthropic-ai/mcp-server-filesystem&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;/workspace&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">plugins</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">handler</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tool_manager</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">tools</span><span class="p">:</span>
<span class="w">          </span><span class="c1"># Only expose read operations</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">read_file</span>
<span class="w">            </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">read</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">list_directory</span>
<span class="w">            </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ls</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">search_files</span>
<span class="w">            </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">search</span>
<span class="w">          </span><span class="c1"># Block: write_file, create_directory, move_file, etc.</span>
</code></pre>
<h2 id="use-cases">Use Cases</h2>
<h3 id="context-window-optimization">Context Window Optimization</h3>
<p>Hide tools that aren't needed to reduce context usage. Each hidden tool saves tokens from tool listings.</p>
<h3 id="workflow-simplification">Workflow Simplification</h3>
<p>Rename tools to shorter, more intuitive names. <code>read_file</code> → <code>read</code>, <code>list_directory</code> → <code>ls</code>.</p>
<h3 id="capability-restriction">Capability Restriction</h3>
<p>Limit what operations an MCP client can perform. Allow read operations but hide write/delete.</p>
<h3 id="description-enhancement">Description Enhancement</h3>
<p>Provide better descriptions than the upstream server offers, improving AI tool selection.</p>
<h2 id="validation-rules">Validation Rules</h2>
<ul>
<li><strong>No duplicates:</strong> Each tool can only appear once in the list</li>
<li><strong>No self-renaming:</strong> Cannot rename a tool to its own name</li>
<li><strong>No name collisions:</strong> Cannot rename tool A to tool B if tool B exists in the list</li>
<li><strong>Valid names:</strong> Tool names must match <code>^[a-zA-Z][a-zA-Z0-9_-]*$</code></li>
</ul>
<h2 id="error-handling">Error Handling</h2>
<p>When a client tries to call a hidden tool:</p>
<pre><code class="language-json"><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-32601</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Tool &#39;hidden_tool&#39; is not available&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hidden_by_policy&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;plugin&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tool_manager&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id="important-notes">Important Notes</h2>
<ul>
<li><strong>Server-aware plugin:</strong> Must be configured under a specific server, not in the global <code>plugins</code> section</li>
<li><strong>Allowlist only:</strong> There is no denylist mode - only listed tools are visible</li>
<li><strong>Not for security:</strong> This plugin filters for operational purposes. Determined users could potentially bypass middleware restrictions.</li>
</ul>

    </main>
  </div>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-links">
        <a href="../../../docs/">Documentation</a>
        <a href="https://github.com/gatekit-ai/gatekit">GitHub</a>
        <a href="https://github.com/gatekit-ai/gatekit/issues">Issues</a>
        <a href="https://pypi.org/project/gatekit/">PyPI</a>
      </div>
      <p>Apache 2.0 License</p>
    </div>
  </footer>
</body>
</html>

[tox]
env_list =
    py{39,310,311,312}-requests{2.28,2.32}-funcy{1.18,2}-pydantic{2.5,2.6,2.7,2.8,2.9,2.10,2.11}
    py313-requests{2.28,2.32}-funcy{1.18,2}-pydantic{2.8,2.9,2.10,2.11}
;    py314-requests{2.32}-funcy{2}-pydantic{2.10,2.11}
    py{39,310,311,312,313,314}-requests2.32-funcy2-pydantic2.11-with_extras
min_version = 4
isolated_build = True

[testenv]
deps =
    requests2.32: requests >=2.32, <2.33
    requests2.31: requests >=2.31, <2.32
    requests2.30: requests >=2.30, <2.31
    requests2.29: requests >=2.29, <2.30
    requests2.28: requests >=2.28, <2.29
    pydantic2.5: pydantic >=2.5, <2.6
    pydantic2.6: pydantic >=2.6, <2.7
    pydantic2.7: pydantic >=2.7, <2.8
    pydantic2.8: pydantic >=2.8, <2.9
    pydantic2.9: pydantic >=2.9, <2.10
    pydantic2.10: pydantic >=2.10, <2.11
    pydantic2.11: pydantic >=2.11, <2.12
    funcy1.18: funcy >= 1.18, <1.19
    funcy1.17: funcy >= 1.17, <1.18
    funcy1.16: funcy >= 1.16, <1.17
    funcy2: funcy >= 2, <3
allowlist_externals = make
install_command =
    python tox_install_deps.py {opts} {packages}
commands = make test

[gh-actions]
python =
    3.9: py39
    3.10: py310
    3.11: py311
    3.12: py312
    3.13: py313
    3.14: py314

[testenv:with_extras]
install_command =
    python tox_install_deps.py --with-extras {opts} {packages}
set_env = RHINO_SDK_WITH_EXTRAS=1

[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "TACE"
version = "0.0.9"
description = "TACE - Irreducible Cartesian Tensor based equivariant atomistic model."
authors = [{ name = "Zemin Xu", email = "xv_chana@163.com" }]

requires-python = ">=3.10"
dependencies = [
    "torch<2.10",
    "lightning",
    "omegaconf",
    "hydra-core>=1.3",
    "matscipy",
    "ase",
    "numpy",
    "e3nn",
    "torch_geometric",
    "scipy",
    "configargparse",
    "pandas",
    "lmdb",
    "torch-sim-atomistic!=0.5.0",
    "wandb",
    "huggingface_hub",
]

[project.optional-dependencies]
 
cueq12 = [
    "cuequivariance",
    "cuequivariance-torch",
    "cuequivariance-ops-torch-cu12",
]

cueq13 = [
    "cuequivariance",
    "cuequivariance-torch",
    "cuequivariance-ops-torch-cu13",
]

oeq = [
    "openequivariance",
]

openmm = [
    "openmm",
    "openmm-ml",
    "openmmtorch",
    # conda install -c conda-forge nnpops
]

lammps = [
    "lammps",
    "cython",
    "cupy-cuda12x",
]

d3 = [
    "torch_dftd",
]

nl = [
    "ase",
    "matscipy",
    "vesin",
]

dev = [
    "sphinx",
    "myst-parser",
    "sphinx-copybutton",
    "pydata-sphinx-theme", 
    "black",
    "isort",
    "pre-commit",

    "MDAnalysis",
    "tidynamics",
    "mdtraj",
    "scikit-learn",
    "umap-learn",
    "cotengra",
    "optuna",
    "cmaes", 
    "nevergrad",
    "configargparse",
    "ase_db_backends",
    "tomli",
    "matcalc",
    "pandas",
    "matminer",
    "vtk",
    "pymatgen",
    "pymatviz==0.15.1",
    "huggingface_hub",
]


[project.urls]
Homepage = "https://github.com/xvzemin/tace"

[project.scripts]
tace-train = "tace.scripts.train:main"
tace-eval = "tace.scripts.eval:main"
tace-clean = "tace.scripts.clean:main"
tace-split = "tace.scripts.split:main"
tace-export = "tace.scripts.export:main"
tace-graph = "tace.scripts.graph:main"
tace-update = "tace.scripts.update:main"
tace-modify = "tace.scripts.modify:main"
tace-finetune = "tace.scripts.finetune:main"
tace-convert = "tace.scripts.convert:main"
tace-download = "tace.scripts.download:main"
tace-average = "tace.scripts.average:main"

[tool.setuptools.packages.find]
include = ["tace", "tace.*", "cartnn", "cartnn.*"]

[tool.setuptools.package-data]
"tace.utils" = ["*.yaml"]


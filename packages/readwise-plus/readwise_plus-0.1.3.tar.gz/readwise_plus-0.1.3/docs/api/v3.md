# V3 API (Reader)

The V3 API provides access to Readwise Reader documents.

## V3Client

Access via `client.v3`:

```python
from readwise_sdk import ReadwiseClient

client = ReadwiseClient()
v3 = client.v3
```

## Documents

### list_documents

List documents with optional filtering:

```python
# All documents
for doc in client.v3.list_documents():
    print(doc.title)

# Filter by location
from readwise_sdk.v3.models import DocumentLocation
docs = client.v3.list_documents(location=DocumentLocation.NEW)

# Filter by category
from readwise_sdk.v3.models import DocumentCategory
docs = client.v3.list_documents(category=DocumentCategory.ARTICLE)

# Filter by date
docs = client.v3.list_documents(updated_after=datetime(2024, 1, 1))
```

### get_document

Get a single document:

```python
doc = client.v3.get_document(document_id="abc123")

# With HTML content
doc = client.v3.get_document(document_id="abc123", with_content=True)
print(doc.content)  # HTML content
```

### save_url

Save a URL to Reader:

```python
result = client.v3.save_url("https://example.com/article")
print(f"Document ID: {result.id}")

# With options
result = client.v3.save_url(
    "https://example.com/article",
    tags=["to-read"],
    location="later",
)
```

### update_document

Update a document:

```python
from readwise_sdk.v3.models import DocumentUpdate

update = DocumentUpdate(location="archive")
client.v3.update_document(document_id="abc123", update=update)
```

### delete_document

Delete a document:

```python
client.v3.delete_document(document_id="abc123")
```

## Convenience Methods

### get_inbox

Get inbox documents:

```python
for doc in client.v3.get_inbox():
    print(doc.title)
```

### get_reading_list

Get reading list documents:

```python
for doc in client.v3.get_reading_list():
    print(doc.title)
```

### get_archive

Get archived documents:

```python
for doc in client.v3.get_archive():
    print(doc.title)
```

### move_to_later

Move document to reading list:

```python
client.v3.move_to_later(document_id="abc123")
```

### archive

Archive a document:

```python
client.v3.archive(document_id="abc123")
```

### move_to_inbox

Move document back to inbox:

```python
client.v3.move_to_inbox(document_id="abc123")
```

## Tags

### list_tags

List all document tags:

```python
tags = client.v3.list_tags()
for tag in tags:
    print(tag.name)
```

### add_tag

Add a tag to a document:

```python
client.v3.add_tag(document_id="abc123", tag_name="important")
```

## Models

### Document

```python
@dataclass
class Document:
    id: str
    url: str
    title: str | None
    author: str | None
    source: str | None
    category: DocumentCategory | None
    location: DocumentLocation | None
    tags: list[str]
    site_name: str | None
    word_count: int | None
    reading_time: int | None
    published_date: datetime | None
    summary: str | None
    image_url: str | None
    content: str | None  # HTML content
    reading_progress: float | None
    first_opened_at: datetime | None
    last_opened_at: datetime | None
    created_at: datetime | None
    updated_at: datetime | None
```

### DocumentCategory

```python
class DocumentCategory(str, Enum):
    ARTICLE = "article"
    EMAIL = "email"
    RSS = "rss"
    HIGHLIGHT = "highlight"
    NOTE = "note"
    PDF = "pdf"
    EPUB = "epub"
    TWEET = "tweet"
    VIDEO = "video"
```

### DocumentLocation

```python
class DocumentLocation(str, Enum):
    NEW = "new"       # Inbox
    LATER = "later"   # Reading list
    ARCHIVE = "archive"
    FEED = "feed"
```

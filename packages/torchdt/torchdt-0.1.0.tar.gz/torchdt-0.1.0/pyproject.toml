[build-system]
requires = [
    "setuptools>=69.0",
    "wheel",
    "torch>=2.0",
    "ninja",
]
build-backend = "setuptools.build_meta"

[project]
name = "torchdt"
version = "0.1.0"
description = "torchdt is a python package that provides custom datatypes for training and inference in PyTorch."
readme = "README.md"
license = {file = "LICENSE"}
authors = [{name = "Alexander Krentz", email = "alexkrentz2@gmail.com"}]
keywords = ["python", "pytorch", "machine learning"]
dependencies = ["torch>=2.0", "numpy"]

[project.urls]
"Homepage" = "https://github.com/akrentz6/torchdt"

[tool.setuptools]
include-package-data = true

[tool.setuptools.package-data]
"torchdt" = [
    "include/torchdt/**/*.h",
    "csrc/**/*.cpp",
    "csrc/**/*.h",
]

[[tool.setuptools.ext-modules]]
name = "torchdt._C"
sources = []  # Filled dynamically
language = "c++"
extra-compile-args = ["-O3", "-std=c++17"]
optional = true

[tool.setuptools.cmdclass]
build_ext = "torchdt._build_ext.BuildCxxExtension"
"""tesserapiv1.

This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
"""

# ruff: noqa: D410, E501, E101, D206
from apimatic_core.authentication.multiple.single_auth import (
    Single,
)
from apimatic_core.request_builder import RequestBuilder
from apimatic_core.response_handler import ResponseHandler
from apimatic_core.types.parameter import Parameter

from tesserapiv1.api_helper import APIHelper
from tesserapiv1.configuration import Server
from tesserapiv1.controllers.base_controller import (
    BaseController,
)
from tesserapiv1.exceptions.api_exception import (
    APIException,
)
from tesserapiv1.http.http_method_enum import (
    HttpMethodEnum,
)
from tesserapiv1.models.counterparty_list_response import (
    CounterpartyListResponse,
)
from tesserapiv1.models.counterparty_response import (
    CounterpartyResponse,
)
from tesserapiv1.models.create_counterparty_response import (
    CreateCounterpartyResponse,
)
from tesserapiv1.models.update_counterparty_response import (
    UpdateCounterpartyResponse,
)


class CounterpartiesController(BaseController):
    """A Controller to access Endpoints in the tesserapiv1 API."""

    def __init__(self, config):
        """Initialize CounterpartiesController object."""
        super(CounterpartiesController, self).__init__(config)

    def create(self,
               authorization,
               body):
        """Perform a POST request to /entities/counterparties.

        Create a new counterparty for your workspace.
        A counterparty is any external party that your organization transacts with,
        such as vendors, customers, or partners.
        **Classifications:**
        - **individual**: A natural person (requires first/last name)
        - **business**: A legal entity (requires legal name)

        Args:
            authorization (str): Bearer token for authentication.   To obtain a
                token, make a request to Auth0:  ```bash curl --request POST \
                --url https://dev-awqy75wdabpsnsvu.us.auth0.com/oauth/token \
                --header 'content-type: application/json' \   --data '{
                "client_id":"YOUR_CLIENT_ID",
                "client_secret":"YOUR_CLIENT_SECRET",
                "audience":"https://sandbox.tesserx.co",
                "grant_type":"client_credentials"   }' ```  The response will contain
                an `access_token` field which should be used as the Bearer token.
            body (CreateCounterpartyRequest): The request body parameter.

        Returns:
            CreateCounterpartyResponse: Response from the API. Counterparty created
                successfully

        Raises:
            APIException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/entities/counterparties")
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                .key("Authorization")
                .value(authorization))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/json"))
            .body_param(Parameter()
                .value(body))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single("bearer")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(CreateCounterpartyResponse.from_dictionary)
            .local_error("400", "Details coming soon", APIException),
        ).execute()

    def find_all_1(self,
                   authorization,
                   classification=None,
                   include_secure=None):
        """Perform a GET request to /entities/counterparties.

        Retrieve all counterparties for your workspace with optional filtering.
        Use query parameters to filter results:
        - **classification**: Filter by 'individual' or 'business'

        Args:
            authorization (str): Bearer token for authentication.   To obtain a
                token, make a request to Auth0:  ```bash curl --request POST \
                --url https://dev-awqy75wdabpsnsvu.us.auth0.com/oauth/token \
                --header 'content-type: application/json' \   --data '{
                "client_id":"YOUR_CLIENT_ID",
                "client_secret":"YOUR_CLIENT_SECRET",
                "audience":"https://sandbox.tesserx.co",
                "grant_type":"client_credentials"   }' ```  The response will contain
                an `access_token` field which should be used as the Bearer token.
            classification (Classification7Enum, optional): Filter by classification
            include_secure (bool, optional): Include secure fields (PII)

        Returns:
            CounterpartyListResponse: Response from the API. Counterparties retrieved
                successfully

        Raises:
            APIException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/entities/counterparties")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                .key("Authorization")
                .value(authorization))
            .query_param(Parameter()
                .key("classification")
                .value(classification))
            .query_param(Parameter()
                .key("include_secure")
                .value(include_secure))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("bearer")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(CounterpartyListResponse.from_dictionary)
            .local_error("400", "Details coming soon", APIException),
        ).execute()

    def find_one(self,
                 id,
                 authorization,
                 classification=None,
                 include_secure=None):
        """Perform a GET request to /entities/counterparties/{id}.

        Retrieve a specific counterparty by its unique identifier

        Args:
            id (str): Counterparty ID (UUID)
            authorization (str): Bearer token for authentication.   To obtain a
                token, make a request to Auth0:  ```bash curl --request POST \
                --url https://dev-awqy75wdabpsnsvu.us.auth0.com/oauth/token \
                --header 'content-type: application/json' \   --data '{
                "client_id":"YOUR_CLIENT_ID",
                "client_secret":"YOUR_CLIENT_SECRET",
                "audience":"https://sandbox.tesserx.co",
                "grant_type":"client_credentials"   }' ```  The response will contain
                an `access_token` field which should be used as the Bearer token.
            classification (Classification7Enum, optional): Filter by classification
                ('individual' or 'business').
            include_secure (bool, optional): Include secure fields (PII)

        Returns:
            CounterpartyResponse: Response from the API. Counterparty retrieved
                successfully

        Raises:
            APIException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/entities/counterparties/{id}")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                .key("id")
                .value(id)
                .should_encode(True))
            .header_param(Parameter()
                .key("Authorization")
                .value(authorization))
            .query_param(Parameter()
                .key("classification")
                .value(classification))
            .query_param(Parameter()
                .key("include_secure")
                .value(include_secure))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("bearer")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(CounterpartyResponse.from_dictionary)
            .local_error("400", "Details coming soon", APIException),
        ).execute()

    def update_1(self,
                 id,
                 authorization,
                 body):
        """Perform a PATCH request to /entities/counterparties/{id}.

        Update an existing counterparty's information.
        Only provide the fields you want to update. At least one field must be
        provided.
        **Note:** If changing classification from 'individual' to 'business' (or vice
        versa),
        make sure to also provide the appropriate fields for the new classification.

        Args:
            id (str): Counterparty ID (UUID)
            authorization (str): Bearer token for authentication.   To obtain a
                token, make a request to Auth0:  ```bash curl --request POST \
                --url https://dev-awqy75wdabpsnsvu.us.auth0.com/oauth/token \
                --header 'content-type: application/json' \   --data '{
                "client_id":"YOUR_CLIENT_ID",
                "client_secret":"YOUR_CLIENT_SECRET",
                "audience":"https://sandbox.tesserx.co",
                "grant_type":"client_credentials"   }' ```  The response will contain
                an `access_token` field which should be used as the Bearer token.
            body (UpdateCounterpartyRequest): The request body parameter.

        Returns:
            UpdateCounterpartyResponse: Response from the API. Counterparty updated
                successfully

        Raises:
            APIException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/entities/counterparties/{id}")
            .http_method(HttpMethodEnum.PATCH)
            .template_param(Parameter()
                .key("id")
                .value(id)
                .should_encode(True))
            .header_param(Parameter()
                .key("Authorization")
                .value(authorization))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/json"))
            .body_param(Parameter()
                .value(body))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single("bearer")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(UpdateCounterpartyResponse.from_dictionary)
            .local_error("400", "Details coming soon", APIException),
        ).execute()

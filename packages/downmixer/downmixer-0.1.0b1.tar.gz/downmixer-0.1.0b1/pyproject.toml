[project]
name = "downmixer"
version = "0.1.0b1"
description = "Synchronize streaming libraries easily!"
authors = [{ name = "neufter", email = "neufter.dev@pm.me" }]
requires-python = ">=3.10"
readme = "README.md"
classifiers = [
    "Development Status :: 3 - Alpha",
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
    "Operating System :: OS Independent",
    "Intended Audience :: Developers",
    "Typing :: Typed",
]
dependencies = [
    "pytube",
    "rapidfuzz",
    "ytmusicapi",
    "python-slugify",
    "spotipy>=2.25.2",
    "yt-dlp",
    "python-ffmpeg",
    "mutagen",
    "requests==2.32.4",
    "beautifulsoup4",
    "black>=24.3.0",
]

[dependency-groups]
dev = [
    "black",
    "build",
    "mkdocs-material",
    "mkdocs",
    "mkdocstrings[python]",
    "mkdocs-gen-files",
    "mkdocs-awesome-pages-plugin",
    "pytest>=8.0.0",
    "pytest-asyncio>=0.23.0",
    "pytest-sugar>=1.1.1",
    "tox>=4.33.0",
    "pytest-cov>=7.0.0",
    "griffe-modernized-annotations>=1.0.8",
    "griffe-inherited-docstrings>=1.1.2",
    "mkdocs-autorefs>=1.4.3",
    "pygments>=2.19.2",
    "mkdocs-literate-nav>=0.6.2",
]

[project.scripts]
downmixer = "downmixer:command_line"

# PyPI
[project.urls]
Homepage = "https://git.gay/neufter/downmixer"
Documentation = "https://neufter.pages.gay/downmixer"
"Bug Tracker" = "https://git.gay/neufter/downmixer/issues"

# Build
[build-system]
requires = ["hatchling>=1.26.0"]
build-backend = "hatchling.build"

[tool.hatch.metadata]
license = "GNU General Public License v3 (GPLv3)"

# Tox
[tool.tox]
requires = ["tox>=4"]
env_list = ["lint", "3.15", "3.14", "3.13", "3.12", "3.11", "3.10"]

[tool.tox.env_run_base]
description = "run unit tests"
deps = [
    "pytest>=8",
    "pytest-sugar",
    "pytest-asyncio",
    "pytest-cov"
]
commands = [["pytest", { replace = "posargs", default = ["tests/", "--cov=.", "--cov-report=html", "--force-sugar"], extend = true }]]

[tool.tox.env.lint]
description = "run linters"
skip_install = true
deps = ["black"]
commands = [["black", { replace = "posargs", default = ["."], extend = true} ]]

[tool.coverage.run]
omit = [
    ".venv/*",
    "*/site-packages/*",
    ".tox/*",
]

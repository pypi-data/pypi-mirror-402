{"version":3,"file":"WidgetAudioUI-Dj1Sd9aT.js","sources":["../../../../../../../ComfyUI_frontend/src/renderer/extensions/vueNodes/widgets/components/WidgetAudioUI.vue"],"sourcesContent":["<template>\n  <div\n    class=\"w-full col-span-2 widget-expands grid grid-cols-[minmax(80px,max-content)_minmax(125px,auto)] gap-y-3 p-3\"\n  >\n    <WidgetSelect v-model=\"modelValue\" :widget class=\"col-span-2\" />\n    <AudioPreviewPlayer\n      class=\"col-span-2\"\n      :audio-url=\"audioUrlFromWidget\"\n      :readonly=\"readonly\"\n      :hide-when-empty=\"isOutputNodeRef\"\n      :show-options-button=\"true\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nimport type { LGraphNode } from '@/lib/litegraph/src/litegraph'\nimport { app } from '@/scripts/app'\nimport type { SimplifiedWidget } from '@/types/simplifiedWidget'\nimport { isOutputNode } from '@/utils/nodeFilterUtil'\n\nimport { getAudioUrlFromPath } from '../utils/audioUtils'\nimport WidgetSelect from './WidgetSelect.vue'\nimport AudioPreviewPlayer from './audio/AudioPreviewPlayer.vue'\n\nconst props = defineProps<{\n  widget: SimplifiedWidget<string | undefined>\n  readonly?: boolean\n  nodeId: string\n}>()\n\nconst modelValue = defineModel<string>('modelValue')\n\ndefineEmits<{\n  'update:modelValue': [value: string]\n}>()\n\n// Get litegraph node\nconst litegraphNode = computed(() => {\n  if (!props.nodeId || !app.canvas.graph) return null\n  return app.canvas.graph.getNodeById(props.nodeId) as LGraphNode | null\n})\n\n// Check if this is an output node (PreviewAudio, SaveAudio, etc)\nconst isOutputNodeRef = computed(() => {\n  const node = litegraphNode.value\n  if (!node) return false\n  return isOutputNode(node)\n})\n\nconst audioFilePath = computed(() => props.widget.value as string)\n\n// Computed audio URL from widget value (for input files)\nconst audioUrlFromWidget = computed(() => {\n  const path = audioFilePath.value\n  if (!path) return ''\n  return getAudioUrlFromPath(path, 'input')\n})\n</script>\n"],"names":["props","__props","modelValue","_useModel","litegraphNode","computed","app","isOutputNodeRef","node","isOutputNode","audioFilePath","audioUrlFromWidget","path","getAudioUrlFromPath"],"mappings":"2jCA2BA,MAAMA,EAAQC,EAMRC,EAAaC,IAAoB,YAAY,EAO7CC,EAAgBC,EAAS,IACzB,CAACL,EAAM,QAAU,CAACM,EAAI,OAAO,MAAc,KACxCA,EAAI,OAAO,MAAM,YAAYN,EAAM,MAAM,CACjD,EAGKO,EAAkBF,EAAS,IAAM,CACrC,MAAMG,EAAOJ,EAAc,MAC3B,OAAKI,EACEC,EAAaD,CAAI,EADN,EAEpB,CAAC,EAEKE,EAAgBL,EAAS,IAAML,EAAM,OAAO,KAAe,EAG3DW,EAAqBN,EAAS,IAAM,CACxC,MAAMO,EAAOF,EAAc,MAC3B,OAAKE,EACEC,EAAoBD,EAAM,OAAO,EADtB,EAEpB,CAAC"}
{"version":3,"file":"MediaVideoTop-YqSyrBs9.js","sources":["../../../../../../../ComfyUI_frontend/src/platform/assets/components/MediaVideoTop.vue"],"sourcesContent":["<template>\n  <div\n    class=\"relative size-full overflow-hidden rounded bg-black\"\n    @mouseenter=\"isHovered = true\"\n    @mouseleave=\"isHovered = false\"\n  >\n    <video\n      :controls=\"shouldShowControls\"\n      preload=\"metadata\"\n      autoplay\n      muted\n      loop\n      playsinline\n      :poster=\"asset.preview_url\"\n      class=\"relative size-full object-contain transition-transform duration-300 group-hover:scale-105 group-data-[selected=true]:scale-105\"\n      @click.stop\n      @play=\"onVideoPlay\"\n      @pause=\"onVideoPause\"\n      @ended=\"onVideoEnded\"\n    >\n      <source :src=\"asset.src || ''\" />\n    </video>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch } from 'vue'\n\nimport type { AssetMeta } from '../schemas/mediaAssetSchema'\n\nconst { asset } = defineProps<{\n  asset: AssetMeta\n}>()\n\nconst emit = defineEmits<{\n  videoPlayingStateChanged: [isPlaying: boolean]\n  videoControlsChanged: [showControls: boolean]\n}>()\n\nconst isHovered = ref(false)\nconst isPlaying = ref(false)\n\n// Always show controls when not playing, hide/show based on hover when playing\nconst shouldShowControls = computed(() => !isPlaying.value || isHovered.value)\n\nwatch(shouldShowControls, (controlsVisible) => {\n  emit('videoControlsChanged', controlsVisible)\n})\n\nonMounted(() => {\n  emit('videoControlsChanged', shouldShowControls.value)\n})\n\nconst onVideoPlay = () => {\n  isPlaying.value = true\n  emit('videoPlayingStateChanged', true)\n}\n\nconst onVideoPause = () => {\n  isPlaying.value = false\n  emit('videoPlayingStateChanged', false)\n}\n\nconst onVideoEnded = () => {\n  isPlaying.value = false\n  emit('videoPlayingStateChanged', false)\n}\n</script>\n"],"names":["emit","__emit","isHovered","ref","isPlaying","shouldShowControls","computed","watch","controlsVisible","onMounted","onVideoPlay","__name","onVideoPause","onVideoEnded"],"mappings":"wVAkCA,MAAMA,EAAOC,EAKPC,EAAYC,EAAI,EAAK,EACrBC,EAAYD,EAAI,EAAK,EAGrBE,EAAqBC,EAAS,IAAM,CAACF,EAAU,OAASF,EAAU,KAAK,EAE7EK,EAAMF,EAAqBG,GAAoB,CAC7CR,EAAK,uBAAwBQ,CAAe,CAC9C,CAAC,EAEDC,EAAU,IAAM,CACdT,EAAK,uBAAwBK,EAAmB,KAAK,CACvD,CAAC,EAED,MAAMK,EAAcC,EAAA,IAAM,CACxBP,EAAU,MAAQ,GAClBJ,EAAK,2BAA4B,EAAI,CACvC,EAHoB,eAKdY,EAAeD,EAAA,IAAM,CACzBP,EAAU,MAAQ,GAClBJ,EAAK,2BAA4B,EAAK,CACxC,EAHqB,gBAKfa,EAAeF,EAAA,IAAM,CACzBP,EAAU,MAAQ,GAClBJ,EAAK,2BAA4B,EAAK,CACxC,EAHqB"}
{"version":3,"file":"audioUtils-DI1f8_g7.js","sources":["../../../../../../../ComfyUI_frontend/src/renderer/extensions/vueNodes/widgets/utils/audioUtils.ts"],"sourcesContent":["import type { ResultItemType } from '@/schemas/apiSchema'\nimport { api } from '@/scripts/api'\nimport { app } from '@/scripts/app'\n\n/**\n * Format time in MM:SS format\n */\nexport function formatTime(seconds: number): string {\n  if (isNaN(seconds) || seconds === 0) return '0:00'\n\n  const mins = Math.floor(seconds / 60)\n  const secs = Math.floor(seconds % 60)\n  return `${mins}:${secs.toString().padStart(2, '0')}`\n}\n\n/**\n * Get full audio URL from path\n */\nexport function getAudioUrlFromPath(\n  path: string,\n  type: ResultItemType = 'input'\n): string {\n  const [subfolder, filename] = splitFilePath(path)\n  return api.apiURL(getResourceURL(subfolder, filename, type))\n}\n\nexport function getResourceURL(\n  subfolder: string,\n  filename: string,\n  type: ResultItemType = 'input'\n): string {\n  const params = [\n    'filename=' + encodeURIComponent(filename),\n    'type=' + type,\n    'subfolder=' + subfolder,\n    app.getRandParam().substring(1)\n  ].join('&')\n\n  return `/view?${params}`\n}\n\nexport function splitFilePath(path: string): [string, string] {\n  const folder_separator = path.lastIndexOf('/')\n  if (folder_separator === -1) {\n    return ['', path]\n  }\n  return [\n    path.substring(0, folder_separator),\n    path.substring(folder_separator + 1)\n  ]\n}\n"],"names":["formatTime","seconds","mins","secs","__name","getAudioUrlFromPath","path","type","subfolder","filename","splitFilePath","api","getResourceURL","app","folder_separator"],"mappings":"8HAOO,SAASA,EAAWC,EAAyB,CAClD,GAAI,MAAMA,CAAO,GAAKA,IAAY,EAAG,MAAO,OAE5C,MAAMC,EAAO,KAAK,MAAMD,EAAU,EAAE,EAC9BE,EAAO,KAAK,MAAMF,EAAU,EAAE,EACpC,MAAO,GAAGC,CAAI,IAAIC,EAAK,WAAW,SAAS,EAAG,GAAG,CAAC,EACpD,CANgBC,EAAAJ,EAAA,cAWT,SAASK,EACdC,EACAC,EAAuB,QACf,CACR,KAAM,CAACC,EAAWC,CAAQ,EAAIC,EAAcJ,CAAI,EAChD,OAAOK,EAAI,OAAOC,EAAeJ,EAAWC,EAAUF,CAAI,CAAC,CAC7D,CANgBH,EAAAC,EAAA,uBAQT,SAASO,EACdJ,EACAC,EACAF,EAAuB,QACf,CAQR,MAAO,SAPQ,CACb,YAAc,mBAAmBE,CAAQ,EACzC,QAAUF,EACV,aAAeC,EACfK,EAAI,eAAe,UAAU,CAAC,CAAA,EAC9B,KAAK,GAAG,CAEY,EACxB,CAbgBT,EAAAQ,EAAA,kBAeT,SAASF,EAAcJ,EAAgC,CAC5D,MAAMQ,EAAmBR,EAAK,YAAY,GAAG,EAC7C,OAAIQ,IAAqB,GAChB,CAAC,GAAIR,CAAI,EAEX,CACLA,EAAK,UAAU,EAAGQ,CAAgB,EAClCR,EAAK,UAAUQ,EAAmB,CAAC,CAAA,CAEvC,CATgBV,EAAAM,EAAA"}
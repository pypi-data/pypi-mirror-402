var E=Object.defineProperty;var f=(t,o)=>E(t,"name",{value:o,configurable:!0});import{M}from"./vendor-primevue-6nO4LMK3.js";import{c as m,d as P,cB as U}from"./index-Btwre5kD.js";import{f as S,I as $,S as k}from"./widgetPropFilter-CygYoMQt.js";import{W as C}from"./index-nFsJo5_A.js";import{_ as W}from"./WidgetLayoutField.vue_vue_type_script_setup_true_lang-_5MIxhdG.js";import{bx as N,cM as h,cN as x,E as d,h as L,j as c,d as g,k as b,l as R,e as w,by as l,m as V,p as z,L as A,r as G,s as T,z as F,t as X}from"./vendor-other-PcOcwbNM.js";import{_ as j}from"./WidgetWithControl.vue_vue_type_script_setup_true_lang-D8uN-qtF.js";const O={class:"absolute top-5 right-8 h-4 w-7 -translate-y-4/5 flex"},J=N({__name:"WidgetInputNumberInput",props:h({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const o=t,s=x(t,"modelValue"),a=d(()=>S(o.widget.options,$)),e=d(()=>{const n=o.widget.options?.precision;return typeof n=="number"&&n>=0?n:void 0}),r=d(()=>{if(o.widget.options?.step2!==void 0)return Number(o.widget.options.step2);const n=o.widget.options?.step;return n!==void 0&&n>10?Number(n)/10:e.value!==void 0?e.value===0?1:Number((1/Math.pow(10,e.value)).toFixed(e.value)):0}),u=d(()=>o.widget.options?.useGrouping===!0),p=d(()=>{const n=s.value??0;return!Number.isFinite(n)||Math.abs(n)>Number.MAX_SAFE_INTEGER}),v=d(()=>p.value?"Increment/decrement disabled: value exceeds JavaScript precision limit (Â±2^53)":null);return(n,i)=>{const I=L("tooltip");return g(),c(W,{widget:n.widget},{default:b(()=>[R((g(),c(l(M),V({modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=D=>s.value=D)},a.value,{fluid:"","button-layout":"horizontal",size:"small",variant:"outlined",step:r.value,"min-fraction-digits":e.value,"max-fraction-digits":e.value,"use-grouping":u.value,class:l(m)(l(C),"grow text-xs"),"aria-label":n.widget.name,"show-buttons":!p.value,pt:{root:{class:l(m)("[&>input]:bg-transparent [&>input]:border-0","[&>input]:truncate [&>input]:min-w-[4ch]",n.$slots.default&&"[&>input]:pr-7")},decrementButton:{class:"w-8 border-0"},incrementButton:{class:"w-8 border-0"}}}),{incrementicon:b(()=>i[1]||(i[1]=[w("span",{class:"pi pi-plus text-sm"},null,-1)])),decrementicon:b(()=>i[2]||(i[2]=[w("span",{class:"pi pi-minus text-sm"},null,-1)])),_:1},16,["modelValue","step","min-fraction-digits","max-fraction-digits","use-grouping","class","aria-label","show-buttons","pt"])),[[I,v.value]]),w("div",O,[z(n.$slots,"default",{},void 0,!0)])]),_:3},8,["widget"])}}}),_=P(J,[["__scopeId","data-v-618d59a6"]]);function q(t,o,s=!1){return d(()=>{const a=A(o);if(t?.step2!==void 0)return Number(t.step2);const e=t?.step;if(e!==void 0&&e>10)return Number(e)/10;if(a===void 0)return s?void 0:0;if(a===0)return 1;const r=1/Math.pow(10,a);return s?r:Number(r.toFixed(a))})}f(q,"useNumberStepCalculation");const y=m("inline-flex items-center justify-center border-0 bg-transparent text-inherit transition-colors duration-150 ease-in-out ","hover:bg-node-component-surface-hovered active:bg-node-component-surface-selected","disabled:bg-node-component-disabled disabled:text-node-icon-disabled disabled:cursor-not-allowed");function H(t){const{roundedLeft:o=!1,roundedRight:s=!1}=t??{},a=m(y,s&&"rounded-r-lg"),e=m(y,o&&"rounded-l-lg");return{incrementButton:{class:a},decrementButton:{class:e}}}f(H,"useNumberWidgetButtonPt");const K=N({__name:"WidgetInputNumberSlider",props:h({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const o=x(t,"modelValue"),s=G(0),a=f(i=>{i?.length&&(o.value=i[0])},"updateLocalValue"),e=f(i=>{if(i!==void 0){a([i]);return}s.value+=1},"handleNumberInputUpdate"),r=d(()=>S(t.widget.options,k)),u=t.widget.options?.precision,p=typeof u=="number"&&u>=0?u:void 0,v=q(t.widget.options,p,!0),n=H({roundedLeft:!0,roundedRight:!0});return(i,I)=>(g(),c(W,{widget:i.widget},{default:b(()=>[w("div",{class:T(l(m)(l(C),"flex items-center gap-2 pl-3 pr-2"))},[F(U,V({"model-value":[o.value]},r.value,{class:"flex-grow text-xs",step:l(v),"aria-label":i.widget.name,"onUpdate:modelValue":a}),null,16,["model-value","step","aria-label"]),(g(),c(l(M),V({key:s.value,"model-value":o.value},r.value,{step:l(v),"min-fraction-digits":l(p),"max-fraction-digits":l(p),"aria-label":i.widget.name,size:"small","pt:pc-input-text:root":"min-w-[4ch] bg-transparent border-none text-center truncate",class:"w-16",pt:l(n),"onUpdate:modelValue":e}),null,16,["model-value","step","min-fraction-digits","max-fraction-digits","aria-label","pt"]))],2)]),_:1},8,["widget"]))}}),B=P(K,[["__scopeId","data-v-989ee2f9"]]),ie=N({__name:"WidgetInputNumber",props:h({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const o=t,s=x(t,"modelValue"),a=d(()=>!!o.widget.controlWidget);return(e,r)=>a.value?(g(),c(j,{key:0,modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=u=>s.value=u),widget:e.widget,component:e.widget.type==="slider"?B:_},null,8,["modelValue","widget","component"])):(g(),c(X(e.widget.type==="slider"?B:_),V({key:1,modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=u=>s.value=u),widget:e.widget},e.$attrs),null,16,["modelValue","widget"]))}});export{ie as _};
//# sourceMappingURL=WidgetInputNumber.vue_vue_type_script_setup_true_lang-dcv-O0qP.js.map

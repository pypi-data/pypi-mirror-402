[project]
name = "ca-cdk8s-constructs"
version = "5.0.0"
description = "A collection of cdk8s constructs"
readme = "README.md"
requires-python = ">=3.10"
license = { file = "LICENSE" }
authors = [{ name = "Citizens Advice", email = "cloud.engineering@citizensadvice.org.uk" }]
dependencies = [
    "cdk8s>=2.70.11",
    "cdk8s-plus-32>=2.4.1",
    "pyyaml>=6.0.2",
    "aws-cdk-lib>=2.214.0",
]

[project.urls]
Homepage = "https://github.com/citizensadvice/ca-cdk8s-constructs"
Repository = "https://github.com/matthewcane/ca-cdk8s-constructs"
Issues = "https://github.com/citizensadvice/ca-cdk8s-constructs/issues"
Changelog = "https://github.com/citizensadvice/ca-cdk8s-constructs/releases"

[dependency-groups]
dev = [
    "syrupy>=4.9.1",
    "ty>=0.0.1a19",
    "pytest>=8.4.1",
    "ruff>=0.12.11",
]

[build-system]
requires = ["uv_build"]
build-backend = "uv_build"

[tool.uv.build-backend]
module-name = "ca_cdk8s_constructs"
module-root = "."

[tool.ruff]
# Exclude the imports directory as it is generated by cdk8s
exclude = ["ca_cdk8s_constructs/imports"]
line-length = 95

[tool.ruff.lint]
ignore = ['E501']
select = ['E', 'W', 'F', 'C', 'N', 'I']

[tool.ruff.lint.isort]
combine-as-imports = true

[tool.ty.environment]
root = ["ca_cdk8s_constructs"]
python = "./.venv"

[tool.ty.src]
# Exclude the imports directory as it is generated by cdk8s
exclude = ["ca_cdk8s_constructs/imports"]

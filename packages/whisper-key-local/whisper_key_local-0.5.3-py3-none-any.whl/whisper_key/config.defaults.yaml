# =============================================================================
# WHISPER KEY - DEFAULT CONFIGURATION
# =============================================================================
# DO NOT EDIT THIS FILE
# This is the default configuration template for Whisper Key
# 
# Personal settings are stored at:
# %APPDATA%\Roaming\whisperkey\user_settings.yaml

whisper: # Whisper AI Model Settings

  # Model selection
  # See "models" below for more information
  model: tiny
  
  # Processing device - where the AI runs
  # Options: "cpu", "cuda" (for NVIDIA GPUs)
  # Note: "cuda" requires compatible GPU and drivers
  device: cpu
  
  # Compute precision - affects speed vs accuracy
  # Options: "int8", "float16", "float32"
  # - int8: fastest, good quality (recommended)
  # - float16: balanced (requires GPU for best performance)
  # - float32: highest quality, slowest
  compute_type: int8
  
  # Language detection
  # Options: auto (auto-detect), en, es, fr, de, etc.
  # Set to specific language code to force language, or auto for auto-detection
  language: auto
  
  # Transcription quality settings
  beam_size: 5  # Higher = more accurate but slower (1-10)

  # Available models (set enabled: false to hide from menu)
  # To add custom models (CTranslate2 format), add entry with source (HuggingFace or local path)
  # Example: my-model: {source: "username/repo-ct2", label: "My Model", group: custom}
  models:
    # Official whisper models
    tiny:
      label: "Tiny (76MB, fastest)"
      group: official
      enabled: true
    base:
      label: "Base (145MB, balanced)"
      group: official
      enabled: true
    small:
      label: "Small (484MB, accurate)"
      group: official
      enabled: true
    medium:
      label: "Medium (1.5GB, very accurate)"
      group: official
      enabled: true
    large: # Uses the large-v3 version
      label: "Large (3.1GB, best accuracy)"
      group: official
      enabled: true
    large-v3-turbo: # 8x faster and only slightly less accurate (transcription optimized)
      label: "Large-V3-Turbo (1.6GB, newest)"
      group: official
      enabled: true

    # Models with native faster-whisper support
    tiny.en:
      label: "Tiny.En (English)"
      group: custom
      enabled: true
    base.en:
      label: "Base.En (English)"
      group: custom
      enabled: true
    small.en:
      label: "Small.En (English)"
      group: custom
      enabled: true
    medium.en:
      label: "Medium.En (English)"
      group: custom
      enabled: true
    distil-large-v3.5: # About 1.5x faster than large-v3-turbo
      source: distil-whisper/distil-large-v3.5-ct2
      label: "Distil-Large-V3.5 (English)"
      group: custom

hotkey: # Hotkey Configuration

  # Key combination to start/stop recording
  # Format: modifier+modifier+key (use lowercase)
  # Common modifiers: ctrl, shift, alt, win
  # Examples:
  #   - "ctrl+shift+space"     (default)
  #   - "ctrl+alt+r"
  #   - "win+shift+v"
  #   - "ctrl+shift+f12"
  recording_hotkey: ctrl+win
  
  # Stop recording with just the first modifier key
  # If enabled, stops recording with first modifier of the main hotkey
  # (e.g., if combination is 'ctrl+win', pressing 'ctrl' will stop)
  # (e.g., if combination is 'ctrl+shift+t', pressing 'ctrl' will stop)
  stop_with_modifier_enabled: true

  # Auto-ENTER functionality
  # If enabled, allows alternative stop key that sends ENTER key press
  # Only works when auto-paste is also enabled
  auto_enter_enabled: true

  # Key combination for auto-ENTER function
  auto_enter_combination: alt
  
  # Key combination to cancel recording
  # Format: modifier+modifier+key (use lowercase) or single key
  # Examples: "esc", "ctrl+c", "shift+esc" 
  cancel_combination: esc

vad: # Voice Activity Detection (VAD)

  # Voice Activity Detection (VAD) Pre-check
  # Uses TEN VAD to detect speech before transcription (prevents hallucinations on silence)
  # NOTE: This is separate from faster-whisper's built-in VAD
  vad_precheck_enabled: true

  # TEN VAD Hysteresis Thresholds (prevent flickering on borderline audio)
  vad_onset_threshold: 0.7    # Probability to START detecting speech (0.0-1.0)
  vad_offset_threshold: 0.55  # Probability to STOP detecting speech (0.0-1.0)

  # Minimum Duration Filtering
  vad_min_speech_duration: 0.1  # Minimum speech segment length in seconds (filters brief noise)

  # Real-time VAD monitoring during recording
  vad_realtime_enabled: true  # Enables continuous silence detection and automatic recording stop
  vad_silence_timeout_seconds: 30.0  # Auto-stop recording after this many seconds of silence

audio: # Audio Recording Settings

  # Sample rate is fixed at 16000 Hz for optimal Whisper and TEN VAD performance

  # Audio host API selection
  # null = let Whisper Key choose the best option (WASAPI on Windows, first available elsewhere)
  # e.g., "WASAPI", "MME", "DirectSound", "Core Audio"
  host: null

  # Audio channels
  # 1 = mono (recommended for speech)
  # 2 = stereo
  channels: 1

  # Recording format
  # Options: "float32", "int16", "int24", "int32"
  # float32 recommended for best quality
  dtype: float32

  # Maximum recording duration (seconds)
  # Set to 0 for unlimited recording
  max_duration: 900

  # Audio input device selection
  # "default" = Use system default microphone (default behavior)
  # <device_id> = Specific device ID number (set automatically when changed via system tray)
  #
  # Note: Device IDs are assigned by the operating system and may change if devices
  # are plugged/unplugged. Use system tray to select device - it will save the ID here.
  input_device: "default"

clipboard: # Clipboard Behavior

  # Automatically paste after transcription
  # true = paste immediately to active window
  # false = only copy to clipboard (paste manually with Ctrl+V)
  auto_paste: true

  # Key combination to simulate paste
  # Format: modifier+key (use lowercase)
  # Examples:
  #   - "ctrl+v"         (standard paste)
  #   - "ctrl+shift+v"   (plain text paste in some apps)
  #   - "shift+insert"   (terminal paste)
  paste_hotkey: ctrl+v

  # Preserve existing clipboard content when pasting
  # true = save current clipboard, paste transcription, then restore original clipboard
  # false = replace clipboard with transcription (default behavior)
  preserve_clipboard: true

  # Delay for key simulation operations (seconds)
  # Small delay ensures operations complete reliably
  key_simulation_delay: 0.05

logging: # Logging Configuration

  # Log level - how much detail to log
  # Options: "DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"
  # - DEBUG: Very detailed (for troubleshooting)
  # - INFO: General information (recommended)
  # - WARNING: Only warnings and errors
  # - ERROR: Only errors
  level: INFO
  
  # Log file settings
  file:
    enabled: true
    filename: app.log
  
  # Console output
  console:
    enabled: true
    level: WARNING  # Console log level (DEBUG, INFO, WARNING, ERROR, CRITICAL) - WARNING shows important messages only


audio_feedback: # Audio Feedback Settings

  # Enable/disable audio feedback sounds
  # true = play sounds when recording starts/stops
  # false = silent operation
  enabled: true
  
  # Sound file paths (relative to project root or absolute paths)
  # Use .wav files for best Windows compatibility
  start_sound: assets/sounds/record_start.wav
  stop_sound: assets/sounds/record_stop.wav
  cancel_sound: assets/sounds/record_cancel.wav

system_tray: # System Tray Settings

  # Enable/disable system tray icon
  # true = show icon in system tray with status and menu
  # false = run without system tray (console mode only)
  enabled: true

  # Tooltip text when hovering over tray icon
  tooltip: Whisper Key

console: # Console Visibility Settings

  # Start with console hidden to system tray
  # Note: This setting is ignored in CLI mode
  start_hidden: false

[build-system]
requires = [
  "hatchling>=1.27.0,<1.28",
  "hatch-fancy-pypi-readme>=24.2,<26.0",
  "hatch-vcs>=0.4.0,<1.0",
]
build-backend = "hatchling.build"

[project]
name = "agentic-flows"
dynamic = ["version"]
description = "Governed execution and replay with auditable non-determinism"
readme = { file = "README.md", content-type = "text/markdown" }
license = { text = "Apache-2.0" }
requires-python = ">=3.11"
authors = [{ name = "Bijan Mousavi", email = "mousavi.bijan@gmail.com" }]
keywords = [
  "execution",
  "reproducibility",
  "replay",
  "audit",
  "non-determinism",
  "governance",
  "agents",
]
classifiers = [
  "Development Status :: 3 - Alpha",
  "Environment :: Console",
  "Intended Audience :: Science/Research",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: Apache Software License",
  "Operating System :: OS Independent",
  "Operating System :: MacOS",
  "Operating System :: POSIX",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3.14",
  "Programming Language :: Python :: Implementation :: CPython",
  "Topic :: Software Development :: Libraries",
  "Topic :: Utilities",
]
dependencies = [
  "bijux-cli>=0.1.0,<0.2.0",
  "bijux-agent>=0.1.0,<0.2.0",
  "bijux-rag>=0.1.0,<0.2.0",
  "bijux-rar>=0.1.0,<0.2.0",
  "bijux-vex>=0.1.0,<0.2.0",
  "duckdb>=1.1.3,<2.0.0",
  "pydantic>=2.0.2,<3.0.0",
]

[project.urls]
Documentation = "https://bijux.github.io/agentic-flows/"
Repository = "https://github.com/bijux/agentic-flows"
Issues = "https://github.com/bijux/agentic-flows/issues"
Changelog = "https://github.com/bijux/agentic-flows/blob/main/CHANGELOG.md"

[project.optional-dependencies]
api = [
  "fastapi>=0.128,<1.0",
  "uvicorn>=0.32,<1.0",
]
dev = [
  "types-PyYAML>=6.0.12,<7.0",
  "PyYAML>=6.0,<7.0",
  "types-orjson>=3.6.0,<4.0",
  "types-colorama>=0.0.14,<1.0",
  "types-psutil>=6.0.0,<7.0",
  "typing-extensions>=4.5.0,<5.0",
  "types-pexpect>=4.9.0,<5.0",
  "pytest>=8.4.1,<9.0",
  "pytest-cov>=6.2.1,<7.0",
  "pytest-asyncio>=1.0.0,<2.0",
  "pytest-timeout>=2.4.0,<3.0",
  "pytest-rerunfailures>=13.0,<14.0",
  "pytest-benchmark>=4.0.0,<5.0",
  "pytest-mock>=3.14.1,<4.0",
  "hypothesis>=6.103.0,<7.0",
  "hypothesis-jsonschema>=0.23.0,<1.0",
  "pexpect>=4.8.0,<5.0",
  "pyfakefs>=5.9.0",
  "httpx>=0.27.0,<1.0",
  "fastapi>=0.128,<1.0",
  "ruff>=0.6.8,<1.0",
  "mypy>=1.11.2,<2.0",
  "pytype>=2024.10.11",
  "codespell>=2.3.0,<3.0",
  "pyright>=1.1.320,<2.0",
  "pydocstyle>=6.2.1,<7.0",
  "radon>=6.0.0",
  "vulture>=2.7,<3.0",
  "deptry>=0.10.0,<1.0",
  "reuse>=4.0.0,<6.0.0",
  "build>=1.0.3,<2.0",
  "bandit>=1.7.10,<2.0",
  "pip-audit>=2.7.3,<3.0",
  "interrogate>=1.7.0,<2.0",
  "mkdocs>=1.6.1,<2.0",
  "mkdocs-material>=9.5.39,<10.0",
]

[project.scripts]
agentic-flows = "agentic_flows.cli.main:main"

[tool.hatch.build]
include = [
  "README.md",
  "CHANGELOG.md",
  "LICENSE",
  "REUSE.toml",
  "CITATION.cff",
  "src/agentic_flows/py.typed",
]

[tool.hatch.version]
source = "vcs"

[tool.hatch.build.targets.wheel]
packages = ["src/agentic_flows"]
zip-safe = false

[tool.hatch.build.targets.wheel.package-data]
"agentic_flows" = ["py.typed", "http_api/v1/schema.hash"]

[tool.hatch.build.targets.wheel.shared-data]
"api/v1/schema.hash" = "agentic_flows.schema.hash"

[tool.hatch.metadata.hooks.fancy-pypi-readme]
content-type = "text/markdown"
fragments = [
  { path = "README.md" },
  { path = "CHANGELOG.md" },
]

[tool.deptry]
ignore = ["DEP002", "DEP003"]

[tool.interrogate]
fail-under = 100
color = true

[tool.bandit]
skips = ["B404", "B311"]
exclude_dirs = [".venv", "tests", "artifacts", ".pytest_cache", ".ruff_cache"]

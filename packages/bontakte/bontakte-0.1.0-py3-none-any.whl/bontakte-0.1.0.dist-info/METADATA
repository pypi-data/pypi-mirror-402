Metadata-Version: 2.4
Name: bontakte
Version: 0.1.0
Summary: Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
Author-email: Triazov Kirill <info@triazov.ru>
License-Expression: MIT
Keywords: vk,vkontakte,bot,api,messaging
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests>=2.28.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: black>=22.0.0; extra == "dev"
Requires-Dist: flake8>=4.0.0; extra == "dev"
Dynamic: license-file

# ü§ñ Bontakte

<div align="center">

**Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ**

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![PyPI](https://img.shields.io/pypi/v/bontakte)](https://pypi.org/project/bontakte/)

[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è) ‚Ä¢ [–ü—Ä–∏–º–µ—Ä—ã](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è) ‚Ä¢ [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)

</div>

---

Bontakte ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ. –û–Ω–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π API, –ø–æ–ª–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –†–µ—à–µ–Ω–∏–µ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ—Å—Ç–æ—Ç—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üöÄ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** ‚Äî –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π API —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏
- ‚ö° **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- üîß **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- üì¶ **–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ VK API** ‚Äî –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- üéØ **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** ‚Äî —É–¥–æ–±–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- üîÑ **Long Poll** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install bontakte
```

–ò–ª–∏ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤:

```bash
git clone https://github.com/triazov/bontakte.git
cd bontakte
pip install -e .
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```python
from bontakte import Bot

bot = Bot(access_token="YOUR_ACCESS_TOKEN", group_id=YOUR_GROUP_ID)

@bot.message_handler()
async def handle_message(event):
    await bot.send_message(
        event.message.chat_id,
        f"–ü—Ä–∏–≤–µ—Ç, {event.user.full_name}! –í—ã –Ω–∞–ø–∏—Å–∞–ª–∏: {event.message.text}"
    )

bot.run()
```

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

```python
from bontakte import Bot

bot = Bot(access_token="YOUR_ACCESS_TOKEN", group_id=YOUR_GROUP_ID)

def is_command(event):
    return event.message.text.startswith("/")

@bot.message_handler(filters=is_command)
async def handle_command(event):
    command = event.message.text.split()[0]
    if command == "/start":
        await bot.send_message(event.message.chat_id, "–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!")
    elif command == "/help":
        await bot.send_message(event.message.chat_id, "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: /start, /help")

bot.run()
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

```python
from bontakte import Bot

bot = Bot(access_token="YOUR_ACCESS_TOKEN", group_id=YOUR_GROUP_ID)

@bot.event_handler("message_new")
async def on_message(event):
    print(f"–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: {event.data}")

@bot.event_handler("message_edit")
async def on_message_edit(event):
    print(f"–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ: {event.data}")

@bot.event_handler("message_reply")
async def on_message_reply(event):
    print(f"–û—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ: {event.data}")

bot.run()
```

### –†–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏

```python
from bontakte import Bot

bot = Bot(access_token="YOUR_ACCESS_TOKEN", group_id=YOUR_GROUP_ID)

@bot.message_handler()
async def handle_message(event):
    if event.message.attachments:
        for attachment in event.message.attachments:
            if attachment.type == "photo":
                await bot.send_message(
                    event.message.chat_id,
                    f"–ü–æ–ª—É—á–µ–Ω–æ —Ñ–æ—Ç–æ: {attachment.url}"
                )

bot.run()
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

```python
import asyncio
from bontakte import Bot

bot = Bot(access_token="YOUR_ACCESS_TOKEN", group_id=YOUR_GROUP_ID)

async def send_notifications():
    peer_ids = [123456789, 987654321]
    for peer_id in peer_ids:
        await bot.send_message(peer_id, "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞!")
        await asyncio.sleep(1)

@bot.message_handler()
async def handle_message(event):
    if event.message.text == "/notify":
        await send_notifications()

bot.run()
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã

#### `Bot`

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**
- `access_token` (str) ‚Äî —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ VK API
- `group_id` (int, optional) ‚Äî ID –≥—Ä—É–ø–ø—ã –¥–ª—è Long Poll
- `api_version` (str, default: "5.131") ‚Äî –≤–µ—Ä—Å–∏—è VK API

**–ú–µ—Ç–æ–¥—ã:**

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `message_handler(filters=None)` | –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π |
| `event_handler(event_type)` | –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π |
| `send_message(peer_id, text, **kwargs)` | –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è |
| `get_user(user_id)` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ |
| `run()` | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ (–±–ª–æ–∫–∏—Ä—É—é—â–∏–π –º–µ—Ç–æ–¥) |
| `start_polling()` | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥) |
| `stop()` | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞ |

#### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

- **`Message`** ‚Äî –æ–±—ä–µ–∫—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø–æ–ª—è–º–∏: `id`, `text`, `user_id`, `chat_id`, `date`, `attachments`, `reply_to`, `forward_messages`
- **`User`** ‚Äî –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–ª—è–º–∏: `id`, `first_name`, `last_name`, `username`, `photo`, `is_bot`, `full_name`
- **`Chat`** ‚Äî –æ–±—ä–µ–∫—Ç —á–∞—Ç–∞ —Å –ø–æ–ª—è–º–∏: `id`, `type`, `title`, `members_count`
- **`Attachment`** ‚Äî –æ–±—ä–µ–∫—Ç –≤–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–ª—è–º–∏: `type`, `url`, `title`, `description`, `data`
- **`Event`** ‚Äî –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å–æ–±—ã—Ç–∏—è
- **`MessageEvent`** ‚Äî —Å–æ–±—ã—Ç–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `Event`

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- requests >= 2.28.0

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

## üë§ –ê–≤—Ç–æ—Ä

**Triazov Kirill**

- üåê –°–∞–π—Ç: [triazov.ru](https://triazov.ru)
- üìß Email: info@triazov.ru

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å [CONTRIBUTING.md](CONTRIBUTING.md) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## üìÑ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ [CHANGELOG.md](CHANGELOG.md).

---

<div align="center">

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ**

[‚≠ê –ü–æ—Å—Ç–∞–≤–∏—Ç—å –∑–≤–µ–∑–¥—É](https://github.com/triazov/bontakte) ‚Ä¢ [üêõ –°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ](https://github.com/triazov/bontakte/issues) ‚Ä¢ [üí° –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é](https://github.com/triazov/bontakte/issues)

</div>

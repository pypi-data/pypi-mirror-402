# This file was auto-generated by Fern from our API Definition.

import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.success_response import SuccessResponse
from ..types.user_follower_list_response import UserFollowerListResponse
from ..types.user_following_list_response import UserFollowingListResponse
from ..types.user_list_response import UserListResponse
from ..types.user_response import UserResponse
from .raw_client import AsyncRawUsersClient, RawUsersClient
from .types.list_users_request_sort import ListUsersRequestSort
from .types.retrieve_follower_users_response import RetrieveFollowerUsersResponse
from .types.retrieve_following_users_response import RetrieveFollowingUsersResponse
from .types.update_users_response import UpdateUsersResponse

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class UsersClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawUsersClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawUsersClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawUsersClient
        """
        return self._raw_client

    def list(
        self,
        *,
        limit: typing.Optional[int] = None,
        cursor: typing.Optional[str] = None,
        search: typing.Optional[str] = None,
        sort: typing.Optional[ListUsersRequestSort] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UserListResponse:
        """
        Retrieve a paginated list of users. Use cursor for pagination.

        Parameters
        ----------
        limit : typing.Optional[int]
            Items per page (max 75)

        cursor : typing.Optional[str]
            Cursor for pagination

        search : typing.Optional[str]
            Search by username or display name

        sort : typing.Optional[ListUsersRequestSort]
            Sort by creation date

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserListResponse
            Success

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.list()
        """
        _response = self._raw_client.list(
            limit=limit, cursor=cursor, search=search, sort=sort, request_options=request_options
        )
        return _response.data

    def create(
        self,
        *,
        username: str,
        email: typing.Optional[str] = OMIT,
        password: typing.Optional[str] = OMIT,
        display_name: typing.Optional[str] = OMIT,
        bio: typing.Optional[str] = OMIT,
        signature: typing.Optional[str] = OMIT,
        url: typing.Optional[str] = OMIT,
        roles: typing.Optional[typing.Sequence[str]] = OMIT,
        extended_data: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UserResponse:
        """
        Create a new user.

        Parameters
        ----------
        username : str
            Username (letters, numbers, underscores, hyphens)

        email : typing.Optional[str]
            Email address

        password : typing.Optional[str]
            Password (min 8 chars)

        display_name : typing.Optional[str]
            Display name

        bio : typing.Optional[str]
            User bio

        signature : typing.Optional[str]
            Forum signature

        url : typing.Optional[str]
            Website URL

        roles : typing.Optional[typing.Sequence[str]]
            Role slugs to assign

        extended_data : typing.Optional[typing.Dict[str, typing.Any]]
            Custom extended data

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserResponse
            Created

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.create(
            username="username",
        )
        """
        _response = self._raw_client.create(
            username=username,
            email=email,
            password=password,
            display_name=display_name,
            bio=bio,
            signature=signature,
            url=url,
            roles=roles,
            extended_data=extended_data,
            request_options=request_options,
        )
        return _response.data

    def retrieve(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> UserResponse:
        """
        Retrieve a user by ID or slug (if supported).

        Parameters
        ----------
        id : str
            User ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserResponse
            Success

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.retrieve(
            id="id",
        )
        """
        _response = self._raw_client.retrieve(id, request_options=request_options)
        return _response.data

    def delete(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> SuccessResponse:
        """
        Permanently delete a user.

        Parameters
        ----------
        id : str
            User ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SuccessResponse
            Deleted

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.delete(
            id="id",
        )
        """
        _response = self._raw_client.delete(id, request_options=request_options)
        return _response.data

    def update(
        self,
        id: str,
        *,
        display_name: typing.Optional[str] = OMIT,
        bio: typing.Optional[str] = OMIT,
        signature: typing.Optional[str] = OMIT,
        username: typing.Optional[str] = OMIT,
        email: typing.Optional[str] = OMIT,
        password: typing.Optional[str] = OMIT,
        url: typing.Optional[str] = OMIT,
        extended_data: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        roles: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UpdateUsersResponse:
        """
        Update an existing user. Only provided fields will be modified.

        Parameters
        ----------
        id : str
            User ID

        display_name : typing.Optional[str]
            Display name

        bio : typing.Optional[str]
            User bio

        signature : typing.Optional[str]
            Forum signature

        username : typing.Optional[str]
            Username (letters, numbers, underscores, hyphens)

        email : typing.Optional[str]
            Email address

        password : typing.Optional[str]
            New password

        url : typing.Optional[str]
            Website URL

        extended_data : typing.Optional[typing.Dict[str, typing.Any]]
            Extended data

        roles : typing.Optional[typing.Sequence[str]]
            Role slugs (admin only)

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpdateUsersResponse
            Updated

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.update(
            id="id",
        )
        """
        _response = self._raw_client.update(
            id,
            display_name=display_name,
            bio=bio,
            signature=signature,
            username=username,
            email=email,
            password=password,
            url=url,
            extended_data=extended_data,
            roles=roles,
            request_options=request_options,
        )
        return _response.data

    def list_followers(
        self,
        id: str,
        *,
        limit: typing.Optional[int] = None,
        cursor: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UserFollowerListResponse:
        """
        Retrieve a paginated list of followers for User.

        Parameters
        ----------
        id : str
            User ID

        limit : typing.Optional[int]
            Items per page (max 75)

        cursor : typing.Optional[str]
            Cursor for pagination

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserFollowerListResponse
            Success

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.list_followers(
            id="id",
        )
        """
        _response = self._raw_client.list_followers(id, limit=limit, cursor=cursor, request_options=request_options)
        return _response.data

    def retrieve_follower(
        self, id: str, sub_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> RetrieveFollowerUsersResponse:
        """
        Parameters
        ----------
        id : str
            User ID

        sub_id : str
            Follower ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RetrieveFollowerUsersResponse
            Success

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.retrieve_follower(
            id="id",
            sub_id="subId",
        )
        """
        _response = self._raw_client.retrieve_follower(id, sub_id, request_options=request_options)
        return _response.data

    def delete_follower(
        self, id: str, sub_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> SuccessResponse:
        """
        Parameters
        ----------
        id : str
            User ID

        sub_id : str
            Follower ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SuccessResponse
            Deleted

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.delete_follower(
            id="id",
            sub_id="subId",
        )
        """
        _response = self._raw_client.delete_follower(id, sub_id, request_options=request_options)
        return _response.data

    def list_following(
        self,
        id: str,
        *,
        limit: typing.Optional[int] = None,
        cursor: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UserFollowingListResponse:
        """
        Retrieve a paginated list of following for User.

        Parameters
        ----------
        id : str
            User ID

        limit : typing.Optional[int]
            Items per page (max 75)

        cursor : typing.Optional[str]
            Cursor for pagination

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserFollowingListResponse
            Success

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.list_following(
            id="id",
        )
        """
        _response = self._raw_client.list_following(id, limit=limit, cursor=cursor, request_options=request_options)
        return _response.data

    def retrieve_following(
        self, id: str, sub_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> RetrieveFollowingUsersResponse:
        """
        Parameters
        ----------
        id : str
            User ID

        sub_id : str
            Following ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RetrieveFollowingUsersResponse
            Success

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.retrieve_following(
            id="id",
            sub_id="subId",
        )
        """
        _response = self._raw_client.retrieve_following(id, sub_id, request_options=request_options)
        return _response.data

    def delete_following(
        self, id: str, sub_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> SuccessResponse:
        """
        Parameters
        ----------
        id : str
            User ID

        sub_id : str
            Following ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SuccessResponse
            Deleted

        Examples
        --------
        from foru_ms_sdk import ForumClient

        client = ForumClient(
            api_key="YOUR_API_KEY",
        )
        client.users.delete_following(
            id="id",
            sub_id="subId",
        )
        """
        _response = self._raw_client.delete_following(id, sub_id, request_options=request_options)
        return _response.data


class AsyncUsersClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawUsersClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawUsersClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawUsersClient
        """
        return self._raw_client

    async def list(
        self,
        *,
        limit: typing.Optional[int] = None,
        cursor: typing.Optional[str] = None,
        search: typing.Optional[str] = None,
        sort: typing.Optional[ListUsersRequestSort] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UserListResponse:
        """
        Retrieve a paginated list of users. Use cursor for pagination.

        Parameters
        ----------
        limit : typing.Optional[int]
            Items per page (max 75)

        cursor : typing.Optional[str]
            Cursor for pagination

        search : typing.Optional[str]
            Search by username or display name

        sort : typing.Optional[ListUsersRequestSort]
            Sort by creation date

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserListResponse
            Success

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.list()


        asyncio.run(main())
        """
        _response = await self._raw_client.list(
            limit=limit, cursor=cursor, search=search, sort=sort, request_options=request_options
        )
        return _response.data

    async def create(
        self,
        *,
        username: str,
        email: typing.Optional[str] = OMIT,
        password: typing.Optional[str] = OMIT,
        display_name: typing.Optional[str] = OMIT,
        bio: typing.Optional[str] = OMIT,
        signature: typing.Optional[str] = OMIT,
        url: typing.Optional[str] = OMIT,
        roles: typing.Optional[typing.Sequence[str]] = OMIT,
        extended_data: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UserResponse:
        """
        Create a new user.

        Parameters
        ----------
        username : str
            Username (letters, numbers, underscores, hyphens)

        email : typing.Optional[str]
            Email address

        password : typing.Optional[str]
            Password (min 8 chars)

        display_name : typing.Optional[str]
            Display name

        bio : typing.Optional[str]
            User bio

        signature : typing.Optional[str]
            Forum signature

        url : typing.Optional[str]
            Website URL

        roles : typing.Optional[typing.Sequence[str]]
            Role slugs to assign

        extended_data : typing.Optional[typing.Dict[str, typing.Any]]
            Custom extended data

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserResponse
            Created

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.create(
                username="username",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.create(
            username=username,
            email=email,
            password=password,
            display_name=display_name,
            bio=bio,
            signature=signature,
            url=url,
            roles=roles,
            extended_data=extended_data,
            request_options=request_options,
        )
        return _response.data

    async def retrieve(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> UserResponse:
        """
        Retrieve a user by ID or slug (if supported).

        Parameters
        ----------
        id : str
            User ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserResponse
            Success

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.retrieve(
                id="id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.retrieve(id, request_options=request_options)
        return _response.data

    async def delete(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> SuccessResponse:
        """
        Permanently delete a user.

        Parameters
        ----------
        id : str
            User ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SuccessResponse
            Deleted

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.delete(
                id="id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete(id, request_options=request_options)
        return _response.data

    async def update(
        self,
        id: str,
        *,
        display_name: typing.Optional[str] = OMIT,
        bio: typing.Optional[str] = OMIT,
        signature: typing.Optional[str] = OMIT,
        username: typing.Optional[str] = OMIT,
        email: typing.Optional[str] = OMIT,
        password: typing.Optional[str] = OMIT,
        url: typing.Optional[str] = OMIT,
        extended_data: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        roles: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UpdateUsersResponse:
        """
        Update an existing user. Only provided fields will be modified.

        Parameters
        ----------
        id : str
            User ID

        display_name : typing.Optional[str]
            Display name

        bio : typing.Optional[str]
            User bio

        signature : typing.Optional[str]
            Forum signature

        username : typing.Optional[str]
            Username (letters, numbers, underscores, hyphens)

        email : typing.Optional[str]
            Email address

        password : typing.Optional[str]
            New password

        url : typing.Optional[str]
            Website URL

        extended_data : typing.Optional[typing.Dict[str, typing.Any]]
            Extended data

        roles : typing.Optional[typing.Sequence[str]]
            Role slugs (admin only)

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpdateUsersResponse
            Updated

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.update(
                id="id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update(
            id,
            display_name=display_name,
            bio=bio,
            signature=signature,
            username=username,
            email=email,
            password=password,
            url=url,
            extended_data=extended_data,
            roles=roles,
            request_options=request_options,
        )
        return _response.data

    async def list_followers(
        self,
        id: str,
        *,
        limit: typing.Optional[int] = None,
        cursor: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UserFollowerListResponse:
        """
        Retrieve a paginated list of followers for User.

        Parameters
        ----------
        id : str
            User ID

        limit : typing.Optional[int]
            Items per page (max 75)

        cursor : typing.Optional[str]
            Cursor for pagination

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserFollowerListResponse
            Success

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.list_followers(
                id="id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_followers(
            id, limit=limit, cursor=cursor, request_options=request_options
        )
        return _response.data

    async def retrieve_follower(
        self, id: str, sub_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> RetrieveFollowerUsersResponse:
        """
        Parameters
        ----------
        id : str
            User ID

        sub_id : str
            Follower ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RetrieveFollowerUsersResponse
            Success

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.retrieve_follower(
                id="id",
                sub_id="subId",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.retrieve_follower(id, sub_id, request_options=request_options)
        return _response.data

    async def delete_follower(
        self, id: str, sub_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> SuccessResponse:
        """
        Parameters
        ----------
        id : str
            User ID

        sub_id : str
            Follower ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SuccessResponse
            Deleted

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.delete_follower(
                id="id",
                sub_id="subId",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete_follower(id, sub_id, request_options=request_options)
        return _response.data

    async def list_following(
        self,
        id: str,
        *,
        limit: typing.Optional[int] = None,
        cursor: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UserFollowingListResponse:
        """
        Retrieve a paginated list of following for User.

        Parameters
        ----------
        id : str
            User ID

        limit : typing.Optional[int]
            Items per page (max 75)

        cursor : typing.Optional[str]
            Cursor for pagination

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UserFollowingListResponse
            Success

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.list_following(
                id="id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_following(
            id, limit=limit, cursor=cursor, request_options=request_options
        )
        return _response.data

    async def retrieve_following(
        self, id: str, sub_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> RetrieveFollowingUsersResponse:
        """
        Parameters
        ----------
        id : str
            User ID

        sub_id : str
            Following ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RetrieveFollowingUsersResponse
            Success

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.retrieve_following(
                id="id",
                sub_id="subId",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.retrieve_following(id, sub_id, request_options=request_options)
        return _response.data

    async def delete_following(
        self, id: str, sub_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> SuccessResponse:
        """
        Parameters
        ----------
        id : str
            User ID

        sub_id : str
            Following ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SuccessResponse
            Deleted

        Examples
        --------
        import asyncio

        from foru_ms_sdk import AsyncForumClient

        client = AsyncForumClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.users.delete_following(
                id="id",
                sub_id="subId",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete_following(id, sub_id, request_options=request_options)
        return _response.data

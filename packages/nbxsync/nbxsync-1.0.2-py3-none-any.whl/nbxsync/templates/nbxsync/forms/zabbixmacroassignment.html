{% extends 'generic/object_edit.html' %}
{% load form_helpers %}
{% load static %}
{% load i18n %}
{% block head %}
    <link rel="stylesheet" href="{% static 'nbxsync/css/password_field.css' %}">
{% endblock %}
{% block form %}
    <div class="field-group my-5">
        <div class="row">
            <h2 class="col-9 offset-3">Generic</h2>
        </div>
        {% render_field form.zabbixmacro %}
        {% render_field form.is_regex %}
        {% render_field form.context %}
        <div class="field-group" id="value-wrapper">
            <div class="relative-container">
                {% render_field form.value %}
                {% if object.zabbixmacro.type == '1' %}
                    <button type="button" id="toggle-psk" class="toggle-password-btn">
                        <i class="mdi mdi-eye" id="toggle-icon"></i>
                    </button>
                {% endif %}
            </div>
        </div>
        {% for fieldset in form.fieldsets %}
            {% if fieldset.name == "Assignment" %}
                {% render_fieldset form fieldset %}
            {% endif %}
        {% endfor %}
    </div>
{% endblock %}
{% block javascript %}
    <script src="{% static 'nbxsync/js/zabbixmacroassignment-form.js' %}" defer></script>
{% endblock %}

# Code generated by cnb.cool/cnb/sdk/cnb-sdk-generator. DO NOT EDIT.
# versions:
#    cnb-sdk-generator: 1.0.2
# source: https://api.cnb-dev.woa.com/swagger.json

from typing import Optional
from .models import dto
class AssetsService:    
	def __init__(self, client):
		self._client = client

	# 通过 asset 记录 id 删除一个 asset
	def delete_asset(self,
		repo: str,
		assetID: str,
	    ):
		u = "/%s/-/assets/%s" % (repo, assetID, )

		data = self._client.request(
			method="DELETE", 
			endpoint=u,
			)
		return 
		
	# 仓库的 asset 记录列表
	def list_assets(self,
		slug: str,
	    page: Optional[int] = None,
		page_size: Optional[int] = None,
		) -> list[dto.AssetRecords]:
		u = "/%s/-/list-assets" % (slug, )

		query_params = {
			"page": page,
			"page_size": page_size,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return [dto.AssetRecords.safe_parse(item) for item in data]
		
	
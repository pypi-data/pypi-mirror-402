# Code generated by cnb.cool/cnb/sdk/cnb-sdk-generator. DO NOT EDIT.
# versions:
#    cnb-sdk-generator: 1.0.2
# source: https://api.cnb-dev.woa.com/swagger.json

from typing import Optional
from .models import dto
class ActivitiesService:    
	def __init__(self, client):
		self._client = client

	# 获取个人动态活跃详情汇总。Get user activities by date.
	def get_user_activities_by_date(self,
		username: str,
	    date: Optional[str] = None,
		) -> dto.ActivityDate:
		u = "/users/%s/activities" % (username, )

		query_params = {
			"date": date,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return dto.ActivityDate.safe_parse(data)
		
	# 个人仓库动态详情列表。List of personal repository activity details.
	def get_user_repo_activity_details(self,
		username: str,
		activityType: str,
	    slug: Optional[str] = None,
		date: Optional[str] = None,
		) -> list[any]:
		u = "/users/%s/repo-activities/%s" % (username, activityType, )

		query_params = {
			"slug": slug,
			"date": date,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return data
		
	# 获取仓库 top 活跃用户。List the top active users
	def top_contributors(self,
		repo: str,
	    top: Optional[int] = None,
		) -> list[dto.UsersResult]:
		u = "/%s/-/top-activity-users" % (repo, )

		query_params = {
			"top": top,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return [dto.UsersResult.safe_parse(item) for item in data]
		
	
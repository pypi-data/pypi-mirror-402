# Code generated by cnb.cool/cnb/sdk/cnb-sdk-generator. DO NOT EDIT.
# versions:
#    cnb-sdk-generator: 1.0.2
# source: https://api.cnb-dev.woa.com/swagger.json

from typing import Optional
from .models import dto
class MembersService:    
	def __init__(self, client):
		self._client = client

	# 添加成员。Add members.
	def add_members_of_group(self,
		group: str,
		username: str,
	    body_params: dto.UpdateMembersRequest,
		):
		u = "/%s/-/members/%s" % (group, username, )

		data = self._client.request(
			method="POST", 
			endpoint=u,
			json=body_params.to_dict(),
			)
		return 
		
	# 添加成员。Add members.
	def add_members_of_mission(self,
		mission: str,
		username: str,
	    body_params: dto.UpdateMembersRequest,
		):
		u = "/%s/-/members/%s" % (mission, username, )

		data = self._client.request(
			method="POST", 
			endpoint=u,
			json=body_params.to_dict(),
			)
		return 
		
	# 添加成员。Add members.
	def add_members_of_registry(self,
		registry: str,
		username: str,
	    body_params: dto.UpdateMembersRequest,
		):
		u = "/%s/-/members/%s" % (registry, username, )

		data = self._client.request(
			method="POST", 
			endpoint=u,
			json=body_params.to_dict(),
			)
		return 
		
	# 添加成员。Add members.
	def add_members_of_repo(self,
		repo: str,
		username: str,
	    body_params: dto.UpdateMembersRequest,
		):
		u = "/%s/-/members/%s" % (repo, username, )

		data = self._client.request(
			method="POST", 
			endpoint=u,
			json=body_params.to_dict(),
			)
		return 
		
	# 删除指定组织的直接成员。Remove direct members from specified organization.
	def delete_members_of_group(self,
		group: str,
		username: str,
	    ):
		u = "/%s/-/members/%s" % (group, username, )

		data = self._client.request(
			method="DELETE", 
			endpoint=u,
			)
		return 
		
	# 删除指定仓库的直接成员。Remove direct members from specified repository.
	def delete_members_of_repo(self,
		repo: str,
		username: str,
	    ):
		u = "/%s/-/members/%s" % (repo, username, )

		data = self._client.request(
			method="DELETE", 
			endpoint=u,
			)
		return 
		
	# 删除指定仓库的外部贡献者。Removes external contributors from specified repository.
	def delete_outside_collaborators(self,
		slug: str,
		username: str,
	    ):
		u = "/%s/-/outside-collaborators/%s" % (slug, username, )

		data = self._client.request(
			method="DELETE", 
			endpoint=u,
			)
		return 
		
	# 获取指定组织内, 访问成员在当前层级内的权限信息。Get permission information for accessing members at current level.
	def get_member_access_level_of_group(self,
		group: str,
	    include_inherit: Optional[bool] = None,
		) -> dto.MemberAccessLevelInSlugUnion:
		u = "/%s/-/members/access-level" % (group, )

		query_params = {
			"include_inherit": include_inherit,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return dto.MemberAccessLevelInSlugUnion.safe_parse(data)
		
	# 获取指定仓库内, 访问成员在当前层级内的权限信息。Get permission information for accessing members at current level.
	def get_member_access_level_of_repo(self,
		repo: str,
	    include_inherit: Optional[bool] = None,
		) -> dto.MemberAccessLevelInSlugUnion:
		u = "/%s/-/members/access-level" % (repo, )

		query_params = {
			"include_inherit": include_inherit,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return dto.MemberAccessLevelInSlugUnion.safe_parse(data)
		
	# 获取指定仓库内的有效成员列表，包含继承成员。List active members in specified repository including inherited members.
	def list_all_members(self,
		slug: str,
	    page: Optional[int] = None,
		page_size: Optional[int] = None,
		role: Optional[str] = None,
		search: Optional[str] = None,
		names: Optional[str] = None,
		order_by: Optional[str] = None,
		desc: Optional[bool] = None,
		) -> list[dto.UsersWithAccessLevelInSlug]:
		u = "/%s/-/list-members" % (slug, )

		query_params = {
			"page": page,
			"page_size": page_size,
			"role": role,
			"search": search,
			"names": names,
			"order_by": order_by,
			"desc": desc,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return [dto.UsersWithAccessLevelInSlug.safe_parse(item) for item in data]
		
	# 获取指定组织的继承成员。List inherited members within specified organization
	def list_inherit_members_of_group(self,
		group: str,
	    search: Optional[str] = None,
		role: Optional[str] = None,
		page: Optional[int] = None,
		page_size: Optional[int] = None,
		) -> list[dto.ListInheritMembers]:
		u = "/%s/-/inherit-members" % (group, )

		query_params = {
			"search": search,
			"role": role,
			"page": page,
			"page_size": page_size,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return [dto.ListInheritMembers.safe_parse(item) for item in data]
		
	# 获取指定仓库内的继承成员。List inherited members within specified repository。
	def list_inherit_members_of_repo(self,
		repo: str,
	    search: Optional[str] = None,
		role: Optional[str] = None,
		page: Optional[int] = None,
		page_size: Optional[int] = None,
		) -> list[dto.ListInheritMembers]:
		u = "/%s/-/inherit-members" % (repo, )

		query_params = {
			"search": search,
			"role": role,
			"page": page,
			"page_size": page_size,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return [dto.ListInheritMembers.safe_parse(item) for item in data]
		
	# 获取指定组织内指定成员的权限信息, 结果按组织层级来展示, 包含上层组织的权限继承信息。Get specified member's permissions with organizational hierarchy.
	def list_member_access_level_of_group(self,
		group: str,
		username: str,
	    ) -> list[dto.MemberAccessLevel]:
		u = "/%s/-/members/%s/access-level" % (group, username, )

		data = self._client.request(
			method="GET", 
			endpoint=u,
			)
		return [dto.MemberAccessLevel.safe_parse(item) for item in data]
		
	# 获取指定仓库内指定成员的权限信息, 结果按组织层级来展示, 包含上层组织的权限继承信息。Get specified member's permissions with organizational hierarchy.
	def list_member_access_level_of_repo(self,
		repo: str,
		username: str,
	    ) -> list[dto.MemberAccessLevel]:
		u = "/%s/-/members/%s/access-level" % (repo, username, )

		data = self._client.request(
			method="GET", 
			endpoint=u,
			)
		return [dto.MemberAccessLevel.safe_parse(item) for item in data]
		
	# 获取指定组织内的所有直接成员。List all direct members within specified organization.
	def list_members_of_group(self,
		group: str,
	    page: Optional[int] = None,
		page_size: Optional[int] = None,
		role: Optional[str] = None,
		search: Optional[str] = None,
		) -> list[dto.UsersWithAccessLevelInSlug]:
		u = "/%s/-/members" % (group, )

		query_params = {
			"page": page,
			"page_size": page_size,
			"role": role,
			"search": search,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return [dto.UsersWithAccessLevelInSlug.safe_parse(item) for item in data]
		
	# 获取指定仓库内的所有直接成员。List all direct members within specified repository.
	def list_members_of_repo(self,
		repo: str,
	    page: Optional[int] = None,
		page_size: Optional[int] = None,
		role: Optional[str] = None,
		search: Optional[str] = None,
		) -> list[dto.UsersWithAccessLevelInSlug]:
		u = "/%s/-/members" % (repo, )

		query_params = {
			"page": page,
			"page_size": page_size,
			"role": role,
			"search": search,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return [dto.UsersWithAccessLevelInSlug.safe_parse(item) for item in data]
		
	# 获取指定仓库内的外部贡献者。List external contributors in specified repository.
	def list_outside_collaborators(self,
		slug: str,
	    page: Optional[int] = None,
		page_size: Optional[int] = None,
		role: Optional[str] = None,
		search: Optional[str] = None,
		) -> list[dto.OutsideCollaboratorInRepo]:
		u = "/%s/-/outside-collaborators" % (slug, )

		query_params = {
			"page": page,
			"page_size": page_size,
			"role": role,
			"search": search,
			}
		data = self._client.request(
			method="GET", 
			endpoint=u,
			params=query_params,
			)
		return [dto.OutsideCollaboratorInRepo.safe_parse(item) for item in data]
		
	# 更新指定组织的直接成员权限信息。Update permission information for direct members in specified organization.
	def update_members_of_group(self,
		group: str,
		username: str,
	    body_params: dto.UpdateMembersRequest,
		):
		u = "/%s/-/members/%s" % (group, username, )

		data = self._client.request(
			method="PUT", 
			endpoint=u,
			json=body_params.to_dict(),
			)
		return 
		
	# 更新指定仓库内的直接成员权限信息。Update permission information for direct members in specified repository.
	def update_members_of_repo(self,
		repo: str,
		username: str,
	    body_params: dto.UpdateMembersRequest,
		):
		u = "/%s/-/members/%s" % (repo, username, )

		data = self._client.request(
			method="PUT", 
			endpoint=u,
			json=body_params.to_dict(),
			)
		return 
		
	# 更新指定仓库的外部贡献者权限信息。 Update permission information for external contributors in specified repository.
	def update_outside_collaborators(self,
		slug: str,
		username: str,
	    role: Optional[str] = None,
		):
		u = "/%s/-/outside-collaborators/%s" % (slug, username, )

		query_params = {
			"role": role,
			}
		data = self._client.request(
			method="PUT", 
			endpoint=u,
			params=query_params,
			)
		return 
		
	
name: source_distribution_build
description: Build a source distribution

runs:
  using: "composite"
  steps:
    - name: Setup python environment
      uses: ./.github/actions/setup_python_environment
      with:
        python-version: "3.13"
        env_type: venv

    - name: Install build tool
      shell: bash
      run: pip install build

    - name: Build source distribution
      shell: bash
      run: python -m build . --sdist --outdir sdist

    - name: Upload sdist artifact
      uses: actions/upload-artifact@v6
      with:
        name: sdist
        path: sdist/*.tar.gz

################################################################################
# Azure OpenAI Backend Configuration
################################################################################
#
# This file defines the model specifications for Azure OpenAI models.
# It contains model definitions for OpenAI models deployed on Azure
# accessible through the Azure OpenAI API.
#
# Configuration structure:
# - Each model is defined in its own section with the model name as the header
# - Headers with dots must be quoted (e.g., ["gpt-4.1"])
# - Model costs are in USD per million tokens (input/output)
#
# Documentation: https://docs.pipelex.com
# Support: https://go.pipelex.com/discord
#
################################################################################

################################################################################
# MODEL DEFAULTS
################################################################################

[defaults]
model_type = "llm"
sdk = "azure_openai_responses"
prompting_target = "openai"
structure_method = "instructor/openai_responses_tools"

################################################################################
# LANGUAGE MODELS
################################################################################

# --- GPT-4o Series ------------------------------------------------------------
[gpt-4o]
model_id = "gpt-4o-2024-11-20"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 2.5, output = 10.0 }

[gpt-4o-mini]
model_id = "gpt-4o-mini-2024-07-18"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 0.15, output = 0.6 }

# --- GPT-4.1 Series -----------------------------------------------------------
["gpt-4.1"]
model_id = "gpt-4.1-2025-04-14"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 2, output = 8 }

["gpt-4.1-mini"]
model_id = "gpt-4.1-mini-2025-04-14"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 0.4, output = 1.6 }

["gpt-4.1-nano"]
model_id = "gpt-4.1-nano-2025-04-14"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 0.1, output = 0.4 }

# --- o Series ----------------------------------------------------------------
[o1-mini]
model_id = "o1-mini-2024-09-12"
inputs = ["text"]
outputs = ["text", "structured"]
costs = { input = 3.0, output = 12.0 }
valued_constraints = { fixed_temperature = 1 }

[o1]
model_id = "o1-2024-12-17"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 15.0, output = 60.0 }
valued_constraints = { fixed_temperature = 1 }

[o3-mini]
model_id = "o3-mini-2025-01-31"
inputs = ["text"]
outputs = ["text", "structured"]
costs = { input = 1.1, output = 4.4 }
valued_constraints = { fixed_temperature = 1 }

[o3]
model_id = "o3-2025-04-16"
inputs = ["text"]
outputs = ["text", "structured"]
costs = { input = 2, output = 8 }
valued_constraints = { fixed_temperature = 1 }

# --- GPT-5 Series -------------------------------------------------------------
[gpt-5-mini]
model_id = "gpt-5-mini-2025-08-07"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 0.25, output = 2.0 }
valued_constraints = { fixed_temperature = 1 }

[gpt-5-nano]
model_id = "gpt-5-nano-2025-08-07"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 0.05, output = 0.4 }
valued_constraints = { fixed_temperature = 1 }

[gpt-5-chat]
model_id = "gpt-5-chat-2025-08-07"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 1.25, output = 10.0 }
valued_constraints = { fixed_temperature = 1 }

[gpt-5]
model_id = "gpt-5-2025-08-07"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 1.25, output = 10.0 }
valued_constraints = { fixed_temperature = 1 }

# --- GPT-5.1 Series -------------------------------------------------------------
["gpt-5.1"]
model_id = "gpt-5.1-2025-11-13"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 1.25, output = 10.0 }
valued_constraints = { fixed_temperature = 1 }

["gpt-5.1-chat"]
model_id = "gpt-5.1-chat-2025-11-13"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 1.25, output = 10.0 }
valued_constraints = { fixed_temperature = 1 }

["gpt-5.1-codex"]
model_id = "gpt-5.1-codex-2025-11-13"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 1.25, output = 10.0 }
valued_constraints = { fixed_temperature = 1 }

# --- GPT-5.2 Series -------------------------------------------------------------
["gpt-5.2"]
model_id = "gpt-5.2-2025-12-11"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 1.75, output = 14.0 }

["gpt-5.2-chat"]
model_id = "gpt-5.2-chat-2025-12-11"
inputs = ["text", "images"]
outputs = ["text", "structured"]
costs = { input = 1.25, output = 10.0 }
valued_constraints = { fixed_temperature = 1 }

################################################################################
# IMAGE GENERATION MODELS
################################################################################

# --- OpenAI Image Generation --------------------------------------------------
[gpt-image-1]
sdk = "azure_rest_img_gen"
model_type = "img_gen"
model_id = "gpt-image-1-2025-04-15"
inputs = ["text"]
outputs = ["image"]
costs = { input = 10, output = 40 }

[gpt-image-1.rules]
prompt = "positive_only"
num_images = "gpt"
aspect_ratio = "gpt"
background = "gpt"
inference = "gpt"
safety_checker = "unavailable"
output_format = "gpt"

[gpt-image-1-mini]
sdk = "azure_rest_img_gen"
model_type = "img_gen"
model_id = "gpt-image-1-mini-2025-10-06"
inputs = ["text"]
outputs = ["image"]
costs = { input = 2.5, output = 8 }

[gpt-image-1-mini.rules]
prompt = "positive_only"
num_images = "gpt"
aspect_ratio = "gpt"
background = "gpt"
inference = "gpt"
safety_checker = "unavailable"
output_format = "gpt"

["gpt-image-1.5"]
sdk = "azure_rest_img_gen"
model_type = "img_gen"
model_id = "gpt-image-1.5-2025-12-16"
inputs = ["text"]
outputs = ["image"]
costs = { input = 8, output = 32 }

["gpt-image-1.5".rules]
prompt = "positive_only"
num_images = "gpt"
aspect_ratio = "gpt"
background = "gpt"
inference = "gpt"
safety_checker = "unavailable"
output_format = "gpt"

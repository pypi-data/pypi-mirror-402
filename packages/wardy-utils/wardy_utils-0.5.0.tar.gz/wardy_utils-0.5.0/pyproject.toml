[project]
authors = [{ name = "Wardy", email = "wardy3+gitlab@gmail.com" }]
description = "General Utilities"
license = "MIT"
name = "wardy-utils"
readme = { file = "README.md", content-type = "text/markdown" }
requires-python = ">=3.14"
version = "0.5.0"

classifiers = [
    "Development Status :: 4 - Beta",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.14",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Typing :: Typed",
]

dependencies = ["pydantic-settings>=2.12.0"]

[project.optional-dependencies]
log = ["loguru>=0.7.3"]
web = ["hishel[httpx]>=1.1.8", "httpx[brotli,http2,zstd]>=0.28.1"]

[dependency-groups]
dev = ["common-tools[dev]>=0.1.0"]
test = [
    "common-tools[test]>=0.3.0",
    "logfire>=4.19.0",
]

[tool.uv.sources]
common-tools = { path = "../common-tools" }

[build-system]
build-backend = "uv_build"
requires = ["uv_build>=0.9.7,<0.10.0"]

[tool.pytest.ini_options]
addopts = "-v --capture=tee-sys --durations=3 -p no:pastebin -p no:nose -p no:doctest"
asyncio_default_fixture_loop_scope = "function"
log_level = "DEBUG"
pythonpath = [".", "src", "tests"]
xfail_strict = true

[tool.coverage.report]
exclude_lines = ["@.*overload", "pragma: no cover", 'class \w+\((typing.|tp.)?Protocol\)']

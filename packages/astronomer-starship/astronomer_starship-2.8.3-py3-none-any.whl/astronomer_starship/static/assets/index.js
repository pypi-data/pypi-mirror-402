const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SetupPage.js","./chakra.js","./react-core.js","./icons.js","./router.js","./http.js","./VariablesPage.js","./MigrateButton.js","./PageLoading.js","./table.js","./ProgressSummary.js","./ConnectionsPage.js","./HiddenValue.js","./PoolsPage.js","./EnvVarsPage.js","./index.esm.js","./DAGHistoryPage.js","./TelescopePage.js"])))=>i.map(i=>d[i]);
import{P as p,j as n,T as Z,B as g,F as W,H as Y,I as K,a as X,b as J,c as Q,D as ee,S as te,d as v,e as re,u as se,A as oe,f as ne,g as ae,h as ie,V as le,C as ce,i as ue,k as de,l as pe}from"./chakra.js";import{d as me,g as he,r as l,b as L}from"./react-core.js";import{c as fe,N as Ee,R as ye,O as ge,a as Ae}from"./router.js";import{G as C}from"./icons.js";import{a as _e}from"./http.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var T={},I=me;T.createRoot=I.createRoot,T.hydrateRoot=I.hydrateRoot;const Re="modulepreload",Se=function(e,t){return new URL(e,t).href},N={},y=function(t,r,s){let o=Promise.resolve();if(r&&r.length>0){const i=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");o=Promise.allSettled(r.map(c=>{if(c=Se(c,s),c in N)return;N[c]=!0;const E=c.endsWith(".css"),G=E?'[rel="stylesheet"]':"";if(!!s)for(let A=i.length-1;A>=0;A--){const _=i[A];if(_.href===c&&(!E||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${G}`))return;const f=document.createElement("link");if(f.rel=E?"stylesheet":Re,E||(f.as="script"),f.crossOrigin="",f.href=c,m&&f.setAttribute("nonce",m),document.head.appendChild(f),E)return new Promise((A,_)=>{f.addEventListener("load",A),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=i,window.dispatchEvent(d),!d.defaultPrevented)throw i}return o.then(i=>{for(const d of i||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})};function dt(e){return C({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4.75 17.25a.75.75 0 0 1 .75.75v2.25c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V18a.75.75 0 0 1 1.5 0v2.25A1.75 1.75 0 0 1 18.25 22H5.75A1.75 1.75 0 0 1 4 20.25V18a.75.75 0 0 1 .75-.75Z"}},{tag:"path",attr:{d:"M5.22 9.97a.749.749 0 0 1 1.06 0l4.97 4.969V2.75a.75.75 0 0 1 1.5 0v12.189l4.97-4.969a.749.749 0 1 1 1.06 1.06l-6.25 6.25a.749.749 0 0 1-1.06 0l-6.25-6.25a.749.749 0 0 1 0-1.06Z"}}]})(e)}function ve(e){return C({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.322.75h1.176a1.75 1.75 0 0 1 1.75 1.749v1.177a10.75 10.75 0 0 1-2.925 7.374l-1.228 1.304a23.699 23.699 0 0 1-1.596 1.542v5.038c0 .615-.323 1.184-.85 1.5l-4.514 2.709a.75.75 0 0 1-1.12-.488l-.963-4.572a1.305 1.305 0 0 1-.14-.129L8.04 15.96l-1.994-1.873a1.305 1.305 0 0 1-.129-.14l-4.571-.963a.75.75 0 0 1-.49-1.12l2.71-4.514c.316-.527.885-.85 1.5-.85h5.037a23.668 23.668 0 0 1 1.542-1.594l1.304-1.23A10.753 10.753 0 0 1 20.321.75Zm-6.344 4.018v-.001l-1.304 1.23a22.275 22.275 0 0 0-3.255 3.851l-2.193 3.29 1.859 1.744a.545.545 0 0 1 .034.034l1.743 1.858 3.288-2.192a22.263 22.263 0 0 0 3.854-3.257l1.228-1.303a9.251 9.251 0 0 0 2.517-6.346V2.5a.25.25 0 0 0-.25-.25h-1.177a9.252 9.252 0 0 0-6.344 2.518ZM6.5 21c-1.209 1.209-3.901 1.445-4.743 1.49a.236.236 0 0 1-.18-.067.236.236 0 0 1-.067-.18c.045-.842.281-3.534 1.49-4.743.9-.9 2.6-.9 3.5 0 .9.9.9 2.6 0 3.5Zm-.592-8.588L8.17 9.017c.23-.346.47-.685.717-1.017H5.066a.25.25 0 0 0-.214.121l-2.167 3.612ZM16 15.112c-.333.248-.672.487-1.018.718l-3.393 2.262.678 3.223 3.612-2.167a.25.25 0 0 0 .121-.214ZM17.5 8a1.5 1.5 0 1 1-3.001-.001A1.5 1.5 0 0 1 17.5 8Z"}}]})(e)}function pt(e){return C({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 20.25V18a.75.75 0 0 1 1.5 0v2.25c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V18a.75.75 0 0 1 1.5 0v2.25A1.75 1.75 0 0 1 18.25 22H5.75A1.75 1.75 0 0 1 4 20.25Z"}},{tag:"path",attr:{d:"M5.22 9.53a.749.749 0 0 1 0-1.06l6.25-6.25a.749.749 0 0 1 1.06 0l6.25 6.25a.749.749 0 1 1-1.06 1.06l-4.97-4.969V16.75a.75.75 0 0 1-1.5 0V4.561L6.28 9.53a.749.749 0 0 1-1.06 0Z"}}]})(e)}const Te="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%20778.3%202402.3%20243.3'%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='none'%20d='M0%20778.3h2402.3v243.3H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20clip-path='url(%23a)'%3e%3cpath%20fill='%232b215b'%20fill-rule='evenodd'%20d='M309.9%20787.2c-12.6%205.9-22.2%2014.2-28.8%2023.7-6.6%2010.1-10.2%2020.8-10.2%2033.2s3.6%2027.9%2010.8%2036.8c7.2%209.5%2015.6%2016%2025.8%2020.2%209.6%204.2%2022.8%208.9%2039.6%2013.6%2012%203%2021.6%205.9%2028.2%208.9%206.6%203%2012.6%206.5%2016.8%2010.7%204.2%204.7%206.6%2010.1%206.6%2017.8s-4.2%2018.4-13.2%2024.9c-8.4%207.1-20.4%2010.1-35.4%2010.1-24%200-43.8-8.9-60.7-26.1l-25.2%2024.9c8.4%209.5%2019.8%2017.8%2034.8%2024.9%2015%207.1%2031.8%2010.7%2051.6%2010.7s32.4-3%2045.6-9.5c13.2-6.5%2023.4-14.8%2030-25.5%207.2-10.7%2010.8-22%2010.8-34.4s-3.6-27.9-10.8-36.8c-7.2-9.5-15.6-16-25.8-20.2-10.2-4.2-22.8-8.9-39.6-13.6-12-3-21.6-5.9-28.2-8.9-6.6-3-12.6-6.5-16.8-10.7-4.2-4.7-6.6-10.1-6.6-17.8s4.2-16.6%2012-22.6c7.8-5.9%2019.2-9.5%2033-9.5s19.8%202.4%2028.2%206.5c8.4%204.2%2016.2%208.9%2022.2%2014.8l25.8-24.3c-7.8-8.3-18.6-15.4-31.8-21.4-13.2-5.9-28.2-8.9-44.4-8.9-17.4-.6-31.8%202.4-44.4%208.3Zm1202.9%2026.2c10.8%201.8%2020.4%205.3%2030%2010.7%2013.8%207.7%2024.6%2018.4%2032.4%2032%207.8%2013.6%2012%2028.5%2012%2044.5s-4.2%2030.9-12%2044.5c-7.8%2013.6-18.6%2024.3-32.4%2032-13.8%207.7-28.8%2011.9-45%2011.9s-31.2-4.2-45-11.9c-1.8-1.2-3.6-1.8-4.8-3l-13.2%2032.6c19.2%2010.1%2040.2%2015.4%2063.7%2015.4s45.6-5.3%2064.9-16c19.8-10.7%2034.8-25.5%2046.2-43.9%2011.4-18.4%2016.8-39.2%2016.8-61.1s-5.4-42.7-16.8-61.1-26.4-33.2-46.2-43.9c-11.4-6.5-23.4-10.7-36.6-13.6l-13.8%2030.9Zm-498.4%200c10.8%201.8%2020.4%205.3%2030%2010.7%2013.8%207.7%2024.6%2018.4%2032.4%2032%207.8%2013.6%2012%2028.5%2012%2044.5s-4.2%2030.9-12%2044.5c-7.8%2013.6-18.6%2024.3-32.4%2032-13.8%207.7-28.8%2011.9-45%2011.9s-31.2-4.2-45-11.9c-1.8-1.2-3.6-1.8-4.8-3l-13.2%2032.6c19.2%2010.1%2040.2%2015.4%2063.7%2015.4s45.6-5.3%2064.9-16c19.8-10.7%2034.8-25.5%2046.2-43.9%2011.4-18.4%2016.8-39.2%2016.8-61.1s-5.4-42.7-16.8-61.1-26.4-33.2-46.2-43.9c-11.4-6.5-23.4-10.7-36.6-13.6l-13.8%2030.9Zm1199.3-31.5v236.8h37.8v-88.4h57.1l49.8%2087.8h43.2l-54.6-93.8c13.8-5.9%2025.2-14.8%2033.6-27.3%208.4-12.5%2012.6-26.1%2012.6-40.9s-3.6-26.7-10.2-38-16.2-20.2-28.2-26.7-25.8-10.1-40.8-10.1l-100.3.6Zm38.4%2033.8h62.5c12%200%2022.2%203.6%2030%2011.3%207.8%207.7%2011.4%2017.2%2011.4%2029.1s-3.6%2021.4-11.4%2029.1c-7.8%207.7-17.4%2011.3-30%2011.3h-62.5v-80.7Zm-269-33.8v236.8h174.8v-33.8h-136.3v-72.4h105.7v-33.8h-105.7v-62.9h133.3V782h-171.8Zm-93.1%200-91.3%20114.5h-.6l-91.3-114.5H1672v236.8h37.8V845.4h1.2l86.5%20108.6%2086.5-108.6h1.2v173.3h37.8V781.9h-33Zm-545.3%200v172.7h-1.2l-132.1-172.7h-34.2v236.8h37.8V845.4h1.2l132.1%20172.7h34.8V781.9h-38.4Zm-634.2%200v236.8h37.8v-88.4h57.1l49.8%2087.8h43.2l-54.7-93.8c13.8-5.9%2025.2-14.8%2033.6-27.3%208.4-12.5%2012.6-26.1%2012.6-40.9s-3.6-26.7-10.2-38-16.2-20.2-28.2-26.7-25.8-10.1-40.8-10.1l-100.3.6Zm37.8%2033.8h62.5c12%200%2022.2%203.6%2030%2011.3%207.8%207.7%2011.4%2017.2%2011.4%2029.1s-3.6%2021.4-11.4%2029.1c-7.8%207.7-17.4%2011.3-30%2011.3h-62.5v-80.7Zm-275.1-33.8v33.8h72.7v203h37.8v-203h72.7v-33.8H473.2Zm-376.5%200L0%201018.1h39l24-60.5h106.9l24.6%2060.5h40.2l-62.5-152.5h-39l22.8%2058.2H76.7L133.2%20782H96.6Z'/%3e%3c/g%3e%3c/svg%3e",be=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var Ce=e=>!be.has(e&&e.code);const xe=he(Ce),x="axios-retry";function U(e){const t=["ERR_CANCELED","ECONNABORTED"];return e.response||!e.code||t.includes(e.code)?!1:xe(e)}const V=["get","head","options"],De=V.concat(["put","delete"]);function D(e){return e.code!=="ECONNABORTED"&&(!e.response||e.response.status===429||e.response.status>=500&&e.response.status<=599)}function Oe(e){return e.config?.method?D(e)&&V.indexOf(e.config.method)!==-1:!1}function k(e){return e.config?.method?D(e)&&De.indexOf(e.config.method)!==-1:!1}function j(e){return U(e)||k(e)}function O(e=void 0){const t=e?.response?.headers["retry-after"];if(!t)return 0;let r=(Number(t)||0)*1e3;return r===0&&(r=(new Date(t).valueOf()||0)-Date.now()),Math.max(0,r)}function Pe(e=0,t=void 0){return Math.max(0,O(t))}function Ie(e=0,t=void 0,r=100){const s=2**e*r,o=Math.max(s,O(t)),a=o*.2*Math.random();return o+a}function Ne(e=100){return(t=0,r=void 0)=>{const s=t*e;return Math.max(s,O(r))}}const we={retries:3,retryCondition:j,retryDelay:Pe,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function Fe(e,t){return{...we,...t,...e[x]}}function w(e,t,r=!1){const s=Fe(e,t||{});return s.retryCount=s.retryCount||0,(!s.lastRequestTime||r)&&(s.lastRequestTime=Date.now()),e[x]=s,s}function Le(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}async function Ue(e,t){const{retries:r,retryCondition:s}=e,o=(e.retryCount||0)<r&&s(t);if(typeof o=="object")try{return await o!==!1}catch{return!1}return o}async function Ve(e,t,r,s){t.retryCount+=1;const{retryDelay:o,shouldResetTimeout:a,onRetry:i}=t,d=o(t.retryCount,r);if(Le(e,s),!a&&s.timeout&&t.lastRequestTime){const m=Date.now()-t.lastRequestTime,c=s.timeout-m-d;if(c<=0)return Promise.reject(r);s.timeout=c}return s.transformRequest=[m=>m],await i(t.retryCount,r,s),s.signal?.aborted?Promise.resolve(e(s)):new Promise(m=>{const c=()=>{clearTimeout(E),m(e(s))},E=setTimeout(()=>{m(e(s)),s.signal?.removeEventListener&&s.signal.removeEventListener("abort",c)},d);s.signal?.addEventListener&&s.signal.addEventListener("abort",c,{once:!0})})}async function ke(e,t){e.retryCount>=e.retries&&await e.onMaxRetryTimesExceeded(t,e.retryCount)}const h=(e,t)=>{const r=e.interceptors.request.use(o=>(w(o,t,!0),o[x]?.validateResponse&&(o.validateStatus=()=>!1),o)),s=e.interceptors.response.use(null,async o=>{const{config:a}=o;if(!a)return Promise.reject(o);const i=w(a,t);return o.response&&i.validateResponse?.(o.response)?o.response:await Ue(i,o)?Ve(e,i,o,a):(await ke(i,o),Promise.reject(o))});return{requestInterceptorId:r,responseInterceptorId:s}};h.isNetworkError=U;h.isSafeRequestError=Oe;h.isIdempotentRequestError=k;h.isNetworkOrIdempotentRequestError=j;h.exponentialDelay=Ie;h.linearDelay=Ne;h.isRetryableError=D;const je=_e.create();h(je,{retries:3,retryDelay:(e,t)=>{const r=t.response?.headers?.["retry-after"];if(r){const s=parseInt(r,10);if(!Number.isNaN(s))return s*1e3}return h.exponentialDelay(e,t,1e3)},retryCondition:e=>{const t=e.response?.status;return t===429||t===502||t===503}});function mt(e){if(!e.includes("astronomer.run")){const t=e.split("://")[1];if(t){const r=t.split("/",1)[0]||t;return`https://${r.split("deployments.",2)[1]||r}/token`}}return"https://cloud.astronomer.io/token"}function Be(e,t,r){return r?`https://${e}.astronomer.run/${t}`:`https://deployments.${e}/${t}/airflow`}function ht(e){const t={targetUrl:"",urlOrgPart:"",urlDeploymentPart:"",isAstro:!0,isValid:!1};if(!e||typeof e!="string")return t;let r=e.trim();!r.startsWith("http://")&&!r.startsWith("https://")&&(r=`https://${r}`);try{const s=new URL(r),{hostname:o,pathname:a}=s;if(o.endsWith(".astronomer.run")){t.isAstro=!0,t.urlOrgPart=o.replace(".astronomer.run","");const i=a.split("/").filter(Boolean);i[i.length-1]==="home"&&i.pop(),t.urlDeploymentPart=i[0]||"",t.urlOrgPart&&t.urlDeploymentPart&&(t.targetUrl=`https://${t.urlOrgPart}.astronomer.run/${t.urlDeploymentPart}`,t.isValid=!0)}else if(o.startsWith("deployments.")){t.isAstro=!1,t.urlOrgPart=o.replace("deployments.","");const i=a.split("/").filter(Boolean);t.urlDeploymentPart=i[0]||"",t.urlOrgPart&&t.urlDeploymentPart&&(t.targetUrl=`https://deployments.${t.urlOrgPart}/${t.urlDeploymentPart}/airflow`,t.isValid=!0)}}catch{return t}return t}function Me(e){return window.location.href.split("/starship",1)[0]+e}function ft(e){return Me(`/starship/proxy?url=${encodeURIComponent(e)}`)}function Et(e){return{"Starship-Proxy-Token":e}}function yt(e,t){const{[t]:r,...s}=e;return s}function gt(e,t){return`https://api.astronomer.io/platform/v1beta1/organizations/${e}/deployments/${t}`}function At(e){return`https://houston.${e}/v1/`}function _t(e,t){return parseInt(t?.split(".")[0]||"2",10)>=3?`/dags/${e}`:`/dags/${e}/grid`}const b={targetUrl:"",urlDeploymentPart:"",urlOrgPart:"",isAstro:!0,token:null,isTouched:!1,isTokenTouched:!1,isValidUrl:!1,isStarship:!1,isAirflow:!1,isSetupComplete:!1,releaseName:null,workspaceId:null,deploymentId:null,organizationId:null,telescopeOrganizationId:"",telescopePresignedUrl:"",limit:100,batchSize:10,localAirflowVersion:null};function R(e,t={}){const r={...e,...t};return!!(r.isStarship&&r.isAirflow&&r.token&&r.isValidUrl)}function He(e,t){switch(t.type){case"set-url":{const r=!!(t.urlOrgPart&&t.urlDeploymentPart);return{...e,isTouched:!0,targetUrl:t.targetUrl,urlDeploymentPart:t.urlDeploymentPart,urlOrgPart:t.urlOrgPart,isValidUrl:r,isSetupComplete:R(e,{isValidUrl:r})}}case"set-token":return{...e,isTokenTouched:!0,token:t.token,isSetupComplete:R(e,{token:t.token})};case"toggle-is-astro":return{...e,isAstro:!e.isAstro,targetUrl:Be(e.urlOrgPart,e.urlDeploymentPart,!e.isAstro),token:null,isSetupComplete:!1};case"set-is-starship":return{...e,isStarship:t.isStarship,isSetupComplete:R(e,{isStarship:t.isStarship})};case"set-is-airflow":return{...e,isAirflow:t.isAirflow,isSetupComplete:R(e,{isAirflow:t.isAirflow})};case"set-software-info":return{...e,releaseName:t.releaseName,workspaceId:t.workspaceId,deploymentId:t.deploymentId};case"set-organization-id":return{...e,organizationId:t.organizationId,deploymentId:t.deploymentId||e.deploymentId};case"set-telescope-org":return{...e,telescopeOrganizationId:t.telescopeOrganizationId};case"set-telescope-presigned-url":return{...e,telescopePresignedUrl:t.telescopePresignedUrl};case"set-limit":return{...e,limit:t.limit};case"set-batch-size":return{...e,batchSize:t.batchSize};case"set-local-airflow-version":return{...e,localAirflowVersion:t.version};case"reset":return b;case"invalidate-token":return{...e,isSetupComplete:!1,isTokenTouched:!1,token:null};default:return e}}const B=l.createContext(void 0),M=l.createContext(void 0);function S(){const e=l.useContext(B);if(e===void 0)throw new Error("useAppState must be used within AppProvider");return e}function Rt(){const e=l.useContext(M);if(e===void 0)throw new Error("useAppDispatch must be used within AppProvider");return e}const H="starship-config";function ze(){try{const e=localStorage.getItem(H);if(e){const t=JSON.parse(e);return{...b,...t}}}catch{}return b}function z({children:e}){const[t,r]=l.useReducer(He,void 0,ze);return l.useEffect(()=>{try{localStorage.setItem(H,JSON.stringify(t))}catch{}},[t]),n.jsx(B.Provider,{value:t,children:n.jsx(M.Provider,{value:r,children:e})})}z.propTypes={children:p.node.isRequired};function $e(){const{isSetupComplete:e}=S();return e}function St(){const e=S();return l.useMemo(()=>({targetUrl:e.targetUrl,token:e.token,isAstro:e.isAstro,organizationId:e.organizationId,deploymentId:e.deploymentId,localAirflowVersion:e.localAirflowVersion,releaseName:e.releaseName,urlOrgPart:e.urlOrgPart}),[e.targetUrl,e.token,e.isAstro,e.organizationId,e.deploymentId,e.localAirflowVersion,e.releaseName,e.urlOrgPart])}function vt(){const e=S();return l.useMemo(()=>({limit:e.limit,batchSize:e.batchSize}),[e.limit,e.batchSize])}function Tt(){const e=S();return l.useMemo(()=>({telescopeOrganizationId:e.telescopeOrganizationId,telescopePresignedUrl:e.telescopePresignedUrl}),[e.telescopeOrganizationId,e.telescopePresignedUrl])}const bt=Object.freeze({TELESCOPE_ROUTE:"/api/starship/telescope",ENV_VAR_ROUTE:"/api/starship/env_vars",POOL_ROUTE:"/api/starship/pools",CONNECTIONS_ROUTE:"/api/starship/connections",VARIABLES_ROUTE:"/api/starship/variables",DAGS_ROUTE:"/api/starship/dags",DAG_RUNS_ROUTE:"/api/starship/dag_runs",TASK_INSTANCE_ROUTE:"/api/starship/task_instances",TASK_INSTANCE_HISTORY_ROUTE:"/api/starship/task_instance_history"}),u=Object.freeze({SETUP:"setup",VARIABLES:"variables",CONNECTIONS:"connections",POOLS:"pools",ENV_VARS:"env",DAGS:"dags",TELESCOPE:"telescope"}),Ct=`
mutation UpdateDeploymentVariables(
  $deploymentUuid:Uuid!,
  $releaseName:String!,
  $environmentVariables: [InputEnvironmentVariable!]!
) {
  updateDeploymentVariables(
    deploymentUuid: $deploymentUuid,
    releaseName: $releaseName,
    environmentVariables: $environmentVariables
  ) {
    key
    value
    isSecret
  }
}`,xt=`query deploymentVariables($deploymentUuid: Uuid!, $releaseName: String!) {
  deploymentVariables(
    deploymentUuid: $deploymentUuid
    releaseName: $releaseName
  ) {
    key
    value
    isSecret
  }
}`,Dt=`
query workspaces {
  workspaces {
    id
    deployments {
      id
      releaseName
    }
  }
}`,qe=l.lazy(()=>y(()=>import("./SetupPage.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),Ge=l.lazy(()=>y(()=>import("./VariablesPage.js"),__vite__mapDeps([6,1,2,7,5,8,3,9,10,4]),import.meta.url)),Ze=l.lazy(()=>y(()=>import("./ConnectionsPage.js"),__vite__mapDeps([11,1,2,7,5,8,3,9,12,10,4]),import.meta.url)),We=l.lazy(()=>y(()=>import("./PoolsPage.js"),__vite__mapDeps([13,1,2,7,5,8,3,9,10,4]),import.meta.url)),Ye=l.lazy(()=>y(()=>import("./EnvVarsPage.js"),__vite__mapDeps([14,1,2,5,10,8,3,9,12,15,4]),import.meta.url)),Ke=l.lazy(()=>y(()=>import("./DAGHistoryPage.js"),__vite__mapDeps([16,1,2,5,8,3,9,4]),import.meta.url)),Xe=l.lazy(()=>y(()=>import("./TelescopePage.js"),__vite__mapDeps([17,1,2,5,15,3,4]),import.meta.url));function Je(){return n.jsx(g,{display:"flex",justifyContent:"center",alignItems:"center",minH:"200px",children:n.jsx(te,{size:"lg",color:"brand.500",thickness:"3px"})})}function $({to:e,label:t,isDisabled:r=!1,disabledMessage:s=""}){const o=n.jsx(v,{as:r?"button":Ae,to:r?void 0:e,variant:"navLink",isDisabled:r,children:t});return r&&s?n.jsx(Z,{label:s,hasArrow:!0,placement:"bottom",children:n.jsx(g,{as:"span",display:"inline-block",children:o})}):o}$.propTypes={to:p.string.isRequired,label:p.string.isRequired,isDisabled:p.bool,disabledMessage:p.string};const Qe=l.memo($),et=[{to:`/${u.SETUP}`,label:"Setup",requiresSetup:!1},{to:`/${u.VARIABLES}`,label:"Variables",requiresSetup:!0},{to:`/${u.CONNECTIONS}`,label:"Connections",requiresSetup:!0},{to:`/${u.POOLS}`,label:"Pools",requiresSetup:!0},{to:`/${u.ENV_VARS}`,label:"Environment Variables",requiresSetup:!0},{to:`/${u.DAGS}`,label:"DAG History",requiresSetup:!0}],tt="Complete the Setup tab to configure your target Airflow instance before accessing migration features";function rt(){const e=$e();return n.jsxs(n.Fragment,{children:[n.jsx(W,{as:"nav",boxShadow:"sm",borderBottomWidth:"1px",borderColor:"gray.200",overflowX:"auto",overflowY:"hidden",flexWrap:{base:"nowrap",lg:"wrap"},minH:"12",css:{"&::-webkit-scrollbar":{height:"var(--chakra-space-1)"},"&::-webkit-scrollbar-thumb":{background:"var(--chakra-colors-gray-300)",borderRadius:"var(--chakra-radii-sm)"}},children:et.map(({to:t,label:r,requiresSetup:s})=>n.jsx(Qe,{to:t,label:r,isDisabled:s&&!e,disabledMessage:s?tt:""},t))}),n.jsxs(g,{as:"main",flex:"1",minH:"0",overflowY:"auto",px:{base:2,md:4,lg:6},pt:{base:2,md:4,lg:6},pb:{base:10,md:12},children:[n.jsxs(g,{as:"header",display:"inline-block",children:[n.jsxs(Y,{as:"h1",size:"xl",children:["Starship ",n.jsx(K,{as:ve})]}),n.jsxs(X,{align:"baseline",justify:"flex-end",children:[n.jsx(J,{color:"gray.500",children:"by"}),n.jsx(Q,{src:Te,alt:"Astronomer",h:"12px"})]})]}),n.jsx(ee,{my:3}),n.jsx(l.Suspense,{fallback:n.jsx(Je,{}),children:n.jsx(ge,{})})]})]})}const st=fe([{path:"/",element:n.jsx(rt,{}),children:[{index:!0,element:n.jsx(Ee,{to:u.SETUP,replace:!0})},{path:u.SETUP,element:n.jsx(qe,{})},{path:u.VARIABLES,element:n.jsx(Ge,{})},{path:u.CONNECTIONS,element:n.jsx(Ze,{})},{path:u.POOLS,element:n.jsx(We,{})},{path:u.ENV_VARS,element:n.jsx(Ye,{})},{path:u.DAGS,element:n.jsx(Ke,{})},{path:u.TELESCOPE,element:n.jsx(Xe,{})}]}]);function ot(){return n.jsx(z,{children:n.jsx(ye,{router:st})})}const F=re({colors:{brand:{10:"#F8F8FF",25:"#EBE9F8",50:"#DCDBF1",75:"#CCCDE9",100:"#BDBFE2",200:"#A2A3D1",300:"#8887C0",400:"#6D6BAF",500:"#575293",600:"#413A77",700:"#2B215B",800:"#1E1D48",900:"#101935",950:"#0A1423"},amethyst:{50:"#FAF7FF",100:"#EDE1FF",200:"#DFCAFF",300:"#C69DFF",400:"#AF76FF",500:"#8A53D6",600:"#6B3AAD",700:"#4F2885",800:"#361A5C",900:"#1B0835"},success:{50:"#F2FFF8",100:"#C6F7E1",200:"#99EEC9",300:"#4BDEA8",400:"#0BCD93",500:"#06AC80",600:"#068A6A",700:"#076953",800:"#08483A",900:"#012A21"},info:{50:"#F2FDFF",100:"#CBF4FF",200:"#A3EBFF",300:"#55CCFF",400:"#0AA6FF",500:"#0F74D5",600:"#1552AC",700:"#183A82",800:"#172758",900:"#061237"},error:{50:"#FFE9E0",100:"#FFCFC1",200:"#FEB5A2",300:"#FC7B66",400:"#FB3D31",500:"#D22E16",600:"#AA2607",700:"#812101",800:"#591B00",900:"#3A1200"},warning:{50:"#FFF6EB",100:"#FFE8CA",200:"#FED9A8",300:"#FEBF66",400:"#FDA92A",500:"#D38B1D",600:"#AA7016",700:"#805512",800:"#563A0F",900:"#3B2606"}},fonts:{heading:'Albert Sans, Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif',body:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif',mono:'"SF Mono", "Roboto Mono", "Courier New", monospace'},components:{Button:{defaultProps:{colorScheme:"brand"},variants:{navLink:{borderRadius:0,fontWeight:"normal",color:"brand.700",_hover:{bg:"transparent",color:"brand.600 !important"},_disabled:{opacity:.4},"&.active":{boxShadow:"inset 0 -5px 0 0 var(--chakra-colors-amethyst-500)",fontWeight:"semibold",color:"brand.800 !important"}}}},Input:{defaultProps:{focusBorderColor:"brand.400"}},Select:{defaultProps:{focusBorderColor:"brand.400"}},Heading:{baseStyle:{color:"brand.700"}},Link:{baseStyle:{color:"brand.400"}},Table:{variants:{striped:{th:{borderBottom:"1px",borderColor:"brand.100"},tbody:{tr:{"&:nth-of-type(odd) td":{bg:"brand.10!important"},"&:nth-of-type(even) td":{bg:"transparent !important"}}}}}},Alert:{baseStyle:{container:{backdropFilter:"none"}},variants:{outline:{container:{bg:"white",borderWidth:"1px"}},subtle:e=>({container:{bg:`${e.colorScheme}.50`}}),surface:e=>({container:{bg:`${e.colorScheme}.50`}})}}},styles:{global:{html:{fontSize:"16px"},body:{color:"brand.700",fontSize:"md"},".data-table":{overflowX:"auto",w:"100%"},".starship-main":{display:"flex",flexDirection:"column",minH:0,maxH:"100vh",overflowY:"auto"}}},config:{initialColorMode:"light",useSystemColorMode:!1}});class P extends L.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){this.setState({errorInfo:r})}render(){const{hasError:t,error:r,errorInfo:s}=this.state,{children:o,fallback:a}=this.props;return t?a||n.jsx(q,{error:r,errorInfo:s,onReset:()=>this.setState({hasError:!1,error:null,errorInfo:null})}):o}}P.propTypes={children:p.node.isRequired,fallback:p.node};P.defaultProps={fallback:null};function q({error:e=null,errorInfo:t=null,onReset:r}){const{isOpen:s,onToggle:o}=se();return n.jsx(g,{p:4,maxW:"3xl",mx:"auto",mt:8,children:n.jsxs(oe,{status:"error",variant:"subtle",flexDirection:"column",alignItems:"flex-start",borderRadius:"md",p:6,children:[n.jsx(ne,{boxSize:"40px",mr:0,mb:4}),n.jsx(ae,{fontSize:"lg",mb:2,children:"Something went wrong"}),n.jsx(ie,{mb:4,children:"An unexpected error occurred. Please try refreshing the page."}),n.jsxs(le,{align:"stretch",spacing:3,w:"100%",children:[n.jsx(v,{colorScheme:"red",variant:"outline",onClick:r,children:"Try Again"}),n.jsxs(v,{size:"sm",variant:"ghost",onClick:o,children:[s?"Hide":"Show"," Error Details"]}),n.jsx(ce,{in:s,children:n.jsx(g,{bg:"gray.50",p:3,borderRadius:"md",fontSize:"sm",overflow:"auto",maxH:"xs",children:n.jsxs(ue,{display:"block",whiteSpace:"pre-wrap",bg:"transparent",children:[e?.toString(),t?.componentStack]})})})]})]})})}q.propTypes={error:p.instanceOf(Error),errorInfo:p.shape({componentStack:p.string}),onReset:p.func.isRequired};T.createRoot(document.getElementById("root")).render(n.jsxs(L.StrictMode,{children:[n.jsx(de,{initialColorMode:F.config?.initialColorMode}),n.jsx(pe,{theme:F,resetCSS:!0,children:n.jsx(P,{children:n.jsx(ot,{})})})]}));export{pt as G,ft as a,Et as b,Rt as c,Dt as d,bt as e,St as f,At as g,je as h,xt as i,Ct as j,gt as k,Me as l,vt as m,_t as n,yt as o,ht as p,Tt as q,dt as r,mt as t,S as u};

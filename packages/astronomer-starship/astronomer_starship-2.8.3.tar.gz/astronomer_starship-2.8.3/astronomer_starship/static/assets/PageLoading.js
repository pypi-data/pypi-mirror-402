import{G as l}from"./icons.js";import{j as e,B as z,a as j,w as L,aa as T,ab as R,s as F,b as S,ac as I,ad as A,ae as B,af as m,ag as H,ah as N,ai as W,aj as D,ak as P,al as w,P as o,am as V,V as v,S as E,A as G,f as O,g as q,h as K}from"./chakra.js";import{r as p}from"./react-core.js";import{u as U,f as b,g as J,a as X,b as Q}from"./table.js";function ae(r){return l({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}}]})(r)}function ne(r){return l({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}}]})(r)}function oe(r){return l({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}}]})(r)}function se(r){return l({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"}},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"}}]})(r)}function ie(r){return l({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"}}]})(r)}function le(r){return l({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(r)}function Y(r,s,u){const c=u.toLowerCase(),i=r.getValue(s);return i==null?!1:Array.isArray(i)?i.some(h=>String(h).toLowerCase().includes(c)):typeof i=="object"?JSON.stringify(i).toLowerCase().includes(c):String(i).toLowerCase().includes(c)}function Z({data:r,columns:s,searchPlaceholder:u="Search...",showSearch:c=!0,rightElement:i=null}){const h=p.useMemo(()=>{const a=s.find(t=>t.enableSorting!==!1&&(t.accessorKey||t.accessorFn||t.id));return a?[{id:a.accessorKey||a.id,desc:!1}]:[]},[s]),[y,C]=p.useState(h),[d,x]=p.useState(""),g=U({columns:s,data:r,getCoreRowModel:J(),onSortingChange:C,getSortedRowModel:X(),getFilteredRowModel:Q(),onGlobalFilterChange:x,globalFilterFn:Y,state:{sorting:y,globalFilter:d}}),M=g.getRowModel().rows.length,k=r.length;return e.jsxs(z,{children:[c&&e.jsxs(j,{mb:3,justify:"space-between",align:"center",children:[e.jsxs(j,{spacing:3,flex:1,children:[e.jsxs(L,{size:"sm",maxW:"xs",children:[e.jsx(T,{pointerEvents:"none",children:e.jsx(R,{color:"gray.400"})}),e.jsx(F,{placeholder:u,value:d,onChange:a=>x(a.target.value),borderRadius:"md",focusBorderColor:"brand.400"})]}),d&&e.jsxs(S,{fontSize:"sm",color:"gray.500",children:[M," of",k," items"]})]}),i]}),e.jsx(I,{className:"data-table",overflowX:"auto",maxW:"100%",children:e.jsxs(A,{variant:"striped",size:"sm",children:[e.jsx(B,{children:g.getHeaderGroups().map(a=>e.jsx(m,{children:a.headers.map(t=>{const{meta:n}=t.column.columnDef,f=t.column.getCanSort();return e.jsxs(H,{onClick:f?t.column.getToggleSortingHandler():void 0,isNumeric:n?.isNumeric,textAlign:n?.align||(n?.isNumeric?"right":"left"),width:n?.width,minW:n?.minWidth,cursor:f?"pointer":"default",children:[t.isPlaceholder?null:b(t.column.columnDef.header,t.getContext()),e.jsxs(N.span,{pl:"4",children:[t.column.getIsSorted()==="desc"&&e.jsx(W,{"aria-label":"sorted descending"}),t.column.getIsSorted()==="asc"&&e.jsx(D,{"aria-label":"sorted ascending"})]})]},t.id)})},a.id))}),e.jsx(P,{children:g.getRowModel().rows.length===0?e.jsx(m,{children:e.jsx(w,{colSpan:s.length,textAlign:"center",py:8,color:"gray.500",children:d?"No matching results":"No data available"})}):g.getRowModel().rows.map(a=>e.jsx(m,{children:a.getVisibleCells().map(t=>{const{meta:n}=t.column.columnDef;return e.jsx(w,{isNumeric:n?.isNumeric,textAlign:n?.align||(n?.isNumeric?"right":"left"),width:n?.width,minW:n?.minWidth,whiteSpace:"normal",wordBreak:"break-word",children:b(t.column.columnDef.cell,t.getContext())},t.id)})},a.id))})]})})]})}Z.propTypes={data:o.arrayOf(o.object).isRequired,columns:o.arrayOf(o.object).isRequired,searchPlaceholder:o.string,showSearch:o.bool,rightElement:o.node};function _({loading:r=!1,error:s=null}){return r?e.jsx(V,{py:12,children:e.jsxs(v,{spacing:4,children:[e.jsx(E,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"brand.400",size:"xl"}),e.jsx(S,{color:"gray.500",fontSize:"sm",children:"Loading..."})]})}):s?e.jsxs(G,{status:"error",borderRadius:"md",children:[e.jsx(O,{}),e.jsxs(v,{align:"start",spacing:0,children:[e.jsx(q,{children:"Error fetching data"}),e.jsx(K,{children:s.message||"An unexpected error occurred"})]})]}):null}_.propTypes={loading:o.bool,error:o.shape({message:o.string})};export{Z as D,le as F,ne as M,_ as P,ae as a,oe as b,se as c,ie as d};

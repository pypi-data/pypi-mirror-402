flowchart TD
    subgraph APP ["ðŸ“± review_analysis_pipeline"]
        direction TB

    subgraph FLOW_0 ["ðŸ”„ analyze_reviews"]
        direction TB
        FLOW_0_START@{shape: circle, label: "â–¶ï¸ Start"}
        FLOW_0_S0@{shape: rect, label: "âš™ï¸ load_reviews"}
        FLOW_0_S1@{shape: doc, label: "ðŸ“„ create_prompt"}
        FLOW_0_S2@{shape: rounded, label: "âœ¨ analyze_sentiment"}
        FLOW_0_S3@{shape: rect, label: "âš™ï¸ write_results"}
        FLOW_0_S0 -->|product_name| FLOW_0_S1
        FLOW_0_S0 -->|rating| FLOW_0_S1
        FLOW_0_S0 -->|review_text| FLOW_0_S1
        FLOW_0_S1 -->|analysis_prompt| FLOW_0_S2
        FLOW_0_S0 -->|review_id| FLOW_0_S3
        FLOW_0_S0 -->|product_name| FLOW_0_S3
        FLOW_0_S0 -->|rating| FLOW_0_S3
        FLOW_0_S0 -->|review_text| FLOW_0_S3
        FLOW_0_S2 -->|llm_analysis| FLOW_0_S3
        FLOW_0_START -->|output_path| FLOW_0_S3
    end

    subgraph RESOURCES ["ðŸ”§ Shared Resources"]
        direction LR
        MODEL_NOVA_LITE@{shape: rounded, label: "âœ¨ nova_lite (aws-bedrock)" }
    end

    end

    FLOW_0_S2 -.->|uses| MODEL_NOVA_LITE

    %% Styling
    classDef appBox fill:none,stroke:#495057,stroke-width:3px
    classDef flowBox fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef llmNode fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef modelNode fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef authNode fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
    classDef telemetryNode fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef resourceBox fill:#f5f5f5,stroke:#616161,stroke-width:1px

    class APP appBox
    class FLOW_0 flowBox
    class RESOURCES resourceBox
    class TELEMETRY telemetryNode
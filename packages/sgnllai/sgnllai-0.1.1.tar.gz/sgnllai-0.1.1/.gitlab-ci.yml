include:
  - component: git.ligo.org/computing/gitlab/components/python/sdist@1
  - component: git.ligo.org/computing/gitlab/components/python/wheel@1
  - component: git.ligo.org/computing/gitlab/components/python/code-quality@1
    inputs:
      requirements: ".[lint]"
  - component: git.ligo.org/computing/gitlab/components/python/dependency-scanning@1
  - component: git.ligo.org/computing/gitlab/components/python/type-checking@1
  - component: git.ligo.org/computing/gitlab/components/python/test@1
    inputs:
      install_extra: test
      python_versions:
        - "3.11"
        - "3.12"
        - "3.13"

flake8-code_quality:
  image: python:3.12

check_makefile:
  image: python:3.11
  stage: test
  script:
    - apt-get update
    - apt-get install make
    - pip3 install ".[dev]"
    - make all

[tool.poetry]
name = "agent-cover"
version = "0.1.1"
description = "Framework-agnostic coverage testing and observability tool for LLM Agents."
authors = ["Vittorio Mussin <vittorio.mussin@hotmail.it>"]
readme = "README.md"
license = "MIT"
repository = "https://github.com/vittoriomussin/agent-cover"
keywords = [
    # Core Domain
    "llm", "agent", "ai", "genai", "generative-ai",

    # Operations & Methodology (I nuovi arrivati)
    "llmops", "llm-ops", "genai-ops", "mlops", "devops-for-ai",

    # Functionality
    "testing", "coverage", "observability", "metrics", "quality-assurance", "qa",
    "evaluation", "evals", "prompt-engineering",

    # Specific Features
    "prompt-coverage", "tool-coverage", "decision-coverage",

    # Frameworks & Integrations
    "pytest", "plugin", "langchain", "llama-index", "promptflow", "openai", "promptflow-batch", "pf-run"
]
classifiers = [
    # Status
    "Development Status :: 3 - Alpha",

    # Audience
    "Intended Audience :: Developers",
    "Intended Audience :: Science/Research",
    "Intended Audience :: Information Technology",

    # License
    "License :: OSI Approved :: MIT License",

    # Topics (Fondamentali per la categorizzazione)
    "Topic :: Software Development :: Testing",
    "Topic :: Software Development :: Quality Assurance",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Topic :: Scientific/Engineering :: Artificial Intelligence",
    "Topic :: System :: Monitoring",

    # Environment
    "Operating System :: OS Independent",
    "Environment :: Console",
    "Environment :: Plugins",

    # Frameworks
    "Framework :: Pytest",

    # Python Support
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",

    # Typing
    "Typing :: Typed",
]
packages = [{include = "agent_cover", from = "src"}]

[tool.poetry.dependencies]
python = "^3.10"
# Core Dependencies
pyyaml = "^6.0"
packaging = "^23.0"
filelock = "^3.20.1"

# --- OPTIONAL INTEGRATIONS (Target Libraries) ---
langchain = { version = "^0.3.0", optional = true }
llama-index = { version = "^0.13", optional = true }
promptflow = { version = "^1.0.0", optional = true }
openai = { version = "^1.30.0", optional = true }

[tool.poetry.group.dev.dependencies]
pytest = "^8.0"
pytest-cov = "^4.1"
pytest-asyncio = "^0.23.0"
ruff = "^0.14.13"
mypy = "^1.19.1"
mkdocs-material = "^9.0"
mkdocstrings = {version = ">=0.26.1", extras = ["python"]}
mkdocs-gen-files = "^0.5.0"
mkdocs-autorefs = "^1.2.0"

# Extra dependencies for local integration tests
promptflow-tools = "^1.0"
langchain-openai = "^0.2.0"
mkdocs-literate-nav = "^0.6.2"
pre-commit = "<4.0.0"

[tool.poetry.extras]
langchain = ["langchain"]
llama-index = ["llama-index"]
promptflow = ["promptflow"]
openai = ["openai"]
all = ["langchain", "llama-index", "promptflow", "openai"]

# Plugin Pytest
[tool.poetry.plugins."pytest11"]
agent_cover = "agent_cover.plugin"

# CLI Scripts
[tool.poetry.scripts]
agent-cover = "agent_cover.cli:main"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

# TOOL CONFIGURATIONS

[tool.pytest.ini_options]
testpaths = ["tests"]
asyncio_mode = "auto"
markers = [
    "asyncio: mark test as async"
]

[tool.ruff]
line-length = 88
target-version = "py310"

[tool.ruff.lint]
select = ["E", "F", "I", "D"]
ignore = ["E501", "D100", "D104"]

[tool.ruff.lint.pydocstyle]
convention = "google"

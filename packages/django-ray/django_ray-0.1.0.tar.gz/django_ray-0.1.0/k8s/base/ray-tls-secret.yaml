# Ray TLS Certificate Secret
# This is a placeholder - in production, use cert-manager or external secrets
#
# To generate self-signed certificates for development:
#   ./scripts/generate-ray-tls-certs.sh
#
# For production, use cert-manager:
#   - Create a Certificate resource
#   - Reference the generated secret here
#
apiVersion: v1
kind: Secret
metadata:
  name: ray-tls-certs
  namespace: django-ray
  labels:
    app: ray
    component: tls
type: Opaque
# These will be populated by the cert generation script or cert-manager
# data:
#   ca.crt: <base64-encoded-ca-certificate>
#   tls.crt: <base64-encoded-server-certificate>
#   tls.key: <base64-encoded-private-key>
---
# ConfigMap for TLS configuration
apiVersion: v1
kind: ConfigMap
metadata:
  name: ray-tls-config
  namespace: django-ray
  labels:
    app: ray
    component: tls
data:
  # Enable TLS for Ray cluster communication
  RAY_USE_TLS: "1"
  # Path to certificates (mounted from secret)
  RAY_TLS_SERVER_CERT: "/etc/ray/tls/tls.crt"
  RAY_TLS_SERVER_KEY: "/etc/ray/tls/tls.key"
  RAY_TLS_CA_CERT: "/etc/ray/tls/ca.crt"


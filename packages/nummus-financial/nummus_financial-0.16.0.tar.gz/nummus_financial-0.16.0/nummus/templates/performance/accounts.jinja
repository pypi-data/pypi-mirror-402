<div
  id="performance-accounts"
  class="mx-auto grid w-full max-w-4xl grid-cols-[repeat(3,minmax(0,auto))_24px] gap-x-2 md:grid-cols-[repeat(6,minmax(0,auto))_24px]"
  hx-target="#main"
  hx-swap="innerHTML show:window:top"
  hx-swap-oob="{{ oob }}"
  hx-push-url="true"
>
  {% set cf = accounts.currency_format %}
  <div
    class="col-span-full grid grid-cols-subgrid py-1 pl-1 text-center font-bold"
  >
    <div>Name</div>
    <div class="max-md:hidden">Initial</div>
    <div class="max-md:hidden">Cash Flow</div>
    <div class="max-md:hidden">End Balance</div>
    <div>Return</div>
    <div>MWRR p.a.</div>
  </div>
  {% for account in accounts.accounts %}
    <a
      class="hover:bg-surface-container-high odd:bg-surface-container col-span-full grid grid-cols-subgrid rounded py-1 pl-1"
      href="{{ url_for('accounts.page', uri=account.uri) }}"
      hx-get="{{ url_for('accounts.page', uri=account.uri) }}"
      hx-disabled-elt="this"
    >
      <div>{{ account.name }}</div>
      <div class="text-right max-md:hidden">{{ cf(account.initial) }}</div>
      <div class="text-right max-md:hidden">{{ cf(account.cash_flow) }}</div>
      <div class="text-right max-md:hidden">{{ cf(account.end) }}</div>
      <div class="{{ account.pnl | pnl_color }} flex items-center justify-end">
        {{ cf(account.pnl | abs) }}
        <icon class="sm">{{ account.pnl | pnl_arrow }}</icon>
      </div>
      <div class="text-right">{{ account.mwrr | percent }}</div>
      <icon>chevron_right</icon>
    </a>
  {% endfor %}
  <div
    class="border-outline col-span-full grid grid-cols-subgrid border-t py-1 pl-1 font-bold"
  >
    <div>Total</div>
    <div class="text-right max-md:hidden">{{ cf(accounts.initial) }}</div>
    <div class="text-right max-md:hidden">{{ cf(accounts.cash_flow) }}</div>
    <div class="text-right max-md:hidden">{{ cf(accounts.end) }}</div>
    <div class="{{ accounts.pnl | pnl_color }} flex items-center justify-end">
      {{ cf(accounts.pnl | abs) }}
      <icon class="sm">{{ accounts.pnl | pnl_arrow }}</icon>
    </div>
    <div class="text-right">{{ accounts.mwrr | percent }}</div>
  </div>
</div>

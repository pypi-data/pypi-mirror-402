# ğŸ“¦ tar-fat32 ëª…ë ¹ì–´

> ğŸ’¡ **ë¹ ë¥¸ ì‹œì‘**: `cli-onprem tar-fat32 pack ./large-file --chunk-size 2G`

## ğŸ“‹ ëª©ì°¨

- [ê°œìš”](#ê°œìš”)
- [ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤](#ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤)
- [ì‚¬ìš©ë²•](#ì‚¬ìš©ë²•)
- [ì˜µì…˜](#ì˜µì…˜)
- [ì˜ˆì œ](#ì˜ˆì œ)
- [ê³ ê¸‰ ê¸°ëŠ¥](#ê³ ê¸‰-ê¸°ëŠ¥)
- [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)
- [ê´€ë ¨ ëª…ë ¹ì–´](#ê´€ë ¨-ëª…ë ¹ì–´)

## ê°œìš”

`tar-fat32` ëª…ë ¹ì–´ëŠ” FAT32 íŒŒì¼ ì‹œìŠ¤í…œì˜ 4GB í¬ê¸° ì œí•œì„ ìš°íšŒí•˜ì—¬ ëŒ€ìš©ëŸ‰ íŒŒì¼ì„ ë¶„í•  ì••ì¶•í•˜ê³  ë³µì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
SHA256 ë¬´ê²°ì„± ê²€ì¦ê³¼ ìë™ ë³µì› ìŠ¤í¬ë¦½íŠ¸ ìƒì„±ì„ í†µí•´ ì•ˆì „í•˜ê³  í¸ë¦¬í•œ íŒŒì¼ ì „ì†¡ì„ ì§€ì›í•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•

- âœ¨ **FAT32 í˜¸í™˜**: 4GB ì œí•œì„ ìš°íšŒí•˜ì—¬ ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬
- âœ¨ **SHA256 ë¬´ê²°ì„± ê²€ì¦**: ëª¨ë“  ì¡°ê°ì— ëŒ€í•œ ì²´í¬ì„¬ ìƒì„± ë° ê²€ì¦
- âœ¨ **ìë™ ë³µì› ìŠ¤í¬ë¦½íŠ¸**: ë³µì›ì„ ìœ„í•œ ë…ë¦½ì ì¸ ì…¸ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
- âœ¨ **ì§„í–‰ë¥  í‘œì‹œ**: ì••ì¶• ë° ë³µì› ê³¼ì • ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- âœ¨ **ìœ ì—°í•œ ì²­í¬ í¬ê¸°**: ìš©ë„ì— ë§ëŠ” ë¶„í•  í¬ê¸° ì„¤ì • ê°€ëŠ¥

## ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

ì´ ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤:

1. **FAT32 USB ì „ì†¡**: 4GB ì´ìƒ íŒŒì¼ì„ FAT32 USBë¡œ ì „ì†¡
2. **ì´ë©”ì¼ ì²¨ë¶€**: ëŒ€ìš©ëŸ‰ íŒŒì¼ì„ ì‘ì€ ì¡°ê°ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì „ì†¡
3. **ë„¤íŠ¸ì›Œí¬ ì „ì†¡**: ë¶ˆì•ˆì •í•œ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì¤‘ë‹¨ ì—†ëŠ” ì „ì†¡
4. **ë°±ì—… ë¶„í• **: ëŒ€ìš©ëŸ‰ ë°±ì—… íŒŒì¼ì„ ê´€ë¦¬ ê°€ëŠ¥í•œ í¬ê¸°ë¡œ ë¶„í• 

## ì‚¬ìš©ë²•

### ê¸°ë³¸ ë¬¸ë²•

```bash
cli-onprem tar-fat32 <command> <path> [OPTIONS]
```

### ë¹ ë¥¸ ì˜ˆì œ

```bash
# íŒŒì¼ ë¶„í•  ì••ì¶•
cli-onprem tar-fat32 pack ./movie.iso --chunk-size 2G

# íŒŒì¼ ë³µì›
cli-onprem tar-fat32 restore ./movie.iso.pack
```

## ì˜µì…˜

### í•˜ìœ„ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… | ìš©ë„ |
|--------|------|------|
| `pack` | íŒŒì¼/ë””ë ‰í† ë¦¬ë¥¼ ë¶„í•  ì••ì¶• | íŒŒì¼ ë¶„í•  |
| `restore` | ë¶„í• ëœ íŒŒì¼ ë³µì› | íŒŒì¼ ë³µì› |

### pack ëª…ë ¹ì–´ ì˜µì…˜

| ì˜µì…˜ | ì•½ì–´ | ì„¤ëª… | ê¸°ë³¸ê°’ | ì˜ˆì‹œ |
|------|------|------|--------|------|
| `--chunk-size` | `-c` | ë¶„í•  ì¡°ê° í¬ê¸° | `3G` | `--chunk-size 500M` |

### restore ëª…ë ¹ì–´ ì˜µì…˜

| ì˜µì…˜ | ì„¤ëª… | ê¸°ë³¸ê°’ | ìš©ë„ |
|------|------|--------|------|
| `--purge` | ë³µì› ì„±ê³µ ì‹œ .pack ë””ë ‰í† ë¦¬ ì‚­ì œ | `false` | ì •ë¦¬ |

## ì˜ˆì œ

### ğŸ¯ ê¸°ë³¸ ì‚¬ìš© ì˜ˆì œ

#### 1. pack - íŒŒì¼ ë¶„í•  ì••ì¶•

```bash
# ê¸°ë³¸ ë¶„í•  (3GB ì¡°ê°)
cli-onprem tar-fat32 pack large-database.sql
# ê²°ê³¼: large-database.sql.pack/ ë””ë ‰í† ë¦¬ ìƒì„±

# ì»¤ìŠ¤í…€ ì¡°ê° í¬ê¸° ì§€ì •
cli-onprem tar-fat32 pack ./project-backup --chunk-size 500M
# ê²°ê³¼: project-backup.pack/ ë””ë ‰í† ë¦¬ ìƒì„±

# FAT32 í˜¸í™˜ í¬ê¸° (2GB)
cli-onprem tar-fat32 pack movie.mkv --chunk-size 2G
# ê²°ê³¼: movie.mkv.pack/ ë””ë ‰í† ë¦¬ ìƒì„±
```

#### 2. restore - íŒŒì¼ ë³µì›

```bash
# ê¸°ë³¸ ë³µì›
cli-onprem tar-fat32 restore large-database.sql.pack
# ê²°ê³¼: large-database.sql íŒŒì¼ ë³µì›

# ë³µì› í›„ .pack ë””ë ‰í† ë¦¬ ì‚­ì œ
cli-onprem tar-fat32 restore project-backup.pack --purge
# ê²°ê³¼: project-backup ë³µì› í›„ .pack ë””ë ‰í† ë¦¬ ì œê±°
```

### ğŸš€ ì‹¤ë¬´ í™œìš© ì˜ˆì œ

#### 1. ëŒ€ìš©ëŸ‰ ë°±ì—… íŒŒì¼ ì²˜ë¦¬

```bash
# 10GB ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…ì„ 2GB ì¡°ê°ìœ¼ë¡œ ë¶„í• 
cli-onprem tar-fat32 pack db-backup-20250524.sql --chunk-size 2G

# ìƒì„±ëœ êµ¬ì¡°
ls -la db-backup-20250524.sql.pack/
# drwxr-xr-x  parts/
# -rw-r--r--  manifest.sha256
# -rw-r--r--  restore.sh
# -rw-r--r--  9876_MB

# USBì— ë³µì‚¬ í›„ ë‹¤ë¥¸ ì‹œìŠ¤í…œì—ì„œ ë³µì›
./db-backup-20250524.sql.pack/restore.sh --purge
```

#### 2. ë…ë¦½ì ì¸ ë³µì› ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©

```bash
# pack ìƒì„±
cli-onprem tar-fat32 pack ./important-data --chunk-size 1G

# ë‹¤ë¥¸ ì‹œìŠ¤í…œì—ì„œ CLI ë„êµ¬ ì—†ì´ ë³µì›
cd important-data.pack
./restore.sh

# ë˜ëŠ” ì •ë¦¬ì™€ í•¨ê»˜ ë³µì›
./restore.sh --purge
```

#### 3. ë°°ì¹˜ ì²˜ë¦¬ë¡œ ì—¬ëŸ¬ íŒŒì¼ ë¶„í• 

```bash
#!/bin/bash
# ì—¬ëŸ¬ íŒŒì¼ì„ ì¼ê´„ ë¶„í• 
FILES=("video1.mp4" "video2.mp4" "video3.mp4")

for file in "${FILES[@]}"; do
  echo "Processing $file..."
  cli-onprem tar-fat32 pack "$file" --chunk-size 2G
done

# ê²°ê³¼: video1.mp4.pack/, video2.mp4.pack/, video3.mp4.pack/ ìƒì„±
```

### ğŸ“ ì¶œë ¥ ì˜ˆì‹œ

**pack ëª…ë ¹ì–´ ì¶œë ¥**:
```
ğŸ“¦ Packing movie.iso with chunk size 2G...
ğŸ—œï¸  Compressing... [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% (8.2 GB)
âœ‚ï¸  Splitting into chunks... [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% (4 parts)
ğŸ” Generating SHA256 checksums... [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%
ğŸ“ Created: movie.iso.pack/
   â”œâ”€â”€ parts/ (4 files, 8.2 GB total)
   â”œâ”€â”€ manifest.sha256
   â”œâ”€â”€ restore.sh
   â””â”€â”€ 8234_MB
```

**restore ëª…ë ¹ì–´ ì¶œë ¥**:
```
ğŸ” Verifying integrity... [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%
âœ… All checksums verified
ğŸ”— Joining parts... [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%
ğŸ—œï¸  Decompressing... [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%
âœ… Restored: movie.iso (8.2 GB)
ğŸ§¹ Cleaned up temporary files
```

## ê³ ê¸‰ ê¸°ëŠ¥

### .pack ë””ë ‰í† ë¦¬ êµ¬ì¡°

ë¶„í•  í›„ ìƒì„±ë˜ëŠ” ë””ë ‰í† ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°–ìŠµë‹ˆë‹¤:

```
filename.pack/
â”œâ”€â”€ parts/          # ë¶„í• ëœ ì¡°ê° íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ 0000.part
â”‚   â”œâ”€â”€ 0001.part
â”‚   â”œâ”€â”€ 0002.part
â”‚   â””â”€â”€ 0003.part
â”œâ”€â”€ manifest.sha256 # SHA256 ì²´í¬ì„¬ ëª©ë¡
â”œâ”€â”€ restore.sh      # ë…ë¦½ì ì¸ ë³µì› ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ 8234_MB         # ì›ë³¸ íŒŒì¼ í¬ê¸° í‘œì‹œ (ë¹ˆ íŒŒì¼)
```

### SHA256 ë¬´ê²°ì„± ê²€ì¦

ê° ì¡°ê° íŒŒì¼ì— ëŒ€í•´ SHA256 í•´ì‹œê°€ ìƒì„±ë˜ì–´ manifest.sha256ì— ì €ì¥ë©ë‹ˆë‹¤:

```bash
# manifest.sha256 íŒŒì¼ ë‚´ìš© ì˜ˆì‹œ
a1b2c3d4e5f6...  parts/0000.part
f6e5d4c3b2a1...  parts/0001.part
1234567890ab...  parts/0002.part
abcdef123456...  parts/0003.part
```

ë³µì› ì‹œ ìë™ìœ¼ë¡œ ëª¨ë“  ì¡°ê°ì˜ ë¬´ê²°ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.

### ë…ë¦½ì ì¸ ë³µì› ìŠ¤í¬ë¦½íŠ¸

ìƒì„±ë˜ëŠ” restore.shëŠ” CLI ë„êµ¬ ì—†ì´ë„ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤:

```bash
#!/bin/bash
# ìë™ ìƒì„±ëœ ë³µì› ìŠ¤í¬ë¦½íŠ¸
# CLI-ONPREM ë„êµ¬ê°€ ì—†ì–´ë„ ì‹¤í–‰ ê°€ëŠ¥

# SHA256 ê²€ì¦
echo "ğŸ” Verifying integrity..."
sha256sum -c manifest.sha256 || exit 1

# íŒŒì¼ ê²°í•© ë° ì••ì¶• í•´ì œ
echo "ğŸ”— Restoring original file..."
cat parts/*.part | tar -xzf - -C ..

echo "âœ… Restoration completed"
```

### ì²­í¬ í¬ê¸° ê°€ì´ë“œ

ìš©ë„ì— ë”°ë¥¸ ê¶Œì¥ ì²­í¬ í¬ê¸°:

| ìš©ë„ | ê¶Œì¥ í¬ê¸° | ì´ìœ  |
|------|-----------|------|
| FAT32 USB | `2G` | FAT32ì˜ 4GB ì œí•œ ê³ ë ¤ |
| ì´ë©”ì¼ ì²¨ë¶€ | `25M` | ëŒ€ë¶€ë¶„ ë©”ì¼ ì„œë¹„ìŠ¤ ì œí•œ |
| ë„¤íŠ¸ì›Œí¬ ì „ì†¡ | `500M-1G` | ì¬ì „ì†¡ ë¶€ë‹´ ìµœì†Œí™” |
| DVD ë°±ì—… | `4.3G` | DVD ìš©ëŸ‰ ìµœëŒ€ í™œìš© |

## ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

#### âŒ ì˜¤ë¥˜: `No space left on device`

**ì›ì¸**: ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±

**í•´ê²° ë°©ë²•**:
```bash
# ë””ìŠ¤í¬ ìš©ëŸ‰ í™•ì¸
df -h

# ë‹¤ë¥¸ ìœ„ì¹˜ì—ì„œ ì‹¤í–‰í•˜ê±°ë‚˜ ë¶ˆí•„ìš”í•œ íŒŒì¼ ì •ë¦¬
rm -rf /tmp/large-files
cli-onprem tar-fat32 pack ./data --chunk-size 1G
```

#### âŒ ì˜¤ë¥˜: `SHA256 verification failed`

**ì›ì¸**: íŒŒì¼ ì „ì†¡ ì¤‘ ì†ìƒ ë°œìƒ

**í•´ê²° ë°©ë²•**:
1. ì†ìƒëœ ì¡°ê° íŒŒì¼ ì¬ì „ì†¡
2. manifest.sha256ì™€ ë¹„êµí•˜ì—¬ ì†ìƒëœ íŒŒì¼ í™•ì¸
3. ì›ë³¸ì—ì„œ í•´ë‹¹ ì¡°ê°ë§Œ ë‹¤ì‹œ ë³µì‚¬

#### âŒ ì˜¤ë¥˜: `Output directory already exists`

**ì›ì¸**: ë™ì¼í•œ ì´ë¦„ì˜ .pack ë””ë ‰í† ë¦¬ê°€ ì´ë¯¸ ì¡´ì¬

**í•´ê²° ë°©ë²•**:
```bash
# ê¸°ì¡´ ë””ë ‰í† ë¦¬ ì œê±° í›„ ì¬ì‹¤í–‰
rm -rf filename.pack
cli-onprem tar-fat32 pack filename
```

### ë””ë²„ê¹… íŒ

- ğŸ’¡ ë¬´ê²°ì„± ê²€ì¦ì€ restore.shì—ì„œë„ ìë™ ìˆ˜í–‰
- ğŸ’¡ ë¶€ë¶„ì ìœ¼ë¡œ ì†ìƒëœ ê²½ìš° í•´ë‹¹ ì¡°ê°ë§Œ ì¬ì „ì†¡ ê°€ëŠ¥
- ğŸ’¡ í¬ê¸° í‘œì‹œ íŒŒì¼(ì˜ˆ: 8234_MB)ë¡œ ì›ë³¸ í¬ê¸° í™•ì¸

## ê´€ë ¨ ëª…ë ¹ì–´

- ğŸ“Œ [`docker-tar`](./docker_tar.md) - Docker ì´ë¯¸ì§€ë¥¼ tarë¡œ ì €ì¥ í›„ ë¶„í• 
- ğŸ“Œ [`s3-share`](./s3-share.md) - ë¶„í• ëœ íŒŒì¼ì„ S3ë¡œ ì—…ë¡œë“œ
- ğŸ“Œ [`helm-local`](./helm-local.md) - Helm ì°¨íŠ¸ë¥¼ ë¶„í• í•˜ì—¬ ì „ì†¡

---

<details>
<summary>ğŸ“š ì¶”ê°€ ì°¸ê³  ìë£Œ</summary>

- [FAT32 íŒŒì¼ ì‹œìŠ¤í…œ ì œí•œì‚¬í•­](https://en.wikipedia.org/wiki/File_Allocation_Table#FAT32)
- [SHA256 í•´ì‹œ ì•Œê³ ë¦¬ì¦˜](https://en.wikipedia.org/wiki/SHA-2)
- [GNU tar ì••ì¶• ì˜µì…˜](https://www.gnu.org/software/tar/manual/tar.html)

</details>

<details>
<summary>ğŸ”„ ë³€ê²½ ì´ë ¥</summary>

- v0.11.0: ë³µì› ìŠ¤í¬ë¦½íŠ¸ ê°œì„ , ì§„í–‰ë¥  í‘œì‹œ ì¶”ê°€
- v0.10.0: SHA256 ë¬´ê²°ì„± ê²€ì¦ ê°•í™”, ìë™ ì •ë¦¬ ê¸°ëŠ¥ ì¶”ê°€
- v0.9.0: ì´ˆê¸° ë¦´ë¦¬ì¦ˆ

</details>
"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["50895"],{23528:function(t,e,n){n.a(t,async function(t,r){try{n.d(e,{$3:function(){return y},$O:function(){return A},$j:function(){return v},ED:function(){return c},JE:function(){return I},OQ:function(){return M},PU:function(){return E},Ph:function(){return g},Uf:function(){return O},W1:function(){return m},Wr:function(){return h},Z:function(){return l},gF:function(){return C},iY:function(){return k},jU:function(){return u},nN:function(){return w},p3:function(){return _},pJ:function(){return p},r_:function(){return d},sz:function(){return f}});var i=n(31432),a=(n(74423),n(18111),n(13579),n(69085),n(26099),n(21699),n(28978)),o=n(380),s=t([o]);o=(s.then?(await s)():s)[0];var c=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({}),u=["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"],d=["L","gal","ft³","m³","CCF","MCF"],l=function(t){return t.sendMessagePromise({type:"recorder/info"})},_=function(t,e){return t.callWS({type:"recorder/list_statistic_ids",statistic_type:e})},h=function(t,e){return t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:e})},f=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"hour",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return t.callWS({type:"recorder/statistics_during_period",start_time:e.toISOString(),end_time:null==n?void 0:n.toISOString(),statistic_ids:r,period:i,units:a,types:o})},p=function(t,e,n,r){return t.callWS({type:"recorder/statistic_during_period",statistic_id:e,units:r,fixed_period:n.fixed_period?{start_time:n.fixed_period.start instanceof Date?n.fixed_period.start.toISOString():n.fixed_period.start,end_time:n.fixed_period.end instanceof Date?n.fixed_period.end.toISOString():n.fixed_period.end}:void 0,calendar:n.calendar?Object.assign(Object.assign({},"week"===n.calendar.period?{first_weekday:(0,o.D)(t.locale).substring(0,3)}:{}),n.calendar):void 0,rolling_window:n.rolling_window})},g=function(t){return t.callWS({type:"recorder/validate_statistics"})},m=function(t,e,n,r){return t.callWS({type:"recorder/update_statistics_metadata",statistic_id:e,unit_of_measurement:n,unit_class:r})},y=function(t,e){return t.callWS({type:"recorder/clear_statistics",statistic_ids:e})},v=function(t){var e=null;if(!t)return null;var n,r=(0,i.A)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;null!==a.change&&void 0!==a.change&&(null===e?e=a.change:e+=a.change)}}catch(o){r.e(o)}finally{r.f()}return e},C=function(t,e){var n,r=null,a=(0,i.A)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o in t){var s=v(t[o]);null!==s&&(null===r?r=s:r+=s)}}}catch(c){a.e(c)}finally{a.f()}return r},k=function(t,e){return t.some(function(t){return void 0!==t[e]&&null!==t[e]})},S=["mean","min","max"],b=["sum","state","change"],w=function(t,e){return!(!S.includes(e)||0===t.mean_type)||!(!b.includes(e)||!t.has_sum)},O=function(t,e,n,r,i){var a=new Date(n).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:e,start_time:a,adjustment:r,adjustment_unit_of_measurement:i})},A=function(t,e,n){var r=t.states[e];return r?(0,a.u)(r):(null==n?void 0:n.name)||e},I=function(t,e,n){var r,i;e&&(r=null===(i=t.states[e])||void 0===i?void 0:i.attributes.unit_of_measurement);return void 0===r?null==n?void 0:n.statistics_unit_of_measurement:r},M=function(t){return t.includes(":")},E=function(t){return t.callWS({type:"recorder/update_statistics_issues"})};r()}catch(W){r(W)}})},62284:function(t,e,n){n.a(t,async function(t,r){try{n.r(e),n.d(e,{HuiEnergyCompareCard:function(){return w}});var i,a,o,s=n(72153),c=n(44734),u=n(43080),d=n(69683),l=n(6454),_=(n(28706),n(40445)),h=n(6946),f=n(73983),p=n(96196),g=n(77845),m=n(72487),y=n(38114),v=n(54706),C=n(784),k=(n(38962),n(1087)),S=n(14503),b=t([m,y]);[m,y]=b.then?(await b)():b;var w=function(t){function e(){var t;(0,c.A)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=(0,d.A)(this,e,[].concat(r))).hidden=!0,t.connectedWhileHidden=!0,t.hassSubscribeRequiredHostProps=["_config"],t}return(0,l.A)(e,t),(0,u.A)(e,[{key:"getCardSize",value:function(){return 1}},{key:"setConfig",value:function(t){this._config=t}},{key:"hassSubscribe",value:function(){var t=this;return[(0,y.tb)(this.hass,{key:this._config.collection_key}).subscribe(function(e){return t._update(e)})]}},{key:"shouldUpdate",value:function(t){return(0,C.xP)(this,t)||t.size>1||!t.has("hass")}},{key:"render",value:function(){if(!this._startCompare||!this._endCompare)return p.s6;var t=(0,h.c)(this._endCompare,this._startCompare);return(0,p.qy)(i||(i=(0,s.A)([' <ha-alert dismissable @alert-dismissed-clicked="','"> '," </ha-alert> "])),this._stopCompare,this.hass.localize("ui.panel.lovelace.cards.energy.energy_compare.info",{start:(0,p.qy)(a||(a=(0,s.A)(["<b>","","</b>"])),(0,m.Yq)(this._start,this.hass.locale,this.hass.config),t>0?" -\n          ".concat((0,m.Yq)(this._end||(0,f.D)(new Date),this.hass.locale,this.hass.config)):""),end:(0,p.qy)(o||(o=(0,s.A)(["<b>","",'</b> <button class="link" @click="','"> (',") </button>"])),(0,m.Yq)(this._startCompare,this.hass.locale,this.hass.config),t>0?" -\n          ".concat((0,m.Yq)(this._endCompare,this.hass.locale,this.hass.config)):"",this._changeCompareMode,this._compareMode===y.lh.PREVIOUS?this.hass.localize("ui.panel.lovelace.cards.energy.energy_compare.compare_previous_year"):this.hass.localize("ui.panel.lovelace.cards.energy.energy_compare.compare_previous_period"))}))}},{key:"_changeCompareMode",value:function(){var t=(0,y.tb)(this.hass,{key:this._config.collection_key});t.setCompare(this._compareMode===y.lh.PREVIOUS?y.lh.YOY:y.lh.PREVIOUS),t.refresh()}},{key:"_update",value:function(t){this._start=t.start,this._end=t.end,this._startCompare=t.startCompare,this._endCompare=t.endCompare,this._compareMode=t.compareMode;var e=this.hidden;this.hidden=!this._startCompare,e!==this.hidden&&(0,k.r)(this,"card-visibility-changed")}},{key:"_stopCompare",value:function(){var t=(0,y.tb)(this.hass,{key:this._config.collection_key});t.setCompare(y.lh.NONE),t.refresh()}}])}((0,v.E)(p.WF));w.styles=[S.og],(0,_.Cg)([(0,g.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,_.Cg)([(0,g.wk)()],w.prototype,"_config",void 0),(0,_.Cg)([(0,g.wk)()],w.prototype,"_start",void 0),(0,_.Cg)([(0,g.wk)()],w.prototype,"_end",void 0),(0,_.Cg)([(0,g.wk)()],w.prototype,"_startCompare",void 0),(0,_.Cg)([(0,g.wk)()],w.prototype,"_endCompare",void 0),(0,_.Cg)([(0,g.wk)()],w.prototype,"_compareMode",void 0),(0,_.Cg)([(0,g.MZ)({type:Boolean,reflect:!0})],w.prototype,"hidden",void 0),w=(0,_.Cg)([(0,g.EM)("hui-energy-compare-card")],w),r()}catch(O){r(O)}})},56434:function(t,e,n){n.d(e,{e:function(){return i}});var r=n(81977);function i(t,e,n){return(0,r.P)(t,12*e,n)}}}]);
//# sourceMappingURL=50895.651554ff8514f796.js.map
"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["58612"],{91069:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{EO:function(){return w},Yq:function(){return A},_U:function(){return x},eE:function(){return k},fU:function(){return C},ol:function(){return y},xo:function(){return b}});var a=n(78016),r=n(31810),o=n(49134),c=n(81977),s=n(36307),u=n(35932),l=n(73983),d=n(6946),f=n(92913),p=n(83339),h=n(77972),g=n(31886),v=n(46927),_=t([g]);g=(_.then?(await _)():_)[0];var m=function(t,e,n,i){var a=n(new g.BB(t,e),i);return a instanceof Date?new Date(a.getTime()):a},y=function(t,e,n,i,a){return n.time_zone===v.Wj.server?m(t,i.time_zone,e,a):e(t,a)},b=function(t,e,n,i,a){return n.time_zone===v.Wj.server?m(t,i.time_zone,e,a):e(t,a)},w=function(t,e,n,i,a){return b(t,n,i,a,i.time_zone===v.Wj.server?new g.BB(e,a.time_zone):e)},k=function(t,e,n,i,g){var v,_;if(b(t,a.e,i,g)&&b(e,r.c,i,g)){var m=(w(e,t,o.W,i,g)+1)*(n?1:-1);v=y(t,c.P,i,g,m),_=y(y(e,c.P,i,g,m),s.p,i,g)}else if(b(t,function(t){return(0,u.o)(t).getMilliseconds()===t.getMilliseconds()},i,g)&&b(e,function(t){return(0,l.D)(t).getMilliseconds()===t.getMilliseconds()},i,g)){var k=(w(e,t,d.c,i,g)+1)*(n?1:-1);v=y(t,f.f,i,g,k),_=y(e,f.f,i,g,k)}else{var x=w(e,t,p.b,i,g)*(n?1:-1);v=y(t,h.A,i,g,x),_=y(e,h.A,i,g,x)}return{start:v,end:_}},x=function(t,e){var n=new g.BB(t,e);return new Date(n.getTime())},A=function(t,e){return new g.BB(t,e).toISOString().split("T")[0]},C=function(t,e){return new g.BB(t,e).toISOString().split("T")[1].split(".")[0]};i()}catch(M){i(M)}})},46223:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{b:function(){return w}});var a=n(35932),r=n(73983),o=n(92913),c=n(52640),s=n(69137),u=n(35660),l=n(36307),d=n(11650),f=n(15797),p=n(33977),h=n(69748),g=n(55144),v=n(21828),_=n(66708),m=n(91069),y=n(380),b=t([y,m]);[y,m]=b.then?(await b)():b;var w=function(t,e){var n=new Date,i=(0,y.P)(t.locale);switch(e){case"today":return[(0,m.ol)(n,a.o,t.locale,t.config,{weekStartsOn:i}),(0,m.ol)(n,r.D,t.locale,t.config,{weekStartsOn:i})];case"yesterday":return[(0,m.ol)((0,o.f)(n,-1),a.o,t.locale,t.config,{weekStartsOn:i}),(0,m.ol)((0,o.f)(n,-1),r.D,t.locale,t.config,{weekStartsOn:i})];case"this_week":return[(0,m.ol)(n,c.k,t.locale,t.config,{weekStartsOn:i}),(0,m.ol)(n,s.$,t.locale,t.config,{weekStartsOn:i})];case"this_month":return[(0,m.ol)(n,u.w,t.locale,t.config),(0,m.ol)(n,l.p,t.locale,t.config)];case"this_quarter":return[(0,m.ol)(n,d.a,t.locale,t.config),(0,m.ol)(n,f.j,t.locale,t.config)];case"this_year":return[(0,m.ol)(n,p.D,t.locale,t.config),(0,m.ol)(n,h.Q,t.locale,t.config)];case"now-7d":return[(0,m.ol)(n,g.e,t.locale,t.config,7),(0,m.ol)(n,g.e,t.locale,t.config,0)];case"now-30d":return[(0,m.ol)(n,g.e,t.locale,t.config,30),(0,m.ol)(n,g.e,t.locale,t.config,0)];case"now-12m":return[(0,m.ol)((0,v.a)(n,12),u.w,t.locale,t.config),(0,m.ol)((0,v.a)(n,1),l.p,t.locale,t.config)];case"now-1h":return[(0,m.ol)(n,_.O,t.locale,t.config,1),(0,m.ol)(n,_.O,t.locale,t.config,0)];case"now-12h":return[(0,m.ol)(n,_.O,t.locale,t.config,12),(0,m.ol)(n,_.O,t.locale,t.config,0)];case"now-24h":return[(0,m.ol)(n,_.O,t.locale,t.config,24),(0,m.ol)(n,_.O,t.locale,t.config,0)]}return[n,n]};i()}catch(k){i(k)}})},98975:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{K:function(){return u}});var a=n(74487),r=n(22786),o=n(63927),c=t([a,o]);[a,o]=c.then?(await c)():c;var s=(0,r.A)(function(t){return new Intl.RelativeTimeFormat(t.language,{numeric:"auto"})}),u=function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=(0,o.x)(t,n,e);return i?s(e).format(a.value,a.unit):Intl.NumberFormat(e.language,{style:"unit",unit:a.unit,unitDisplay:"long"}).format(Math.abs(a.value))};i()}catch(l){i(l)}})},26218:function(t,e,n){n.d(e,{a:function(){return r}});var i=n(47075),a=(n(16280),n(69085),n(83851),(0,n(77796).n)(function(t){history.replaceState({scrollPosition:t},"")},300));function r(t){return function(e,n){if("object"===(0,i.A)(n))throw new Error("This decorator does not support this compilation type.");var r=e.connectedCallback;e.connectedCallback=function(){var e=this;r.call(this);var i=this[n];i&&this.updateComplete.then(function(){var n=e.renderRoot.querySelector(t);n&&setTimeout(function(){n.scrollTop=i},0)})};var o,c=Object.getOwnPropertyDescriptor(e,n);if(void 0===c)o={get:function(){var t;return this["__".concat(String(n))]||(null===(t=history.state)||void 0===t?void 0:t.scrollPosition)},set:function(t){a(t),this["__".concat(String(n))]=t},configurable:!0,enumerable:!0};else{var s=c.set;o=Object.assign(Object.assign({},c),{},{set:function(t){a(t),this["__".concat(String(n))]=t,null==s||s.call(this,t)}})}Object.defineProperty(e,n,o)}}},15090:function(t,e,n){n.d(e,{n:function(){return d},v:function(){return u}});var i=n(78261),a=n(7739),r=(n(2008),n(23792),n(62062),n(44114),n(26910),n(18111),n(22489),n(61701),n(5506),n(26099),n(31415),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(47764),n(62953),n(22675)),o=n(52220),c=n(71727),s=n(69093),u={alarm_control_panel:["armed_away","armed_custom_bypass","armed_home","armed_night","armed_vacation","arming","disarmed","disarming","pending","triggered"],alert:["on","off","idle"],assist_satellite:["idle","listening","responding","processing"],automation:["on","off"],binary_sensor:["on","off"],button:[],calendar:["on","off"],camera:["idle","recording","streaming"],cover:["closed","closing","open","opening"],device_tracker:["home","not_home"],fan:["on","off"],humidifier:["on","off"],input_boolean:["on","off"],input_button:[],lawn_mower:["error","paused","mowing","returning","docked"],light:["on","off"],lock:["jammed","locked","locking","unlocked","unlocking","opening","open"],media_player:["off","on","idle","playing","paused","standby","buffering"],person:["home","not_home"],plant:["ok","problem"],remote:["on","off"],scene:[],schedule:["on","off"],script:["on","off"],siren:["on","off"],sun:["above_horizon","below_horizon"],switch:["on","off"],timer:["active","idle","paused"],update:["on","off"],vacuum:["cleaning","docked","error","idle","paused","returning"],valve:["closed","closing","open","opening"],weather:["clear-night","cloudy","exceptional","fog","hail","lightning-rainy","lightning","partlycloudy","pouring","rainy","snowy-rainy","snowy","sunny","windy-variant","windy"]},l={alarm_control_panel:{code_format:["number","text"]},binary_sensor:{device_class:["battery","battery_charging","co","cold","connectivity","door","garage_door","gas","heat","light","lock","moisture","motion","moving","occupancy","opening","plug","power","presence","problem","running","safety","smoke","sound","tamper","update","vibration","window"]},button:{device_class:["restart","update"]},camera:{frontend_stream_type:["hls","web_rtc"]},climate:{hvac_action:["off","idle","preheating","defrosting","heating","cooling","drying","fan"]},cover:{device_class:["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]},device_tracker:{source_type:["bluetooth","bluetooth_le","gps","router"]},fan:{direction:["forward","reverse"]},humidifier:{device_class:["humidifier","dehumidifier"],action:["off","idle","humidifying","drying"]},media_player:{device_class:["tv","speaker","receiver"],media_content_type:["album","app","artist","channel","channels","composer","contributing_artist","episode","game","genre","image","movie","music","playlist","podcast","season","track","tvshow","url","video"],repeat:["off","one","all"]},number:{device_class:["temperature"]},sensor:{device_class:["apparent_power","aqi","battery","carbon_dioxide","carbon_monoxide","current","date","duration","energy","frequency","gas","humidity","illuminance","monetary","nitrogen_dioxide","nitrogen_monoxide","nitrous_oxide","ozone","ph","pm1","pm10","pm25","pm4","power_factor","power","pressure","reactive_power","signal_strength","sulphur_dioxide","temperature","timestamp","volatile_organic_compounds","volatile_organic_compounds_parts","voltage","volume_flow_rate"],state_class:["measurement","total","total_increasing"]},switch:{device_class:["outlet","switch"]},update:{device_class:["firmware"]},water_heater:{away_mode:["on","off"]}},d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=(0,s.t)(e),f=[];switch(!n&&d in u?f.push.apply(f,(0,a.A)(u[d])):n&&d in l&&n in l[d]&&f.push.apply(f,(0,a.A)(l[d][n])),d){case"climate":n?"fan_mode"===n?f.push.apply(f,(0,a.A)(e.attributes.fan_modes)):"preset_mode"===n?f.push.apply(f,(0,a.A)(e.attributes.preset_modes)):"swing_mode"===n&&f.push.apply(f,(0,a.A)(e.attributes.swing_modes)):f.push.apply(f,(0,a.A)(e.attributes.hvac_modes));break;case"device_tracker":case"person":n||f.push.apply(f,(0,a.A)(Object.entries(t.states).filter(function(t){var e=(0,i.A)(t,2),n=e[0],a=e[1];return"zone"===(0,c.m)(n)&&"zone.home"!==n&&a.attributes.friendly_name}).map(function(t){var e=(0,i.A)(t,2);e[0];return e[1].attributes.friendly_name}).sort(function(e,n){return(0,o.xL)(e,n,t.locale.language)})));break;case"event":"event_type"===n&&f.push.apply(f,(0,a.A)(e.attributes.event_types));break;case"fan":"preset_mode"===n&&f.push.apply(f,(0,a.A)(e.attributes.preset_modes));break;case"humidifier":"mode"===n&&f.push.apply(f,(0,a.A)(e.attributes.available_modes));break;case"input_select":case"select":n||f.push.apply(f,(0,a.A)(e.attributes.options));break;case"light":"effect"===n&&e.attributes.effect_list?f.push.apply(f,(0,a.A)(e.attributes.effect_list)):"color_mode"===n&&e.attributes.supported_color_modes&&f.push.apply(f,(0,a.A)(e.attributes.supported_color_modes));break;case"media_player":"sound_mode"===n?f.push.apply(f,(0,a.A)(e.attributes.sound_mode_list)):"source"===n&&f.push.apply(f,(0,a.A)(e.attributes.source_list));break;case"remote":"current_activity"===n&&f.push.apply(f,(0,a.A)(e.attributes.activity_list));break;case"sensor":n||"enum"!==e.attributes.device_class||f.push.apply(f,(0,a.A)(e.attributes.options));break;case"vacuum":"fan_speed"===n&&f.push.apply(f,(0,a.A)(e.attributes.fan_speed_list));break;case"water_heater":n&&"operation_mode"!==n||f.push.apply(f,(0,a.A)(e.attributes.operation_list))}return n||f.push.apply(f,(0,a.A)(r.s7)),(0,a.A)(new Set(f))}},52943:function(t,e,n){n.d(e,{Z:function(){return i}});n(34782);var i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},34470:function(t,e,n){n.d(e,{E:function(){return r}});var i,a=n(72153),r=(0,n(96196).AH)(i||(i=(0,a.A)(["ha-state-icon[data-domain=alarm_control_panel][data-state=arming],ha-state-icon[data-domain=alarm_control_panel][data-state=pending],ha-state-icon[data-domain=alarm_control_panel][data-state=triggered],ha-state-icon[data-domain=lock][data-state=jammed]{animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:0}100%{opacity:1}}ha-state-icon[data-state=unavailable]{color:var(--state-unavailable-color)}"])))},22533:function(t,e,n){n.d(e,{i:function(){return a}});var i=n(52943),a=function(t,e){return function(t){switch(t){case"de":case"lb":return!0;default:return!1}}(e)?(0,i.Z)(t):t.toLocaleLowerCase(e)}},51758:function(t,e,n){n.d(e,{Z:function(){return i}});var i=function(t){var e=window.location.pathname;return t?e+"?"+t:e}},63927:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{x:function(){return h}});n(69085);var a=n(6946),r=n(52640),o=n(38684),c=n(380),s=t([c]);c=(s.then?(await s)():s)[0];var u=1e3,l=60,d=60*l;function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=Object.assign(Object.assign({},f),i||{}),p=(+t-+e)/u;if(Math.abs(p)<s.second)return{value:Math.round(p),unit:"second"};var h=p/l;if(Math.abs(h)<s.minute)return{value:Math.round(h),unit:"minute"};var g=p/d;if(Math.abs(g)<s.hour)return{value:Math.round(g),unit:"hour"};var v=new Date(t),_=new Date(e);v.setHours(0,0,0,0),_.setHours(0,0,0,0);var m=(0,a.c)(v,_);if(0===m)return{value:Math.round(g),unit:"hour"};if(Math.abs(m)<s.day)return{value:m,unit:"day"};var y=(0,c.P)(n),b=(0,r.k)(v,{weekStartsOn:y}),w=(0,r.k)(_,{weekStartsOn:y}),k=(0,o.I)(b,w);if(0===k)return{value:m,unit:"day"};if(Math.abs(k)<s.week)return{value:k,unit:"week"};var x=v.getFullYear()-_.getFullYear(),A=12*x+v.getMonth()-_.getMonth();return 0===A?{value:k,unit:"week"}:Math.abs(A)<s.month||0===x?{value:A,unit:"month"}:{value:Math.round(x),unit:"year"}}var f={second:59,minute:59,hour:22,day:5,week:4,month:11};i()}catch(p){i(p)}})},3931:function(t,e,n){n.d(e,{U:function(){return r}});var i=n(61397),a=n(50264),r=(n(28706),function(){var t=(0,a.A)((0,i.A)().m(function t(e,n,a,r,o){var c,s,u,l,d,f,p=arguments;return(0,i.A)().w(function(t){for(;;)switch(t.n){case 0:if((c=r[e])||(c=r[e]={}),!(s=c[o])){t.n=1;break}return t.a(2,s);case 1:for(u=p.length,l=new Array(u>5?u-5:0),d=5;d<u;d++)l[d-5]=p[d];return f=a.apply(void 0,[r,o].concat(l)),c[o]=f,f.then(function(){return setTimeout(function(){c[o]=void 0},n)},function(){c[o]=void 0}),t.a(2,f)}},t)}));return function(e,n,i,a,r){return t.apply(this,arguments)}}())},74281:function(t,e,n){n.a(t,async function(t,e){try{var i,a,r,o=n(47075),c=n(72153),s=n(44734),u=n(43080),l=n(69683),d=n(6454),f=n(25460),p=(n(28706),n(23792),n(62062),n(18111),n(7588),n(36033),n(26099),n(47764),n(23500),n(62953),n(40445)),h=n(96196),g=n(77845),v=n(32288),_=n(6415),m=n(71727),y=n(69093),b=n(27120),w=n(34470),k=n(10897),x=n(38279),A=n(24367),C=n(93367),M=t([C]);C=(M.then?(await M)():M)[0];var O=function(t){function e(){var t;(0,s.A)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,l.A)(this,e,[].concat(i))).icon=!0,t._iconStyle={},t}return(0,d.A)(e,t),(0,u.A)(e,[{key:"connectedCallback",value:function(){var t,n;(0,f.A)(e,"connectedCallback",this,3)([]),this.hasUpdated&&void 0===this.overrideImage&&(null!==(t=this.stateObj)&&void 0!==t&&t.attributes.entity_picture||null!==(n=this.stateObj)&&void 0!==n&&n.attributes.entity_picture_local)&&this.requestUpdate("stateObj")}},{key:"disconnectedCallback",value:function(){var t,n;(0,f.A)(e,"disconnectedCallback",this,3)([]),void 0===this.overrideImage&&(null!==(t=this.stateObj)&&void 0!==t&&t.attributes.entity_picture||null!==(n=this.stateObj)&&void 0!==n&&n.attributes.entity_picture_local)&&(this.style.backgroundImage="")}},{key:"_stateColor",get:function(){var t,e=this.stateObj?(0,y.t)(this.stateObj):void 0;return null!==(t=this.stateColor)&&void 0!==t?t:"light"===e}},{key:"render",value:function(){var t=this,e=this.stateObj;if(!e&&!this.overrideIcon&&!this.overrideImage)return(0,h.qy)(i||(i=(0,c.A)(['<div class="missing"> <ha-svg-icon .path="','"></ha-svg-icon> </div>'])),"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z");var n=this.getClass();if(n&&n.forEach(function(e,n){e?t.classList.add(n):t.classList.remove(n)}),!this.icon)return h.s6;var r=e?(0,y.t)(e):void 0;return(0,h.qy)(a||(a=(0,c.A)(['<ha-state-icon .hass="','" style="','" data-domain="','" data-state="','" .icon="','" .stateObj="','"></ha-state-icon>'])),this.hass,(0,_.W)(this._iconStyle),(0,v.J)(r),(0,v.J)(null==e?void 0:e.state),this.overrideIcon,e)}},{key:"willUpdate",value:function(t){if((0,f.A)(e,"willUpdate",this,3)([t]),t.has("stateObj")||t.has("overrideImage")||t.has("overrideIcon")||t.has("stateColor")||t.has("color")){var n=this.stateObj,i={},a="";if(this.icon=!0,n){var r=(0,m.m)(n.entity_id);if(void 0===this.overrideImage)if(!n.attributes.entity_picture_local&&!n.attributes.entity_picture||this.overrideIcon){if(this.color)i.color=this.color;else if(this._stateColor){var c=(0,b.Se)(n);c&&(i.color=c);var s=(0,A.zJ)(n,"state-badge");if(n.attributes.rgb_color&&!s&&(i.color="rgb(".concat(n.attributes.rgb_color.join(","),")")),n.attributes.brightness){var u=n.attributes.brightness;if("number"!=typeof u){var l="Type error: state-badge expected number, but type of ".concat(n.entity_id,".attributes.brightness is ").concat((0,o.A)(u)," (").concat(u,")");console.warn(l)}i.filter=(0,b.mT)(n)}if(n.attributes.hvac_action){var d=n.attributes.hvac_action;d in x.sx?i.color=(0,b.Se)(n,x.sx[d]):delete i.color}}}else{var p=n.attributes.entity_picture_local||n.attributes.entity_picture;this.hass&&(p=this.hass.hassUrl(p)),"camera"===r&&(p=(0,k.su)(p,80,80)),a="url(".concat(p,")"),this.icon=!1}else if(this.overrideImage){var h=this.overrideImage;this.hass&&(h=this.hass.hassUrl(h)),a="url(".concat(h,")"),this.icon=!1}}this._iconStyle=i,this.style.backgroundImage=a}}},{key:"getClass",value:function(){var t=new Map(["has-no-radius","has-media-image","has-image"].map(function(t){return[t,!1]}));if(this.stateObj){var e=(0,m.m)(this.stateObj.entity_id);"update"===e?t.set("has-no-radius",!0):"media_player"===e||"camera"===e?t.set("has-media-image",!0):""!==this.style.backgroundImage&&t.set("has-image",!0)}return t}}],[{key:"styles",get:function(){return[w.E,(0,h.AH)(r||(r=(0,c.A)([":host{position:relative;display:inline-flex;width:40px;color:var(--state-icon-color);border-radius:var(--state-badge-border-radius,50%);height:40px;background-size:cover;box-sizing:border-box;--state-inactive-color:initial;align-items:center;justify-content:center}:host(.has-image){border-radius:var(--state-badge-with-image-border-radius,50%)}:host(.has-media-image){border-radius:var(--state-badge-with-media-image-border-radius,8%)}:host(.has-no-radius){border-radius:var(--ha-border-radius-square)}:host(:focus){outline:0}:host(:not([icon]):focus){border:2px solid var(--divider-color)}:host([icon]:focus){background:var(--divider-color)}ha-state-icon{transition:color .3s ease-in-out,filter .3s ease-in-out}.missing{color:#fce588}"])))]}}])}(h.WF);(0,p.Cg)([(0,g.MZ)({attribute:!1})],O.prototype,"stateObj",void 0),(0,p.Cg)([(0,g.MZ)({attribute:!1})],O.prototype,"overrideIcon",void 0),(0,p.Cg)([(0,g.MZ)({attribute:!1})],O.prototype,"overrideImage",void 0),(0,p.Cg)([(0,g.MZ)({attribute:!1})],O.prototype,"stateColor",void 0),(0,p.Cg)([(0,g.MZ)()],O.prototype,"color",void 0),(0,p.Cg)([(0,g.MZ)({type:Boolean,reflect:!0})],O.prototype,"icon",void 0),(0,p.Cg)([(0,g.wk)()],O.prototype,"_iconStyle",void 0),O=(0,p.Cg)([(0,g.EM)("state-badge")],O),e()}catch(j){e(j)}})},90248:function(t,e,n){n.r(e),n.d(e,{HaIconButtonArrowPrev:function(){return p}});var i,a=n(72153),r=n(44734),o=n(43080),c=n(69683),s=n(6454),u=(n(28706),n(40445)),l=n(96196),d=n(77845),f=n(63091),p=(n(26300),function(t){function e(){var t;(0,r.A)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,c.A)(this,e,[].concat(i))).disabled=!1,t._icon="rtl"===f.G.document.dir?"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z":"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z",t}return(0,s.A)(e,t),(0,o.A)(e,[{key:"render",value:function(){var t;return(0,l.qy)(i||(i=(0,a.A)([' <ha-icon-button .disabled="','" .label="','" .path="','"></ha-icon-button> '])),this.disabled,this.label||(null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.back"))||"Back",this._icon)}}])}(l.WF));(0,u.Cg)([(0,d.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,u.Cg)([(0,d.MZ)({type:Boolean})],p.prototype,"disabled",void 0),(0,u.Cg)([(0,d.MZ)()],p.prototype,"label",void 0),(0,u.Cg)([(0,d.wk)()],p.prototype,"_icon",void 0),p=(0,u.Cg)([(0,d.EM)("ha-icon-button-arrow-prev")],p)},43661:function(t,e,n){n.r(e),n.d(e,{HaIconNext:function(){return d}});var i=n(43080),a=n(44734),r=n(69683),o=n(6454),c=(n(28706),n(40445)),s=n(77845),u=n(63091),l=n(67094),d=function(t){function e(){var t;(0,a.A)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=(0,r.A)(this,e,[].concat(i))).path="rtl"===u.G.document.dir?"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z":"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",t}return(0,o.A)(e,t),(0,i.A)(e)}(l.HaSvgIcon);(0,c.Cg)([(0,s.MZ)()],d.prototype,"path",void 0),d=(0,c.Cg)([(0,s.EM)("ha-icon-next")],d)},36158:function(t,e,n){n.a(t,async function(t,e){try{var i=n(44734),a=n(43080),r=n(69683),o=n(6454),c=n(25460),s=(n(28706),n(40445)),u=n(25625),l=n(96196),d=n(77845),f=n(98975),p=n(52943),h=t([f]);f=(h.then?(await h)():h)[0];var g=function(t){function e(){var t;(0,i.A)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=(0,r.A)(this,e,[].concat(a))).capitalize=!1,t}return(0,o.A)(e,t),(0,a.A)(e,[{key:"disconnectedCallback",value:function(){(0,c.A)(e,"disconnectedCallback",this,3)([]),this._clearInterval()}},{key:"connectedCallback",value:function(){(0,c.A)(e,"connectedCallback",this,3)([]),this.datetime&&this._startInterval()}},{key:"createRenderRoot",value:function(){return this}},{key:"firstUpdated",value:function(t){(0,c.A)(e,"firstUpdated",this,3)([t]),this._updateRelative()}},{key:"update",value:function(t){(0,c.A)(e,"update",this,3)([t]),this._updateRelative()}},{key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{key:"_startInterval",value:function(){var t=this;this._clearInterval(),this._interval=window.setInterval(function(){return t._updateRelative()},6e4)}},{key:"_updateRelative",value:function(){if(this.datetime){var t="string"==typeof this.datetime?(0,u.H)(this.datetime):this.datetime,e=(0,f.K)(t,this.hass.locale);this.innerHTML=this.capitalize?(0,p.Z)(e):e}else this.innerHTML=this.hass.localize("ui.components.relative_time.never")}}])}(l.mN);(0,s.Cg)([(0,d.MZ)({attribute:!1})],g.prototype,"hass",void 0),(0,s.Cg)([(0,d.MZ)({attribute:!1})],g.prototype,"datetime",void 0),(0,s.Cg)([(0,d.MZ)({type:Boolean})],g.prototype,"capitalize",void 0),g=(0,s.Cg)([(0,d.EM)("ha-relative-time")],g),e()}catch(v){e(v)}})},75709:function(t,e,n){var i,a,r,o,c=n(72153),s=n(44734),u=n(43080),l=n(69683),d=n(6454),f=n(25460),p=(n(28706),n(40445)),h=n(68846),g=n(92347),v=n(96196),_=n(77845),m=n(63091),y=function(t){function e(){var t;(0,s.A)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,l.A)(this,e,[].concat(i))).icon=!1,t.iconTrailing=!1,t.autocorrect=!0,t}return(0,d.A)(e,t),(0,u.A)(e,[{key:"updated",value:function(t){(0,f.A)(e,"updated",this,3)([t]),(t.has("invalid")||t.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||t.has("invalid")&&void 0!==t.get("invalid"))&&this.reportValidity()),t.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),t.has("autocorrect")&&(!1===this.autocorrect?this.formElement.setAttribute("autocorrect","off"):this.formElement.removeAttribute("autocorrect")),t.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{key:"renderIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?"trailing":"leading";return(0,v.qy)(i||(i=(0,c.A)([' <span class="mdc-text-field__icon mdc-text-field__icon--','" tabindex="','"> <slot name="','Icon"></slot> </span> '])),n,e?1:-1,n)}}])}(h.J);y.styles=[g.R,(0,v.AH)(a||(a=(0,c.A)([".mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){max-width:calc(100% - 16px)}.mdc-floating-label--float-above{max-width:calc((100% - 16px)/ .75);transition:none}input{text-align:var(--text-field-text-align,start)}input[type=color]{height:20px}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=color]::-webkit-color-swatch-wrapper{padding:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{padding-inline-end:16px;padding-inline-start:initial;inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start);box-sizing:border-box;text-overflow:ellipsis}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}#helper-text ha-markdown{display:inline-block}"]))),"rtl"===m.G.document.dir?(0,v.AH)(r||(r=(0,c.A)([".mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}"]))):(0,v.AH)(o||(o=(0,c.A)([""])))],(0,p.Cg)([(0,_.MZ)({type:Boolean})],y.prototype,"invalid",void 0),(0,p.Cg)([(0,_.MZ)({attribute:"error-message"})],y.prototype,"errorMessage",void 0),(0,p.Cg)([(0,_.MZ)({type:Boolean})],y.prototype,"icon",void 0),(0,p.Cg)([(0,_.MZ)({type:Boolean})],y.prototype,"iconTrailing",void 0),(0,p.Cg)([(0,_.MZ)()],y.prototype,"autocomplete",void 0),(0,p.Cg)([(0,_.MZ)({type:Boolean})],y.prototype,"autocorrect",void 0),(0,p.Cg)([(0,_.MZ)({attribute:"input-spellcheck"})],y.prototype,"inputSpellcheck",void 0),(0,p.Cg)([(0,_.P)("input")],y.prototype,"formElement",void 0),y=(0,p.Cg)([(0,_.EM)("ha-textfield")],y)},27330:function(t,e,n){var i,a=n(72153),r=n(43080),o=n(44734),c=n(69683),s=n(6454),u=(n(28706),n(40445)),l=n(29781),d=n(71467),f=n(96196),p=n(77845),h=function(t){function e(){var t;(0,o.A)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,c.A)(this,e,[].concat(i))).narrow=!1,t}return(0,s.A)(e,t),(0,r.A)(e)}(l.$);h.styles=[d.R,(0,f.AH)(i||(i=(0,a.A)(["header{padding-top:var(--safe-area-inset-top)}.mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:calc(var(--header-height,0px) + var(--safe-area-inset-top,0px));padding-bottom:var(--safe-area-inset-bottom);padding-right:var(--safe-area-inset-right)}:host([narrow]) .mdc-top-app-bar--fixed-adjust{padding-left:var(--safe-area-inset-left)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary));padding-top:var(--safe-area-inset-top);padding-right:var(--safe-area-inset-right)}:host([narrow]) .mdc-top-app-bar{padding-left:var(--safe-area-inset-left)}.mdc-top-app-bar__title{font-size:var(--ha-font-size-xl);padding-inline-start:24px;padding-inline-end:initial}"])))],(0,u.Cg)([(0,p.MZ)({type:Boolean,reflect:!0})],h.prototype,"narrow",void 0),h=(0,u.Cg)([(0,p.EM)("ha-top-app-bar-fixed")],h)},82e3:function(t,e,n){n.d(e,{Fy:function(){return c},Gk:function(){return d},Hg:function(){return r},TF:function(){return l},Y_:function(){return f},ds:function(){return u},e0:function(){return o},ec:function(){return s}});var i=n(61397),a=n(50264),r=(n(74423),n(62062),n(18111),n(61701),n(33110),n(69085),n(26099),n(3362),n(99449),n(21699),function(t){return t.map(function(t){if("string"!==t.type)return t;switch(t.name){case"username":return Object.assign(Object.assign({},t),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},t),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},t),{},{autocomplete:"one-time-code",autofocus:!0});default:return t}})}),o=function(t,e){return t.callWS({type:"auth/sign_path",path:e})},c=function(){var t=(0,a.A)((0,i.A)().m(function t(e,n,a,r){return(0,i.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"config/auth_provider/homeassistant/create",user_id:n,username:a,password:r}))},t)}));return function(e,n,i,a){return t.apply(this,arguments)}}(),s=function(t,e,n){return t.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:e,new_password:n})},u=function(t,e,n){return t.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:e,password:n})},l=function(t,e,n){return t.callWS({type:"auth/delete_user_all_refresh_tokens",token_type:e,user_id:n})},d=function(t,e,n){return t.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:e,username:n})},f=function(t,e,n){return t.callWS({type:"auth/delete_all_refresh_tokens",token_type:e,delete_current_token:n})}},10897:function(t,e,n){n.d(e,{C4:function(){return p},CK:function(){return f},FX:function(){return y},JT:function(){return s},UC:function(){return _},Ub:function(){return u},_Z:function(){return x},bT:function(){return A},j4:function(){return w},sd:function(){return c},su:function(){return d},vc:function(){return k},w8:function(){return v},wv:function(){return g},y3:function(){return m},zS:function(){return l}});var i=n(61397),a=n(50264),r=(n(28706),n(69085),n(11392),n(3931)),o=n(82e3),c=[1,2,3,4,6,8],s=2,u="hls",l="web_rtc",d=function(t,e,n){return"".concat(t,"&width=").concat(e,"&height=").concat(n)},f=function(t){return"/api/camera_proxy_stream/".concat(t.entity_id,"?token=").concat(t.attributes.access_token)},p=function(){var t=(0,a.A)((0,i.A)().m(function t(e,n,a,o){var c;return(0,i.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,r.U)("_cameraTmbUrl",9e3,h,e,n);case 1:return c=t.v,t.a(2,d(c,a,o))}},t)}));return function(e,n,i,a){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.A)((0,i.A)().m(function t(e,n){var a;return(0,i.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,o.e0)(e,"/api/camera_proxy/".concat(n));case 1:return a=t.v,t.a(2,e.hassUrl(a.path))}},t)}));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.A)((0,i.A)().m(function t(e,n,a){var r,o;return(0,i.A)().w(function(t){for(;;)switch(t.n){case 0:return r={type:"camera/stream",entity_id:n},a&&(r.format=a),t.n=1,e.callWS(r);case 1:return(o=t.v).url=e.hassUrl(o.url),t.a(2,o)}},t)}));return function(e,n,i){return t.apply(this,arguments)}}(),v=function(t,e,n,i){return t.connection.subscribeMessage(i,{type:"camera/webrtc/offer",entity_id:e,offer:n})},_=function(t,e,n,i){return t.callWS({type:"camera/webrtc/candidate",entity_id:e,session_id:n,candidate:i})},m=function(t,e){return t.callWS({type:"camera/get_prefs",entity_id:e})},y=function(t,e,n){return t.callWS(Object.assign({type:"camera/update_prefs",entity_id:e},n))},b="media-source://camera/",w=function(t){return t.startsWith(b)},k=function(t){return t.substring(22)},x=function(){var t=(0,a.A)((0,i.A)().m(function t(e,n){return(0,i.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"camera/capabilities",entity_id:n}))},t)}));return function(e,n){return t.apply(this,arguments)}}(),A=function(){var t=(0,a.A)((0,i.A)().m(function t(e,n){return(0,i.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"camera/webrtc/get_client_config",entity_id:n}))},t)}));return function(e,n){return t.apply(this,arguments)}}()},86531:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{$O:function(){return b},a$:function(){return w},cj:function(){return h},dG:function(){return y},gM:function(){return m},gd:function(){return v},rc:function(){return k}});var a=n(61397),r=n(50264),o=(n(28706),n(74423),n(79432),n(26099),n(3362),n(27495),n(38781),n(25440),n(11392),n(46190)),c=n(71727),s=n(69093),u=n(22533),l=n(22675),d=n(25064),f=t([d]);d=(f.then?(await f)():f)[0];var p="ui.components.logbook.messages",h=["counter","proximity"],g={triggered_by_numeric_state_of:"numeric state of",triggered_by_state_of:"state of",triggered_by_event:"event",triggered_by_time_pattern:"time pattern",triggered_by_time:"time",triggered_by_homeassistant_stopping:"GiToon stopping",triggered_by_homeassistant_starting:"GiToon starting"},v=function(){var t=(0,r.A)((0,a.A)().m(function t(e,n,i){return(0,a.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,_(e,n,void 0,void 0,i))},t)}));return function(e,n,i){return t.apply(this,arguments)}}(),_=function(t,e,n,i,a,r){if((i||r)&&(!i||0===i.length)&&(!r||0===r.length))return Promise.resolve([]);var o={type:"logbook/get_events",start_time:e};return n&&(o.end_time=n),null!=i&&i.length&&(o.entity_ids=i),null!=r&&r.length&&(o.device_ids=r),a&&(o.context_id=a),t.callWS(o)},m=function(t,e,n,i,a,r,o){if((r||o)&&(!r||0===r.length)&&(!o||0===o.length))return Promise.reject("No entities or devices");var c={type:"logbook/event_stream",start_time:n,end_time:i};return null!=r&&r.length&&(c.entity_ids=r),null!=o&&o.length&&(c.device_ids=o),t.connection.subscribeMessage(function(t){return e(t,a)},c)},y=function(t,e){return{entity_id:t.entity_id,state:e,attributes:{device_class:null==t?void 0:t.attributes.device_class,source_type:null==t?void 0:t.attributes.source_type,has_date:null==t?void 0:t.attributes.has_date,has_time:null==t?void 0:t.attributes.has_time,entity_picture_local:o.oL.has((0,c.m)(t.entity_id))||null==t?void 0:t.attributes.entity_picture_local,entity_picture:o.oL.has((0,c.m)(t.entity_id))||null==t?void 0:t.attributes.entity_picture}}},b=function(t,e){for(var n=0,i=Object.keys(g);n<i.length;n++){var a=i[n],r=g[a];if(e.startsWith(r))return e.replace(r,"".concat(t("ui.components.logbook.".concat(a))))}return e},w=function(t,e,n,i,a){switch(a){case"device_tracker":case"person":return"not_home"===n?e("".concat(p,".was_away")):"home"===n?e("".concat(p,".was_at_home")):e("".concat(p,".was_at_state"),{state:n});case"sun":return e("".concat(p,"above_horizon"===n?".rose":".set"));case"binary_sensor":var r=n===o.Or,c=n===o.qg,s=i.attributes.device_class;if(s&&(r||c))return e("".concat(p,".").concat(r?"detected_device_classes":"cleared_device_classes",".").concat(s),{device_class:(0,u.i)(e("component.binary_sensor.entity_component.".concat(s,".name"))||s,t.language)})||e("".concat(p,".").concat(r?"detected_device_class":"cleared_device_class"),{device_class:(0,u.i)(e("component.binary_sensor.entity_component.".concat(s,".name"))||s,t.language)});break;case"cover":switch(n){case"open":return e("".concat(p,".was_opened"));case"opening":return e("".concat(p,".is_opening"));case"closing":return e("".concat(p,".is_closing"));case"closed":return e("".concat(p,".was_closed"))}break;case"event":return e("".concat(p,".detected_event_no_type"));case"lock":switch(n){case"unlocked":return e("".concat(p,".was_unlocked"));case"locking":return e("".concat(p,".is_locking"));case"unlocking":return e("".concat(p,".is_unlocking"));case"opening":return e("".concat(p,".is_opening"));case"open":return e("".concat(p,".is_opened"));case"locked":return e("".concat(p,".was_locked"));case"jammed":return e("".concat(p,".is_jammed"))}}return n===o.Or?e("".concat(p,".turned_on")):n===o.qg?e("".concat(p,".turned_off")):n===l.HV?e("".concat(p,".became_unknown")):n===l.Hh?e("".concat(p,".became_unavailable")):t.localize("".concat(p,".changed_to_state"),{state:i?t.formatEntityState(i,n):n})},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,s.t)(t);return!(h.includes(n)||"sensor"===n&&(0,d.Fp)(n,t,void 0,e))};i()}catch(x){i(x)}})},95311:function(t,e,n){n.d(e,{DF:function(){return _},Lo:function(){return x},MH:function(){return p},MM:function(){return m},Qz:function(){return v},Ru:function(){return b},UU:function(){return w},_7:function(){return g},bZ:function(){return h},m0:function(){return f},tD:function(){return k},vX:function(){return y},wY:function(){return A}});var i=n(7739),a=n(20054),r=(n(2008),n(78350),n(23418),n(74423),n(23792),n(44114),n(30237),n(18111),n(22489),n(30531),n(7588),n(13579),n(69085),n(26099),n(16034),n(31415),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(21699),n(47764),n(23500),n(62953),n(44537)),o=n(69093),c=n(82286),s=n(24367),u=n(44927),l=["domain","integration","device_class"],d=["integration","manufacturer","model"],f=function(t,e,n,i,a,r,o){var c=[],s=[],u=[];return Object.values(n).forEach(function(n){n.labels.includes(e)&&v(t,a,i,n.area_id,r,o)&&u.push(n.area_id)}),Object.values(i).forEach(function(n){n.labels.includes(e)&&_(t,Object.values(a),n,r,o)&&s.push(n.id)}),Object.values(a).forEach(function(n){n.labels.includes(e)&&m(t.states[n.entity_id],r,o)&&c.push(n.entity_id)}),{areas:u,devices:s,entities:c}},p=function(t,e,n,i,a){var r=[];return Object.values(n).forEach(function(n){n.floor_id===e&&v(t,t.entities,t.devices,n.area_id,i,a)&&r.push(n.area_id)}),{areas:r}},h=function(t,e,n,i,a,r){var o=[],c=[];return Object.values(n).forEach(function(n){n.area_id===e&&_(t,Object.values(i),n,a,r)&&c.push(n.id)}),Object.values(i).forEach(function(n){n.area_id===e&&m(t.states[n.entity_id],a,r)&&o.push(n.entity_id)}),{devices:c,entities:o}},g=function(t,e,n,i,a){var r=[];return Object.values(n).forEach(function(n){n.device_id===e&&m(t.states[n.entity_id],i,a)&&r.push(n.entity_id)}),{entities:r}},v=function(t,e,n,i,a,r){return!!Object.values(n).some(function(n){return!(n.area_id!==i||!_(t,Object.values(e),n,a,r))})||Object.values(e).some(function(e){return!(e.area_id!==i||!m(t.states[e.entity_id],a,r))})},_=function(t,e,n,i,a){var o,c,s=a?(0,u.fk)(a,e):void 0;return!(null!==(o=i.target)&&void 0!==o&&o.device&&!(0,r.e)(i.target.device).some(function(t){return y(t,n,s)}))&&(null===(c=i.target)||void 0===c||!c.entity||e.filter(function(t){return t.device_id===n.id}).some(function(e){var n=t.states[e.entity_id];return m(n,i,a)}))},m=function(t,e,n){var i;return!!t&&(null===(i=e.target)||void 0===i||!i.entity||(0,r.e)(e.target.entity).some(function(e){return b(e,t,n)}))},y=function(t,e,n){var i,a=t.manufacturer,r=t.model,o=t.model_id,c=t.integration;if(a&&e.manufacturer!==a)return!1;if(r&&e.model!==r)return!1;if(o&&e.model_id!==o)return!1;if(c&&n&&(null==n||null===(i=n[e.id])||void 0===i||!i.has(c)))return!1;return!0},b=function(t,e,n){var i,a=t.domain,s=t.device_class,u=t.supported_features,l=t.integration;if(a){var d=(0,o.t)(e);if(Array.isArray(a)?!a.includes(d):d!==a)return!1}if(s){var f=e.attributes.device_class;if(f&&Array.isArray(s)?!s.includes(f):f!==s)return!1}return!(u&&!(0,r.e)(u).some(function(t){return(0,c.$)(e,t)}))&&(!l||(null==n||null===(i=n[e.entity_id])||void 0===i?void 0:i.domain)===l)},w=function(t){if(!t.entity)return{entity:null};if("filter"in t.entity)return t;var e=t.entity,n=e.domain,i=e.integration,r=e.device_class,o=(0,a.A)(e,l);return n||i||r?{entity:Object.assign(Object.assign({},o),{},{filter:{domain:n,integration:i,device_class:r}})}:{entity:o}},k=function(t){if(!t.device)return{device:null};if("filter"in t.device)return t;var e=t.device,n=e.integration,i=e.manufacturer,r=e.model,o=(0,a.A)(e,d);return n||i||r?{device:Object.assign(Object.assign({},o),{},{filter:{integration:n,manufacturer:i,model:r}})}:{device:o}},x=function(t){var e,n;if("target"in t)e=(0,r.e)(null===(n=t.target)||void 0===n?void 0:n.entity);else if("entity"in t){var a,o;if(null!==(a=t.entity)&&void 0!==a&&a.include_entities)return;e=(0,r.e)(null===(o=t.entity)||void 0===o?void 0:o.filter)}if(e){var c=e.flatMap(function(t){return t.integration||t.device_class||t.supported_features||!t.domain?[]:(0,r.e)(t.domain).filter(function(t){return(0,s.zd)(t)})});return(0,i.A)(new Set(c))}},A=function(t,e,n,i,a){if(!e)return[];var o={target:{}},c=new Set((0,r.e)(e.entity_id)),s=new Set((0,r.e)(e.device_id)),u=new Set((0,r.e)(e.area_id)),l=new Set((0,r.e)(e.floor_id));return new Set((0,r.e)(e.label_id)).forEach(function(e){var r=f(t,e,a,i,n,o);r.devices.forEach(function(t){return s.add(t)}),r.entities.forEach(function(t){return c.add(t)}),r.areas.forEach(function(t){return u.add(t)})}),l.forEach(function(e){p(t,e,a,o).areas.forEach(function(t){return u.add(t)})}),u.forEach(function(e){var a=h(t,e,i,n,o);a.devices.forEach(function(t){return s.add(t)}),a.entities.forEach(function(t){return c.add(t)})}),s.forEach(function(e){g(t,e,n,o).entities.forEach(function(t){return c.add(t)})}),Array.from(c)}},28669:function(t,e,n){n.d(e,{TK:function(){return u},_2:function(){return d},eR:function(){return o},hG:function(){return l},hU:function(){return c},kg:function(){return s},wj:function(){return r},xg:function(){return f}});var i=n(61397),a=n(50264),r=(n(62062),n(44114),n(34782),n(18111),n(61701),n(69085),n(26099),n(42762),"system-admin"),o="system-users",c=function(){var t=(0,a.A)((0,i.A)().m(function t(e){return(0,i.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"config/auth/list"}))},t)}));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,a.A)((0,i.A)().m(function t(e,n,a,r){return(0,i.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"config/auth/create",name:n,group_ids:a,local_only:r}))},t)}));return function(e,n,i,a){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.A)((0,i.A)().m(function t(e,n,a){return(0,i.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS(Object.assign(Object.assign({},a),{},{type:"config/auth/update",user_id:n})))},t)}));return function(e,n,i){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.A)((0,i.A)().m(function t(e,n){return(0,i.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"config/auth/delete",user_id:n}))},t)}));return function(e,n){return t.apply(this,arguments)}}(),d=function(t){return t?t.trim().split(" ").slice(0,3).map(function(t){return t.substring(0,1)}).join(""):"?"},f=function(t,e,n){var i=[],a=function(e){return t.localize("ui.panel.config.users.".concat(e))};return e.is_owner&&i.push(["M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z",a("is_owner")]),n&&e.system_generated&&i.push(["M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z",a("is_system")]),e.local_only&&i.push(["M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14",a("is_local")]),e.is_active||i.push(["M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z",a("is_not_active")]),i}},76309:function(t,e,n){n.a(t,async function(t,i){try{n.r(e),n.d(e,{HaPanelLogbook:function(){return j}});n(3362);var a=n(40445),r=n(96196),o=n(77845),c=n(22786),s=n(44537),u=n(93905),l=n(91926),d=n(51758),f=n(6030),p=n(82474),h=n(15397),g=(n(26300),n(90248),n(2054),n(79286)),v=(n(27330),n(86531)),_=n(95311),m=n(64808),y=n(14503),b=n(89434),w=t([p,h,g,b,v]);[p,h,g,b,v]=w.then?(await w)():w;let k,x,A,C,M=t=>t;const O="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z";class j extends r.WF{_goBack(){(0,l.O)()}render(){return(0,r.qy)(k||(k=M` <ha-top-app-bar-fixed .narrow="${0}"> ${0} <div slot="title">${0}</div> <ha-icon-button slot="actionItems" @click="${0}" .path="${0}" .label="${0}"></ha-icon-button> <div class="content"> <div class="filters"> <ha-date-range-picker .hass="${0}" .startDate="${0}" .endDate="${0}" @value-changed="${0}" time-picker></ha-date-range-picker> <ha-target-picker .hass="${0}" .entityFilter="${0}" .value="${0}" add-on-top @value-changed="${0}" compact="compact"></ha-target-picker> </div> <ha-logbook .hass="${0}" .time="${0}" .entityIds="${0}" virtualize></ha-logbook> </div> </ha-top-app-bar-fixed> `),this.narrow,this._showBack?(0,r.qy)(x||(x=M` <ha-icon-button-arrow-prev slot="navigationIcon" @click="${0}"></ha-icon-button-arrow-prev> `),this._goBack):(0,r.qy)(A||(A=M` <ha-menu-button slot="navigationIcon" .hass="${0}" .narrow="${0}"></ha-menu-button> `),this.hass,this.narrow),this.hass.localize("panel.logbook"),this._refreshLogbook,O,this.hass.localize("ui.common.refresh"),this.hass,this._time.range[0],this._time.range[1],this._dateRangeChanged,this.hass,this._filterFunc,this._targetPickerValue,this._targetsChanged,this.hass,this._time,this._getEntityIds())}willUpdate(t){super.willUpdate(t),this.hasUpdated||this._applyURLParams()}async _loadNumericDeviceClasses(){const t=await(0,m.KL)(this.hass);this._sensorNumericDeviceClasses=t.numeric_device_classes}firstUpdated(t){super.firstUpdated(t),this.hass.loadBackendTranslation("title"),this._loadNumericDeviceClasses();"1"===(0,f.px)().back&&history.length>1&&(this._showBack=!0,(0,l.o)((0,d.Z)((0,f.s8)("back")),{replace:!0}))}connectedCallback(){super.connectedCallback(),window.addEventListener("location-changed",this._locationChanged)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("location-changed",this._locationChanged)}_getEntityIds(){const t=this.__getEntityIds(this._targetPickerValue,this.hass.entities,this.hass.devices,this.hass.areas);if(0!==t.length)return t}_applyURLParams(){const t=(0,f.px)(),e=t.entity_id,n=t.device_id,i=t.area_id,a=t.floor_id,r=t.label_id;if((e||n||i||a||r)&&(this._targetPickerValue={}),e){const t=e.split(",");this._targetPickerValue.entity_id=t}if(n){const t=n.split(",");this._targetPickerValue.device_id=t}if(i){const t=i.split(",");this._targetPickerValue.area_id=t}if(a){const t=a.split(",");this._targetPickerValue.floor_id=t}if(r){const t=r.split(",");this._targetPickerValue.label_id=t}const o=t.start_date,c=t.end_date;if(o||c){const t=o?new Date(o):this._time.range[0],e=c?new Date(c):this._time.range[1];t.getTime()===this._time.range[0].getTime()&&e.getTime()===this._time.range[1].getTime()||(this._time={range:[o?new Date(o):this._time.range[0],c?new Date(c):this._time.range[1]]})}}_dateRangeChanged(t){const e=t.detail.value.startDate,n=t.detail.value.endDate;this._time={range:[e,n]},this._updatePath()}_targetsChanged(t){this._targetPickerValue=t.detail.value||{},this._updatePath()}_updatePath(){const t={};this._targetPickerValue.entity_id&&(t.entity_id=(0,s.e)(this._targetPickerValue.entity_id).join(",")),this._targetPickerValue.label_id&&(t.label_id=(0,s.e)(this._targetPickerValue.label_id).join(",")),this._targetPickerValue.floor_id&&(t.floor_id=(0,s.e)(this._targetPickerValue.floor_id).join(",")),this._targetPickerValue.area_id&&(t.area_id=(0,s.e)(this._targetPickerValue.area_id).join(",")),this._targetPickerValue.device_id&&(t.device_id=(0,s.e)(this._targetPickerValue.device_id).join(",")),this._time.range[0]&&(t.start_date=this._time.range[0].toISOString()),this._time.range[1]&&(t.end_date=this._time.range[1].toISOString()),(0,l.o)(`/logbook?${(0,f.KH)(t)}`,{replace:!0})}_refreshLogbook(){var t;null===(t=this.shadowRoot.querySelector("ha-logbook"))||void 0===t||t.refresh()}static get styles(){return[y.RF,(0,r.AH)(C||(C=M`:host{--ha-generic-picker-max-width:400px}ha-logbook{height:calc(100vh - 168px - var(--safe-area-inset-top,0px) - var(--safe-area-inset-bottom,0px))}:host([narrow]) ha-logbook{height:calc(100vh - 250px - var(--safe-area-inset-top,0px) - var(--safe-area-inset-bottom,0px))}ha-date-range-picker{margin-right:16px;margin-inline-end:16px;margin-inline-start:initial;max-width:100%;direction:var(--direction)}@media all and (max-width:870px){ha-date-range-picker{width:100%}}:host([narrow]) ha-date-range-picker{margin-right:0;margin-inline-end:0;margin-inline-start:initial;direction:var(--direction);margin-bottom:8px}.content{overflow-x:hidden}.filters{display:flex;padding:16px 16px 0}:host([narrow]) .filters{flex-wrap:wrap}ha-entity-picker{display:inline-block;flex-grow:1;max-width:400px}ha-target-picker{flex:1}:host([narrow]) ha-entity-picker{max-width:none;width:100%}`))]}constructor(){super(),this.narrow=!1,this._targetPickerValue={},this._sensorNumericDeviceClasses=[],this._filterFunc=t=>(0,v.rc)(t,this._sensorNumericDeviceClasses),this._locationChanged=()=>{this._applyURLParams()},this.__getEntityIds=(0,c.A)((t,e,n,i)=>(0,_.wY)(this.hass,t,e,n,i));const t=new Date;t.setHours(t.getHours()-1,0,0,0);const e=new Date;e.setHours(e.getHours()+2,0,0,0),this._time={range:[t,e]}}}(0,a.Cg)([(0,o.MZ)({attribute:!1})],j.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],j.prototype,"narrow",void 0),(0,a.Cg)([(0,o.wk)()],j.prototype,"_time",void 0),(0,a.Cg)([(0,o.wk)()],j.prototype,"_entityIds",void 0),(0,a.Cg)([(0,o.wk)()],j.prototype,"_showBack",void 0),(0,a.Cg)([(0,o.wk)(),(0,u.I)({key:"logbookPickedValue",state:!0,subscribe:!1})],j.prototype,"_targetPickerValue",void 0),(0,a.Cg)([(0,o.wk)()],j.prototype,"_sensorNumericDeviceClasses",void 0),j=(0,a.Cg)([(0,o.EM)("ha-panel-logbook")],j),i()}catch(k){i(k)}})},85614:function(t,e,n){n.d(e,{i:function(){return r}});var i=n(61397),a=n(50264),r=(n(23792),n(26099),n(3362),n(47764),n(62953),function(){var t=(0,a.A)((0,i.A)().m(function t(){return(0,i.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.all([n.e("38085"),n.e("64391")]).then(n.bind(n,40772));case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}())}}]);
//# sourceMappingURL=58612.1245cf47c169db60.js.map
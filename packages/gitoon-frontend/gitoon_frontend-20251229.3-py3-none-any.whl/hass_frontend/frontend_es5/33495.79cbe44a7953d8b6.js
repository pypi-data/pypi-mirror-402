"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["33495"],{25995:function(e,t,n){n.d(t,{Vw:function(){return i},kG:function(){return s},y6:function(){return a}});n(26099),n(3362);var r=function(e,t,n){return new Promise(function(r,a){var s=document.createElement(e),i="src",o="body";switch(s.onload=function(){return r(t)},s.onerror=function(){return a(t)},e){case"script":s.async=!0,n&&(s.type=n);break;case"link":s.type="text/css",s.rel="stylesheet",i="href",o="head"}s[i]=t,document[o].appendChild(s)})},a=function(e){return r("link",e)},s=function(e){return r("script",e)},i=function(e){return r("script",e,"module")}},6378:function(e,t,n){n.r(t),n.d(t,{HaPanelCustom:function(){return p}});n(74423),n(62953);var r=n(40445),a=n(96196),s=n(77845),i=n(91926),o=n(19459),l=(n(26099),n(3362),n(25995)),u={},c=function(e){return e.html_url?{type:"html",url:e.html_url}:e.module_url&&e.js_url?{type:"js",url:e.js_url}:e.module_url?{type:"module",url:e.module_url}:{type:"js",url:e.js_url}},h=(n(18111),n(7588),n(79432),n(23500),function(e,t){"setProperties"in e?e.setProperties(t):Object.keys(t).forEach(function(n){e[n]=t[n]})});class p extends a.mN{createRenderRoot(){return this}registerIframe(e,t){e(this.panel,{hass:this.hass,narrow:this.narrow,route:this.route}),this._setProperties=t}disconnectedCallback(){super.disconnectedCallback(),this._cleanupPanel()}update(e){if(super.update(e),e.has("panel")){const t=e.get("panel");if(!(0,o.b)(t,this.panel))return t&&this._cleanupPanel(),void this._createPanel(this.panel)}if(!this._setProperties)return;const t={};for(const n of e.keys())t[n]=this[n];this._setProperties(t)}_cleanupPanel(){for(delete window.customPanel,this._setProperties=void 0;this.lastChild;)this.removeChild(this.lastChild)}_createPanel(e){const t=e.config._panel_custom,n=c(t),r=document.createElement("a");if(r.href=n.url,!t.trust_external&&!["localhost","127.0.0.1",location.hostname].includes(r.hostname)&&!confirm(`${this.hass.localize("ui.panel.custom.external_panel.question_trust",{name:t.name,link:r.href})}\n\n           ${this.hass.localize("ui.panel.custom.external_panel.complete_access")}\n\n           (${this.hass.localize("ui.panel.custom.external_panel.hide_message")})`))return;if(!t.embed_iframe)return void(a=t,s=c(a),"js"===s.type?(s.url in u||(u[s.url]=(0,l.kG)(s.url)),u[s.url]):"module"===s.type?(0,l.Vw)(s.url):Promise.reject("No valid url found in panel config.")).then(()=>{const n=function(e){var t="html_url"in e?"ha-panel-".concat(e.name):e.name;return document.createElement(t)}(t);this._setProperties=e=>h(n,e),h(n,{panel:e,hass:this.hass,narrow:this.narrow,route:this.route}),this.appendChild(n)},()=>{alert(`Unable to load custom panel from ${r.href}`)});var a,s;window.customPanel=this;const i=this.panel.title?`title="${this.panel.title}"`:"";this.innerHTML=`\n      <style>\n        iframe {\n          border: 0;\n          width: calc(100% - var(--safe-area-inset-right, 0px));\n          height: calc(100% - var(--safe-area-inset-top, 0px) - var(--safe-area-inset-bottom, 0px));\n          display: block;\n          background-color: var(--primary-background-color);\n          margin-top: var(--safe-area-inset-top);\n          margin-bottom: var(--safe-area-inset-bottom);\n          margin-right: var(--safe-area-inset-right);\n        }\n        @media (max-width: 870px) {\n          iframe {\n            width: calc(100% - var(--safe-area-inset-left, 0px) - var(--safe-area-inset-right, 0px));\n            margin-left: var(--safe-area-inset-left);\n          }\n        }\n      </style>\n      <iframe ${i}></iframe>`.trim();const o=this.querySelector("iframe").contentWindow.document;o.open(),o.write(`<!doctype html><script src='${window.customPanelJS}'><\/script>`),o.close()}constructor(...e){super(...e),this.narrow=!1,this.navigate=(e,t)=>(0,i.o)(e,t)}}(0,r.Cg)([(0,s.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,r.Cg)([(0,s.MZ)({type:Boolean})],p.prototype,"narrow",void 0),(0,r.Cg)([(0,s.MZ)({attribute:!1})],p.prototype,"route",void 0),(0,r.Cg)([(0,s.MZ)({attribute:!1})],p.prototype,"panel",void 0),p=(0,r.Cg)([(0,s.EM)("ha-panel-custom")],p)}}]);
//# sourceMappingURL=33495.79cbe44a7953d8b6.js.map
Metadata-Version: 2.4
Name: pretix-postfinance
Version: 1.1.0
Summary: PostFinance Checkout payment plugin for pretix
Author-email: Sweenu <contact@sweenu.xyz>
Maintainer-email: Sweenu <contact@sweenu.xyz>
License-Expression: AGPL-3.0-or-later
Project-URL: Homepage, https://github.com/sweenu/pretix-postfinance
Project-URL: Repository, https://github.com/sweenu/pretix-postfinance
Keywords: pretix,payment,postfinance,checkout
Classifier: Development Status :: 4 - Beta
Classifier: Framework :: Django
Classifier: Intended Audience :: Developers
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: <3.13,>=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: postfinancecheckout>=6.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0; extra == "dev"
Requires-Dist: pytest-django>=4.0; extra == "dev"
Requires-Dist: pretix>=2025.10; extra == "dev"
Requires-Dist: mypy<1.15,>=1.0; extra == "dev"
Requires-Dist: django-stubs<5.1,>=4.0; extra == "dev"
Requires-Dist: ruff>=0.1; extra == "dev"
Requires-Dist: commitizen>=4.9.1; extra == "dev"
Dynamic: license-file

# pretix-postfinance

PostFinance Checkout payment plugin for pretix.

## Installation

### PyPI

```bash
pip install pretix-postfinance
```

### NixOS

For NixOS users, the plugin can be installed using the flake:

```nix
{ inputs, pkgs, ... }:
{
  services.pretix = {
    enable = true;
    plugins = [
      inputs.pretix-postfinance.packages.${pkgs.stdenv.hostPlatform.system}.default
    ];
  };
}
```

## Development

### Setup with uv

```bash
# Create virtual environment
uv venv

# Install with development dependencies
uv pip install -e ".[dev]"
```

### Setup with Nix

```bash
# Enter development shell
nix develop

# Or use direnv (if you have a .envrc configured)
direnv allow
```

### Running checks

```bash
# Run linting
uv run ruff check .

# Run type checking
uv run mypy pretix_postfinance/

# Run tests with coverage
uv run pytest tests/ --cov=pretix_postfinance --cov-report=term-missing -v
```

### Configuration

Configure the plugin in your pretix settings with:

- **Space ID**: Your PostFinance Checkout space ID
- **User ID**: API user ID
- **API Secret**: API authentication secret
- **Environment**: `production` or `sandbox`

## Features

- Payment processing via PostFinance Checkout
- Full and partial refund support
- Webhook handling for payment and refund notifications
- Payment capture support
- Comprehensive error handling and logging
- Admin interface integration

## License

GNU Affero General Public License v3.0 (AGPLv3)

[project]
name = "oci-httpx-auth"
version = "0.10.0"
description = "Add your description here"
readme = "README.md"
authors = [{ name = "Florian Daude", email = "floriandaude@hotmail.fr" }]
requires-python = ">=3.12"
dependencies = ["cryptography>=46.0.3", "httpx>=0.28.1", "pydantic>=2.12.4"]

[dependency-groups]
dev = [
    "pyright[nodejs]>=1.1.407",
    "ruff>=0.14.5",
    "hishel[httpx]>=1.1.6",
    "python-slugify>=8.0.4",
]

[build-system]
requires = ["uv_build>=0.8.14,<0.9.0"]
build-backend = "uv_build"

[tool.pyright]
include = ["src"]
typeCheckingMode = "strict"
venvPath = "."
venv = ".venv"
pythonVersion = "3.12"
stubPath = "stubs/"

[tool.ruff]
target-version = "py312"
line-length = 100
include = ['src/*.py']
namespace-packages = ["tools/"]

[tool.ruff.format]
exclude = []
indent-style = "space"
line-ending = "lf"
quote-style = "single"
skip-magic-trailing-comma = true

[tool.ruff.lint]
flake8-pytest-style = { fixture-parentheses = false }
flake8-quotes = { inline-quotes = "single" }
flake8-builtins = { ignorelist = ["id", "round"] }
isort = { split-on-trailing-comma = false }
pylint = { allow-magic-value-types = ["int", "float", "str"] }

select = ["ALL"]
ignore = [
    "D203", # one-blank-line-before-clas
    # "D211", # no-blank-line-before-class

    "D212", # multi-line-summary-first-line
    # "D213", # multi-line-summary-second-line

    # "S602", # subprocess-popen-with-shell-equals-true
    "S603", # subprocess-without-shell-equals-true 

    # https://docs.astral.sh/ruff/formatter/#conflicting-lint-rules
    "W191",   # tab-indentation
    "E111",   # indentation-with-invalid-multiple
    "E114",   # indentation-with-invalid-multiple-comment
    "E117",   # over-indented
    "D206",   # indent-with-spaces
    "D300",   # triple-single-quotes
    "Q000",   # bad-quotes-inline-string
    "Q001",   # bad-quotes-multiline-string
    "Q002",   # bad-quotes-docstring
    "Q003",   # avoidable-escaped-quote
    "COM812", # missing-trailing-comma
    "COM819", # prohibited-trailing-comma
    "ISC001", # single-line-implicit-string-concatenation
    "ISC002", # multi-line-implicit-string-concatenation

    "D100", # missing docstring in module
    "D101", # missing docstring in class
    "D102", # missing docstring in method
    "D103", # missing docstring in function
    "D104", # missing docstring in package
    "D105", # missing docstring in method
    "D106", # missing docstring in nested class
    "D107", # missing docstring in __init__

    "TC002", # typing-only-third-party-import
    "TC003", # typing-only-standard-library-import 
]

[tool.ruff.lint.per-file-ignores]
"tools/*" = ["S101"] # assert

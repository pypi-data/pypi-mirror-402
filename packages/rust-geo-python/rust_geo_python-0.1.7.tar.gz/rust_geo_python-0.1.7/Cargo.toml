[package]
name = "rust-geo-python"
version = "0.1.7"
authors = ["plooney"]
edition = "2024"
readme = "README.md"

[lib]
name = "rust_geo_python"
crate-type = ["cdylib"]

[dependencies]
pyo3 = { version = "0.27.2", features = ["extension-module", "abi3-py37", "generate-import-lib"] }
ndarray = {version="0.17.2", features = ["rayon"]}
numpy = "0.27.1"
geo = { version = "0.32.0" }
wkt = "0.14.0"
wkb = "0.9.2"

[profile.release]
lto = true
codegen-units = 1
opt-level = 3 

[tool.cibuildwheel.macos.environment]
MACOSX_DEPLOYMENT_TARGET = "10.12"

[tool.cibuildwheel]
skip = ["*-musllinux_i686"]

[target.x86_64-apple-darwin]
rustflags = [
	"-C", "link-arg=-undefined",
	"-C", "link-arg=dynamic_lookup",
]


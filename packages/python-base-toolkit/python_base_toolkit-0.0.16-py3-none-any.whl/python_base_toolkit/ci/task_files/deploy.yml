version: "3"

tasks:
  clean:
    desc: "Clean build artifacts"
    cmds:
      - echo "cleaning..."
      - rm -rf dist/
      - rm -rf build/
      - rm -rf *.egg-info
      - echo "cleaned."

  build:
    desc: "Build the package"
    cmds:
      - echo "building..."
      - task clean
      - twine build .
      - echo "built."

  deploy:
      desc: "Deploy the package to PyPI"
      cmds:
          - echo "deploying..."
          - task build
          - twine upload dist/*
          - echo "deployed."
          - task clean

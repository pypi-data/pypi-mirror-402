[build-system]
requires = [ "hatchling",]
build-backend = "hatchling.build"

[project]
name = "pydantic-schemaforms"
version = "26.1.4.beta"
requires-python = ">=3.14"
description = "Server-rendered form components and layout helpers for Pydantic models"
keywords = [ "pydantic", "forms", "schema", "schemaforms", "ui", "htmx",]
readme = "README.md"
classifiers = [ "License :: OSI Approved :: MIT License", "Development Status :: 4 - Beta", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3 :: Only", "Programming Language :: Python :: 3.14", "Framework :: FastAPI", "Framework :: Flask", "Topic :: Internet :: WWW/HTTP :: Dynamic Content", "Operating System :: POSIX :: Linux", "Operating System :: MacOS :: MacOS X", "Operating System :: Microsoft :: Windows",]
dependencies = [ "pydantic>=2.7", "pydantic-extra-types[all]>=2.10.6",]
[[project.authors]]
name = "Mike Ryan"

[[project.maintainers]]
name = "Mike Ryan"

[project.license]
file = "LICENSE"

[project.urls]
Homepage = "https://github.com/devsetgo/pydantic-schemaforms"
Documentation = "https://devsetgo.github.io/pydantic-schemaforms/"
Repository = "https://github.com/devsetgo/pydantic-schemaforms"

[project.optional-dependencies]
fastapi = [ "fastapi>=0.110", "uvicorn>=0.30",]
flask = [ "flask>=3.0",]
dev = [ "fastapi[all]==0.121.2", "Flask==3.1.2", "pytest==9.0.1", "pytest-asyncio==1.3.0", "pytest-cov==7.0.0",]

[project.scripts]

[tool.ruff]
line-length = 100
indent-width = 4
unsafe-fixes = true
target-version = "py314"
src = [ "pydantic_schemaforms", "tests",]
exclude = [ "unreleased/*", "scripts/*", "coverage.xml", "coverage-badge.svg", "pydantic_schemaforms/assets/vendor/node_modules",]

[tool.flake8]
max-line-length = 100
max-doc-length = 100
ignore = [ "E302", "E501", "E303",]
exclude = [ ".git", "__pycache__", "docs", "build", "tests", "_venv", "htmlcov", "scripts", ".pytest_cache", ".vscode", "dist", "*.egg-info",]

[tool.isort]
src_paths = [ "pydantic_schemaforms", "tests",]
force_single_line = false
multi_line_output = 3
include_trailing_comma = true
force_grid_wrap = 0
use_parentheses = true
line_length = 100

[tool.bumpcalver]
version_format = "{current_date}.{build_count}"
date_format = "%y.%-m"
timezone = "America/New_York"
git_tag = true
auto_commit = false
beta_format = "b{beta_count}"
[[tool.bumpcalver.file]]
path = "makefile"
file_type = "makefile"
variable = "APP_VERSION"
version_standard = "python"

[[tool.bumpcalver.file]]
path = "pyproject.toml"
file_type = "toml"
variable = "project.version"
version_standard = "python"

[[tool.bumpcalver.file]]
path = "pydantic_schemaforms/__init__.py"
file_type = "python"
variable = "__version__"
version_standard = "python"

[[tool.bumpcalver.file]]
path = "sonar-project.properties"
file_type = "properties"
variable = "sonar.projectVersion"

[tool.black]
line-length = 100
target-version = [ "py314",]
exclude = "(\n    /(\n        \\.git\n      | \\.hg\n      | \\.mypy_cache\n      | \\.tox\n      | \\.venv\n      | _venv\n      | build\n      | dist\n      | pydantic_schemaforms/assets/vendor/node_modules\n    )/\n)\n"

[tool.ruff.lint]
select = [ "C", "F", "E", "W", "B",]
ignore = [ "C901", "E501", "B017", "B904", "B008", "I",]

[tool.ruff.format]
indent-style = "space"
quote-style = "single"

[tool.coverage.run]
source = [ "pydantic_schemaforms",]
omit = [ "setup.py", "_venv/*", "tests/*", "examples/*", "ex.py", "ex_*.py",]

[tool.coverage.report]
exclude_lines = [ "pragma: no cover", "if __name__", "def main", "import_sqlalchemy",]

[tool.pytest.ini_options]
norecursedirs = [ "/tests",]
testpaths = [ "tests",]
python_files = [ "test_*.py", "*_test.py",]
addopts = [ "--cov=./", "--cov-report=html", "--cov-report=xml", "--junitxml=report.xml", "--html=htmlcov/_test_report.html", "--self-contained-html", "-ra", "--strict-markers", "--tb=short", "-p", "pytester",]
filterwarnings = [ "ignore:pydantic_schemaforms.form_layouts will be removed in a future release", "ignore:Default value .* is not JSON serializable", "ignore:Using extra keyword arguments on.*Field.*is deprecated",]

[tool.ruff.lint.per-file-ignores]
"__init__.py" = [ "F401", "F403",]
"**/inputs/specialized_inputs.py" = [ "F821",]

[tool.hatch.build.targets.sdist]
include = [ "/pydantic_schemaforms", "/README.md", "/LICENSE", "/CHANGELOG.md",]
exclude = [ "bumpcalver-history.json", "pkg/_compat.py",]

[tool.hatch.build.targets.wheel]
packages = [ "pydantic_schemaforms",]
include = [ "pydantic_schemaforms/assets/**",]

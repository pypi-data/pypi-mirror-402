[project]
name = "valency-anndata"
version = "0.1.0"
description = "Experimental tooling to support notebook analysis of polislike data"
readme = "README.md"
authors = [
    { name = "Patrick Connolly", email = "patrick.c.connolly@gmail.com" }
]
requires-python = ">=3.10"
keywords = [
    "polis",
    "anndata",
    "single-cell",
    "data-analysis",
    "clustering",
    "dimensionality-reduction",
    "opinion-data",
]
classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Science/Research",
    "Intended Audience :: Developers",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Topic :: Scientific/Engineering :: Information Analysis",
    "Topic :: Scientific/Engineering :: Visualization",
    "Operating System :: OS Independent",
]
dependencies = [
    "anndata>=0.11.4",
    "googletrans>=4.0.2",
    "nest-asyncio>=1.6.0",
    "polis-client>=0.1.2",
    "scanpy[leiden]",
    # Intel macOS only (no usable wheels for pre Apple M1)
    # See: https://github.com/numba/llvmlite/issues/1357#issuecomment-3516587016
    "llvmlite<=0.45.1; platform_system == 'Darwin' and platform_machine == 'x86_64'",
    # Langevitour expects setuptools to work.
    "langevitour>=0.8.0",
    "setuptools<81",
    "red-dwarf~=0.4.0",
    "svgwrite>=1.4.3",
    "pacmap>=0.8.0",
    # Keep this <8.0 to keep jupyter-scatter compatible with Google Colab.
    # Strangely, we can go higher, but only if jupyter-scatter is installed before valency-anndata.
    "ipywidgets<8",
    "huggingface-hub",
    "jupyter-scatter>=0.22.2",
]

[project.urls]
Homepage = "https://github.com/patcon/valency-anndata"
Documentation = "https://github.com/patcon/valency-anndata#readme"
Repository = "https://github.com/patcon/valency-anndata"
"Bug Tracker" = "https://github.com/patcon/valency-anndata/issues"
Changelog = "https://github.com/patcon/valency-anndata/releases"

[project.optional-dependencies]
dev = [
    "ipykernel>=7.1.0",
    "itables>=2.6.2",
    "mkdocs>=1.6.1",
    "mkdocs-material[imaging]>=9.7.1",
    "mkdocstrings-python>=2.0.1",
    "nbconvert>=7.16.6",
    "ruff>=0.14.10",
]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.uv.sources]
# Temporary fork (for website build only), until this gets merged:
# See: https://github.com/pfh/langevitour/pull/9
langevitour = { git = "https://github.com/patcon/langevitour", rev = "fix-js-indent" }
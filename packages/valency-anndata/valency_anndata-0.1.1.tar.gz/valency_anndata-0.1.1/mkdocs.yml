site_name: Valency Annotated Data Analysis
site_url: https://patcon.github.io/valency-anndata
repo_url: https://github.com/patcon/valency-anndata
repo_name: patcon/valency-anndata
site_description: A toolkit for exploring polislike valence data in Python notebooks.

extra:
  logo_lg: assets/valency-anndata-logo-02.cyan.svg

extra_css:
  - css/material.css
  - css/mkdocstrings.css

theme:
  name: material
  custom_dir: docs/overrides
  logo: assets/valency-anndata-logo-02.white.no-text.svg
  palette:
    primary: cyan
  icon:
    # logo: material/atom-variant
    repo: simple/github
  features:
    - content.code.annotate
    - content.code.copy
    # Allow dynamic multiline highlighting and deeplinks
    - content.code.select
    # Expand nav tree by default.
    - navigation.expand
    # When "*/index.md" is present, link it to the clickable parent.
    - navigation.indexes
    # Update the URL anchor based on scroll position.
    - navigation.tracking

nav:
  - Welcome: index.md
  - installation.md
  - Tutorials:
    - Basic Polis Pipeline: tutorials/basic-polis.md
    - Large Conversation: tutorials/aufstehen.md
    - Kitchen Sink: tutorials/kitchen-sink.md
  - Contributor Log: https://docs.google.com/document/d/1TG8vDGUZLVFM6ziRjvoU-ed11QvTLau_FjG8omv3gGc/edit?tab=t.0
  - Technical Onboarding: onboarding.md
  - API Reference:
    - Datasets: api/datasets.md
    - Preprocessing: api/preprocessing.md
    - Tools: api/tools.md
    - Visualizations: api/viz.md
    - Scanpy: api/scanpy.md

not_in_nav: |
  notebooks-autogenerated

markdown_extensions:
  # For admonitions
  - admonition
  - pymdownx.details
  # For code annotations
  - attr_list
  - md_in_html
  - pymdownx.superfences
  - pymdownx.inlinehilite
  - pymdownx.highlight:
      # Disable line numbers in defaults (used by converted notebooks).
      linenums: false
      # Allows line highlights to work.
      anchor_linenums: true
      line_spans: __span
  - toc:
      # Make it more clear that right-side TOC is only for page.
      title: On this page
      # Enable anchors to appear beside headings on hover.
      permalink: true

plugins:
- meta
- social:
    cards_layout_options:
      # background_image: docs/assets/valency-anndata-flow.alpha.png
      background_image: docs/assets/valency-anndata-logo-02.cyan.svg
      # This is the 6-char cyan hex color, with 2-char alpha hex value appended.
      background_color: "#00BDD6dd"
      logo: docs/assets/valency-anndata-logo-02.white.no-text.svg
- mkdocstrings:
    default_handler: python
    handlers:
      python:
        paths: [ src ]
        inventories:
          - https://docs.python.org/3/objects.inv
          - https://numpy.org/doc/stable/objects.inv
          - https://scanpy.readthedocs.io/en/stable/objects.inv
          - https://anndata.readthedocs.io/en/stable/objects.inv
        options:
          docstring_style: numpy
          # Allow parsing docs from wrapped scanpy methods.
          preload_modules:
            - scanpy
          # Show type hints in method signatures.
          show_signature_annotations: true
          signature_crossrefs: true # ???
          # Format method signatures with ruff.
          separate_signature: true
          # Show each method as header, since we add each directly.
          show_root_heading: true
          # Show full path in method signatures.
          show_root_full_path: true

# This suggests accessing the dev site at localhost
# instead of 127.0.0.1, the latter of which will break
# any imgur images displayed in notebooks.
dev_addr: localhost:8000

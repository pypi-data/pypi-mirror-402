preview = true
target-version = "py310"

exclude = [
]

lint.select = [
    "ALL",
]

lint.extend-ignore = [
    # Keep
    "T201",    # 209 [ ] print
    "D413",    #  48 [*] missing-blank-line-after-last-section
    "COM812",  #  47 [*] missing-trailing-comma
    "PLW1514", #  19 [ ] unspecified-encoding
    "D401",    #   7 [ ] non-imperative-mood
    "FURB110", #   1 [*] if-exp-instead-of-or-operator
    "S101",    #   1 [ ] assert
    "SIM108",  #   1 [ ] if-else-block-instead-of-if-exp
    # Maybe fix
    "PLR6301", #   7 [ ] no-self-use
    #
    "DOC201",  #  80 [ ] docstring-missing-returns
    "S603",    #  33 [ ] subprocess-without-shell-equals-true
    "E501",    #  24 [ ] line-too-long
    "PLC0415", #  22 [ ] import-outside-top-level
    "S607",    #  21 [ ] start-process-with-partial-path
    "BLE001",  #  16 [ ] blind-except
    "FBT001",  #  11 [ ] boolean-type-hint-positional-argument
    "ANN204",  #  10 [ ] missing-return-type-special-method
    "RUF005",  #  10 [ ] collection-literal-concatenation
    "S108",    #  10 [ ] hardcoded-temp-file
    "TRY300",  #  10 [ ] try-consider-else
    "RET505",  #   8 [*] superfluous-else-return
    "S404",    #   8 [ ] suspicious-subprocess-import
    "DOC501",  #   6 [ ] docstring-missing-exception
    "FBT002",  #   6 [ ] boolean-default-value-positional-argument
    "S110",    #   5 [ ] try-except-pass
    "D107",    #   4 [ ] undocumented-public-init
    "SIM102",  #   4 [ ] collapsible-if
    "TRY003",  #   4 [ ] raise-vanilla-args
    "ARG001",  #   3 [ ] unused-function-argument
    "ARG002",  #   3 [ ] unused-method-argument
    "D102",    #   3 [ ] undocumented-public-method
    "D105",    #   3 [ ] undocumented-magic-method
    "DTZ005",  #   3 [ ] call-datetime-now-without-tzinfo
    "EM102",   #   3 [ ] f-string-in-exception
    "ERA001",  #   3 [ ] commented-out-code
    "PLR2004", #   3 [ ] magic-value-comparison
    "PLW2901", #   3 [ ] redefined-loop-name
    "SIM105",  #   3 [ ] suppressible-exception
    "FBT003",  #   2 [ ] boolean-positional-value-in-call
    "FURB113", #   2 [ ] repeated-append
    "PIE810",  #   2 [ ] multiple-starts-ends-with
    "PLW0603", #   2 [ ] global-statement
    "RUF022",  #   2 [*] unsorted-dunder-all
    "ANN001",  #   1 [ ] missing-type-function-argument
    "ANN002",  #   1 [ ] missing-type-args
    "EM101",   #   1 [ ] raw-string-in-exception
    "PERF401", #   1 [ ] manual-list-comprehension
    "PLW1510", #   1 [*] subprocess-run-without-check
    "RUF001",  #   1 [ ] ambiguous-unicode-character-string
    # Docstring
    "D203",
    "D211",
    "D212",
    "D213",
  ]


[lint.mccabe]
# TODO: Set max-complexity = 10
max-complexity = 12

[lint.isort]
combine-as-imports = true
required-imports = ["from __future__ import annotations"]
known-first-party = ["hop3_installer"]

[lint.per-file-ignores]
"src/**/*.py" = [
    "PT", # Pytest warnings in source code are probably false positives
]
"tests/**/*.py" = [
    "ANN",     # Missing type annotations
    "DOC201",  #  80 [ ] docstring-missing-returns
    "PLC1901", #   8 [ ] compare-to-empty-string
    "INP001",  #   6 [ ] implicit-namespace-package
    "S105",    #   3 [ ] hardcoded-password-string
    "D403",    #   2 [*] first-word-uncapitalized
    "F841",    #   2 [ ] unused-variable
    "RUF059",  #   2 [ ] unused-unpacked-variable
    "DOC402",  #   1 [ ] docstring-missing-yields
    "S106",    #   1 [ ] hardcoded-password-func-arg
    "SIM300",  #   1 [*] yoda-conditions
    "SIM117",
    "PLC2801",
]

.. image:: https://odoo-community.org/readme-banner-image
   :target: https://odoo-community.org/get-involved?utm_source=readme
   :alt: Odoo Community Association

=================================
Japan Summary Invoice - Carryover
=================================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:810b3acbdac7bfaac5b746a7236ab459bad2c7fdcefc0ce190ffaef00ef80ed5
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Alpha-red.png
    :target: https://odoo-community.org/page/development-status
    :alt: Alpha
.. |badge2| image:: https://img.shields.io/badge/license-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--japan-lightgray.png?logo=github
    :target: https://github.com/OCA/l10n-japan/tree/18.0/l10n_jp_summary_invoice_carryover
    :alt: OCA/l10n-japan
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/l10n-japan-18-0/l10n-japan-18-0-l10n_jp_summary_invoice_carryover
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-japan&target_branch=18.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module extends Japan Summary Invoice to support carryover amount
tracking for recurring billing cycles.

It adds the following fields to billings:

- **Previous Billed Amount**: Total from the previous billing period
- **Payment Amount**: Payments received against the previous billing
- **Carryover Amount**: Outstanding balance carried forward
- **Total Billed Amount**: Carryover plus current purchases

Manual override fields are available to adjust values when needed.

The visibility of carryover amounts in the report can be controlled at
company, partner, and billing levels.

.. IMPORTANT::
   This is an alpha version, the data model and design can change at any time without warning.
   Only for development or testing purpose, do not use in production.
   `More details on development status <https://odoo-community.org/page/development-status>`_

**Table of contents**

.. contents::
   :local:

Configuration
=============

The visibility of carryover amounts in the report can be controlled at
three levels:

1. **Company** (default for all partners): Go to *Settings > Invoicing >
   Japan Summary Invoice* and enable/disable **Show Carryover Amounts**.

2. **Partner** (override for specific customers): Go to the partner
   form, under *Sales & Purchases > Summary Invoice*, set **Show
   Carryover Amounts** to:

   - *Use Company Default*: Follow the company setting
   - *Yes*: Always show carryover amounts
   - *No*: Never show carryover amounts

3. **Billing** (per-billing override): In the billing form under the
   *Carryover* tab, the **Show Carryover Amounts** checkbox is computed
   from the partner setting but can be manually adjusted.

Usage
=====

1. When creating a new billing, the system automatically finds the most
   recent validated billing for the same partner and calculates:

   - **Previous Billed Amount**: Total amount from the previous billing.
   - **Payment Amount**: Payments received on the previous billing
     invoices.
   - **Carryover Amount**: Previous billed amount minus payments.

2. Use the **Manual Adj.** toggle to manually override the computed
   values if needed. This is useful when the previous billing was
   created before this module was installed or when adjustments are
   required.
3. When the billing is validated, the current computed values are
   automatically frozen by enabling the manual override toggles. This
   ensures that subsequent payments on previous invoices do not affect
   the validated billing's carryover amounts.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-japan/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/l10n-japan/issues/new?body=module:%20l10n_jp_summary_invoice_carryover%0Aversion:%2018.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* Quartile

Contributors
------------

- `Quartile <https://www.quartile.co>`__:

  - Yoshi Tashiro

Maintainers
-----------

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

.. |maintainer-yostashiro| image:: https://github.com/yostashiro.png?size=40px
    :target: https://github.com/yostashiro
    :alt: yostashiro
.. |maintainer-aungkokolin1997| image:: https://github.com/aungkokolin1997.png?size=40px
    :target: https://github.com/aungkokolin1997
    :alt: aungkokolin1997

Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:

|maintainer-yostashiro| |maintainer-aungkokolin1997| 

This module is part of the `OCA/l10n-japan <https://github.com/OCA/l10n-japan/tree/18.0/l10n_jp_summary_invoice_carryover>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.

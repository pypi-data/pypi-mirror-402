[build-system]
requires = ["poetry-core>=2.0.0,<3.0.0", "poetry-dynamic-versioning>=1.3.0"]
build-backend = "poetry_dynamic_versioning.backend"

[tool.poetry.requires-plugins]
poetry-dynamic-versioning = { version = ">=1.0.0,<2.0.0", extras = ["plugin"] }

[tool.poetry]
name = "neuralk"
description = "Neuralk SDK for Python"
authors = ["Neuralk <info@neuralk.com>"]
readme = "README.md"
# gets overriden by poetry-dynamic-versioning
version = "0.1.0"
packages = [
    {include = "neuralk", from = "src"}
]

[tool.poetry-dynamic-versioning]
enable = false

[tool.poetry-dynamic-versioning.from-file]
source = "src/neuralk/VERSION.txt"

[tool.poetry.dependencies]
python = "^3.11"
requests = ">=2.32.3"
scikit-learn = ">=1.4.2"
polars = ">=1.11.0"
httpx = { extras = ["http2"], version =  ">=0.25.2" }
zstandard = ">=0.22.0"
cloudpickle = ">=3.0.0"
rich = ">=13.0.0"
click = ">=8.0.0"

[tool.poetry.group.dev.dependencies]
pylint = "^3.3.7"
pytest = "^8.4.0"
pytest-httpx = "^0.35.0"
pytest-cov = "^6.0.0"

[tool.poetry.group.docs.dependencies]
sphinx = ">=7.0.0,<9.0.0"
# Using local sphinxawesome_theme with Docusaurus-style modifications
# Install from local: pip install -e ../sphinxawesome_theme
sphinxawesome-theme = { path = "../sphinxawesome_theme", develop = true }
sphinx-autodoc-typehints = "*"
sphinx-markdown-builder = "*"
numpydoc = "*"
sphinx-design = "*"
sphinx-gallery = "*"
sphinx-autosummary-accessors = "*"
sphinx-copybutton = "*"
matplotlib = "*"
ipython = "*"
scikit-learn = "*"
python-dotenv = "*"
skrub = "*"

[tool.poetry.scripts]
neuralk = "neuralk.cli:main"

[tool.ruff]
# Ignore redefinition warnings for pytest fixtures in test files
[tool.ruff.lint.per-file-ignores]
"tests/**/*.py" = ["F811"]
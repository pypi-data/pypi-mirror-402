---
title: "Remote"
description: "Remote agent implementation for executing agents via API API Documentation"
icon: "code"
github: "https://github.com/mcp-use/mcp-use/blob/main/libraries/python/mcp_use/agents/remote.py"
---

import {RandomGradientBackground} from "/snippets/gradient.jsx"

<Callout type="info" title="Source Code">
View the source code for this module on GitHub: <a href='https://github.com/mcp-use/mcp-use/blob/main/libraries/python/mcp_use/agents/remote.py' target='_blank' rel='noopener noreferrer'>https://github.com/mcp-use/mcp-use/blob/main/libraries/python/mcp_use/agents/remote.py</a>
</Callout>

Remote agent implementation for executing agents via API.

## RemoteAgent

<div>
<RandomGradientBackground className="rounded-lg p-4 w-full h-full rounded-full">
<div className="text-black">
<div className="text-black font-bold text-xl mb-2 mt-8"><code className="!text-black">class</code> RemoteAgent</div>

Agent that executes remotely via API.

</div>
</RandomGradientBackground>
```python
from mcp_use.agents.remote import RemoteAgent
```

<Card type="info">
### `method` __init__

Initialize remote agent.


**Parameters**
><ParamField body="agent_id" type="str" required="True" >   The ID of the remote agent to execute </ParamField>
><ParamField body="chat_id" type="str | None" default="None" >   The ID of the chat session to use. If None, a new chat session will be created. </ParamField>
><ParamField body="api_key" type="str | None" default="None" >   API key for authentication. If None, will check MCP_USE_API_KEY env var </ParamField>
><ParamField body="base_url" type="str" default='https://cloud.mcp-use.com' >   Base URL for the remote API </ParamField>

**Signature**
```python wrap
def __init__(agent_id: str, chat_id: str | None = None, api_key: str | None = None, base_url: str = "https://cloud.mcp-use.com"):
```

</Card>
<Card type="info">
### `method` close

Close the HTTP client.


**Signature**
```python wrap
def close():
```

</Card>

<Card type="info">
### `method` run

Executes the agent and returns the final result.
        This method uses HTTP streaming to avoid timeouts for long-running tasks.
        It consumes the entire stream and returns only the final result.


**Parameters**
><ParamField body="query" type="str" required="True" >   Query string or input </ParamField>
><ParamField body="max_steps" type="int | None" default="None" >   Integer value </ParamField>
><ParamField body="external_history" type="list[langchain_core.messages.base.BaseMessage] | None" default="None" >   List of items </ParamField>
><ParamField body="output_schema" type="type[~T] | None" default="None" >   Parameter value </ParamField>

**Returns**
><ResponseField name="returns" type="str | mcp_use.agents.remote.T" />

**Signature**
```python wrap
def run(
query: str,
    max_steps: int | None = None,
    external_history: list[langchain_core.messages.base.BaseMessage] | None = None,
    output_schema: type[~T] | None = None
):
```

</Card>

<Card type="info">
### `method` stream

Stream the execution of a query on the remote agent using HTTP streaming.


**Parameters**
><ParamField body="query" type="str" required="True" >   Query string or input </ParamField>
><ParamField body="max_steps" type="int | None" default="None" >   Integer value </ParamField>
><ParamField body="external_history" type="list[langchain_core.messages.base.BaseMessage] | None" default="None" >   List of items </ParamField>
><ParamField body="output_schema" type="type[~T] | None" default="None" >   Parameter value </ParamField>

**Returns**
><ResponseField name="returns" type="AsyncGenerator" />

**Signature**
```python wrap
def stream(
query: str,
    max_steps: int | None = None,
    external_history: list[langchain_core.messages.base.BaseMessage] | None = None,
    output_schema: type[~T] | None = None
):
```

</Card>

</div>

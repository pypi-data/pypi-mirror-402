version: '3.8'

services:
  musiclist:
    build: .
    image: musiclist-for-soundiiz:latest
    container_name: musiclist-soundiiz
    volumes:
      # Mount your music directory (change left side to your path)
      - ./music:/music:ro
      # Mount output directory (change left side to your path)
      - ./output:/output
    command: -i /music -o /output/playlist.csv
    
    # Alternative: Interactive mode
    # stdin_open: true
    # tty: true

# Example usage:
# 1. Basic scan:
#    docker-compose run --rm musiclist -i /music -o /output/playlist.csv
#
# 2. With options:
#    docker-compose run --rm musiclist -i /music -o /output/playlist.json -f json --remove-duplicates
#
# 3. Multiple directories:
#    docker-compose run --rm musiclist -i /music/rock /music/pop -o /output/all.csv
#
# 4. Interactive shell:
#    docker-compose run --rm --entrypoint /bin/bash musiclist

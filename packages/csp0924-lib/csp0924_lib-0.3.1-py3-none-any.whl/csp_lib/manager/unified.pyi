import dataclasses
from csp_lib.manager.alarm.repository import AlarmRepository
from csp_lib.manager.command.repository import CommandRepository
from typing import ClassVar, Sequence

__all__ = ['UnifiedConfig', 'UnifiedDeviceManager']

class UnifiedConfig:
    alarm_repository: ClassVar[None] = ...
    command_repository: ClassVar[None] = ...
    mongo_uploader: ClassVar[None] = ...
    redis_client: ClassVar[None] = ...
    __dataclass_params__: ClassVar[dataclasses._DataclassParams] = ...
    __dataclass_fields__: ClassVar[dict] = ...
    __match_args__: ClassVar[tuple] = ...
    def __replace__(self, **changes): ...
    def __init__(self, alarm_repository: AlarmRepository | None = ..., command_repository: CommandRepository | None = ..., mongo_uploader: MongoBatchUploader | None = ..., redis_client: RedisClient | None = ...) -> None: ...
    def __eq__(self, other) -> bool: ...

class UnifiedDeviceManager:
    def __init__(self, config: UnifiedConfig) -> None: ...
    def register(self, device: AsyncModbusDevice, collection_name: str | None = ...) -> None: ...
    def register_group(self, devices: Sequence[AsyncModbusDevice], interval: float = ..., collection_name: str | None = ...) -> None: ...
    def _subscribe_all(self, device: AsyncModbusDevice, collection_name: str | None) -> None: ...
    def start(self) -> None: ...
    def stop(self) -> None: ...
    def __aenter__(self) -> UnifiedDeviceManager: ...
    def __aexit__(self, exc_type, exc_val, exc_tb) -> None: ...
    @property
    def device_manager(self): ...
    @property
    def alarm_manager(self): ...
    @property
    def command_manager(self): ...
    @property
    def data_manager(self): ...
    @property
    def state_manager(self): ...
    @property
    def is_running(self): ...

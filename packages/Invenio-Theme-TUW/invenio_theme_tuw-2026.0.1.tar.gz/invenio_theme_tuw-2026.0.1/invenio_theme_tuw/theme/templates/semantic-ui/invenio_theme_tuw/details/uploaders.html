{#
  Copyright (C) 2023 TU Wien.

  Invenio-Theme-TUW is free software; you can redistribute it and/or modify
  it under the terms of the MIT License; see LICENSE file for more details.
#}

{%- set rec = record_ui["id"]|resolve_record -%}
{%- set uploader = rec|resolve_user_owner -%}
{%- set current_user_owns_record = current_user and current_user.id == uploader.id -%}
<section id="record-owner" aria-label="{{ _('Uploader') }}" class="ui sidebar-container owner">
  <h2 class="ui medium top attached header flex align-items-baseline mt-0">{{ _('Depositor')}}</h2>

  <section class="ui segment bottom attached rdm-sidebar" aria-label="{{ _('Uploader') }}">
    {%- if uploader.user_profile and uploader.user_profile.full_name -%}
      {{ uploader.user_profile.full_name }}
      {%- if config.THEME_TUW_CONTACT_UPLOADER_ENABLED and not current_user_owns_record -%}
        &nbsp;&ndash;&nbsp; <a href="{{ url_for('invenio_theme_tuw.contact_uploader', recid=record_ui["id"]) }}">Contact <i class="mail icon"></i></a>
      {%- endif -%}
    {%- else -%}
      N/A
    {%- endif -%}
  </section>
</section>

import{t as e,b as i,x as Le,v as Ie}from"./index-C6J4Pqq0.js";import{u as Fe,t as W,l as He}from"./index-DDT61vXN.js";import{c as Ve,a as Ke,u as $e,b as pe,P as Be,d as O,e as xe,f as qe,g as Z,h as Je,B as Ge,i as ze,j as Qe,k as Ue,l as Xe,m as Ye,n as We,o as Ze,p as et}from"./api-BcmuLCHF.js";import{c as fe,u as tt,R as rt,A as nt,P as st,a as ot,D as at,C as lt,b as it,d as ct,X as dt,E as ie,e as ce,f as de,g as ue,h as ut}from"./index-BvBHXW9B.js";import{u as D,p as M,a as S,T as ht,I as mt,S as he,C as F}from"./input-BxPSwHG2.js";import{u as pt,a as xt,K as k,D as ft,c as gt,P as vt,b as jt,d as P,e as bt,f as H,g as me,h as yt,S as w}from"./hooks-DEbwiSBQ.js";import"./mutation-CzWEsub0.js";import"./compare-Br3z3FUS-D05ZBVBy.js";const Ct=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Tt=Ve("folder-open",Ct);var Nt=Symbol("radix.slottable");function wt(t){const r=({children:n})=>e.jsx(e.Fragment,{children:n});return r.displayName=`${t}.Slottable`,r.__radixId=Nt,r}var[U]=Ke("Tooltip",[fe]),X=fe(),ge="TooltipProvider",Pt=700,te="tooltip.open",[Et,ne]=U(ge),ve=t=>{const{__scopeTooltip:r,delayDuration:n=Pt,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:u}=t,a=i.useRef(!0),c=i.useRef(!1),d=i.useRef(0);return i.useEffect(()=>{const x=d.current;return()=>window.clearTimeout(x)},[]),e.jsx(Et,{scope:r,isOpenDelayedRef:a,delayDuration:n,onOpen:i.useCallback(()=>{window.clearTimeout(d.current),a.current=!1},[]),onClose:i.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:i.useCallback(x=>{c.current=x},[]),disableHoverableContent:o,children:u})};ve.displayName=ge;var B="Tooltip",[_t,q]=U(B),je=t=>{const{__scopeTooltip:r,children:n,open:s,defaultOpen:o,onOpenChange:u,disableHoverableContent:a,delayDuration:c}=t,d=ne(B,t.__scopeTooltip),x=X(r),[h,p]=i.useState(null),f=tt(),m=i.useRef(0),v=a??d.disableHoverableContent,g=c??d.delayDuration,b=i.useRef(!1),[j,y]=$e({prop:s,defaultProp:o??!1,onChange:G=>{G?(d.onOpen(),document.dispatchEvent(new CustomEvent(te))):d.onClose(),u?.(G)},caller:B}),T=i.useMemo(()=>j?b.current?"delayed-open":"instant-open":"closed",[j]),_=i.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,y(!0)},[y]),N=i.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),J=i.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,y(!0),m.current=0},g)},[g,y]);return i.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),e.jsx(rt,{...x,children:e.jsx(_t,{scope:r,contentId:f,open:j,stateAttribute:T,trigger:h,onTriggerChange:p,onTriggerEnter:i.useCallback(()=>{d.isOpenDelayedRef.current?J():_()},[d.isOpenDelayedRef,J,_]),onTriggerLeave:i.useCallback(()=>{v?N():(window.clearTimeout(m.current),m.current=0)},[N,v]),onOpen:_,onClose:N,disableHoverableContent:v,children:n})})};je.displayName=B;var re="TooltipTrigger",be=i.forwardRef((t,r)=>{const{__scopeTooltip:n,...s}=t,o=q(re,n),u=ne(re,n),a=X(n),c=i.useRef(null),d=pe(r,c,o.onTriggerChange),x=i.useRef(!1),h=i.useRef(!1),p=i.useCallback(()=>x.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(nt,{asChild:!0,...a,children:e.jsx(Be.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:d,onPointerMove:O(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!u.isPointerInTransitRef.current&&(o.onTriggerEnter(),h.current=!0)}),onPointerLeave:O(t.onPointerLeave,()=>{o.onTriggerLeave(),h.current=!1}),onPointerDown:O(t.onPointerDown,()=>{o.open&&o.onClose(),x.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:O(t.onFocus,()=>{x.current||o.onOpen()}),onBlur:O(t.onBlur,o.onClose),onClick:O(t.onClick,o.onClose)})})});be.displayName=re;var se="TooltipPortal",[Dt,St]=U(se,{forceMount:void 0}),ye=t=>{const{__scopeTooltip:r,forceMount:n,children:s,container:o}=t,u=q(se,r);return e.jsx(Dt,{scope:r,forceMount:n,children:e.jsx(xe,{present:n||u.open,children:e.jsx(st,{asChild:!0,container:o,children:s})})})};ye.displayName=se;var A="TooltipContent",Ce=i.forwardRef((t,r)=>{const n=St(A,t.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...u}=t,a=q(A,t.__scopeTooltip);return e.jsx(xe,{present:s||a.open,children:a.disableHoverableContent?e.jsx(Te,{side:o,...u,ref:r}):e.jsx(Rt,{side:o,...u,ref:r})})}),Rt=i.forwardRef((t,r)=>{const n=q(A,t.__scopeTooltip),s=ne(A,t.__scopeTooltip),o=i.useRef(null),u=pe(r,o),[a,c]=i.useState(null),{trigger:d,onClose:x}=n,h=o.current,{onPointerInTransitChange:p}=s,f=i.useCallback(()=>{c(null),p(!1)},[p]),m=i.useCallback((v,g)=>{const b=v.currentTarget,j={x:v.clientX,y:v.clientY},y=At(j,b.getBoundingClientRect()),T=Lt(j,y),_=It(g.getBoundingClientRect()),N=Ht([...T,..._]);c(N),p(!0)},[p]);return i.useEffect(()=>()=>f(),[f]),i.useEffect(()=>{if(d&&h){const v=b=>m(b,h),g=b=>m(b,d);return d.addEventListener("pointerleave",v),h.addEventListener("pointerleave",g),()=>{d.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",g)}}},[d,h,m,f]),i.useEffect(()=>{if(a){const v=g=>{const b=g.target,j={x:g.clientX,y:g.clientY},y=d?.contains(b)||h?.contains(b),T=!Ft(j,a);y?f():T&&(f(),x())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,h,a,x,f]),e.jsx(Te,{...t,ref:u})}),[Ot,Mt]=U(B,{isInside:!1}),kt=wt("TooltipContent"),Te=i.forwardRef((t,r)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:u,onPointerDownOutside:a,...c}=t,d=q(A,n),x=X(n),{onClose:h}=d;return i.useEffect(()=>(document.addEventListener(te,h),()=>document.removeEventListener(te,h)),[h]),i.useEffect(()=>{if(d.trigger){const p=f=>{f.target?.contains(d.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,h]),e.jsx(at,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:e.jsxs(lt,{"data-state":d.stateAttribute,...x,...c,ref:r,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(kt,{children:s}),e.jsx(Ot,{scope:n,isInside:!0,children:e.jsx(it,{id:d.contentId,role:"tooltip",children:o||s})})]})})});Ce.displayName=A;var Ne="TooltipArrow",we=i.forwardRef((t,r)=>{const{__scopeTooltip:n,...s}=t,o=X(n);return Mt(Ne,n).isInside?null:e.jsx(ot,{...o,...s,ref:r})});we.displayName=Ne;function At(t,r){const n=Math.abs(r.top-t.y),s=Math.abs(r.bottom-t.y),o=Math.abs(r.right-t.x),u=Math.abs(r.left-t.x);switch(Math.min(n,s,o,u)){case u:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Lt(t,r,n=5){const s=[];switch(r){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function It(t){const{top:r,right:n,bottom:s,left:o}=t;return[{x:o,y:r},{x:n,y:r},{x:n,y:s},{x:o,y:s}]}function Ft(t,r){const{x:n,y:s}=t;let o=!1;for(let u=0,a=r.length-1;u<r.length;a=u++){const c=r[u],d=r[a],x=c.x,h=c.y,p=d.x,f=d.y;h>s!=f>s&&n<(p-x)*(s-h)/(f-h)+x&&(o=!o)}return o}function Ht(t){const r=t.slice();return r.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Vt(r)}function Vt(t){if(t.length<=1)return t.slice();const r=[];for(let s=0;s<t.length;s++){const o=t[s];for(;r.length>=2;){const u=r[r.length-1],a=r[r.length-2];if((u.x-a.x)*(o.y-a.y)>=(u.y-a.y)*(o.x-a.x))r.pop();else break}r.push(o)}r.pop();const n=[];for(let s=t.length-1;s>=0;s--){const o=t[s];for(;n.length>=2;){const u=n[n.length-1],a=n[n.length-2];if((u.x-a.x)*(o.y-a.y)>=(u.y-a.y)*(o.x-a.x))n.pop();else break}n.push(o)}return n.pop(),r.length===1&&n.length===1&&r[0].x===n[0].x&&r[0].y===n[0].y?r:r.concat(n)}var Kt=ve,$t=je,Bt=be,qt=ye,Jt=Ce,Gt=we;function zt({delayDuration:t=0,...r}){return e.jsx(Kt,{"data-slot":"tooltip-provider",delayDuration:t,...r})}function V({...t}){return e.jsx(zt,{children:e.jsx($t,{"data-slot":"tooltip",...t})})}function K({...t}){return e.jsx(Bt,{"data-slot":"tooltip-trigger",...t})}function $({className:t,sideOffset:r=0,children:n,...s}){return e.jsx(qt,{children:e.jsxs(Jt,{"data-slot":"tooltip-content",sideOffset:r,className:qe("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[n,e.jsx(Gt,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const ee=100,Qt=[{value:"today",label:"Last 24 hours"},{value:"week",label:"Last 7 days"},{value:"month",label:"Last 30 days"}];function Ut(t,r){if(!t)return"-";const n=new Date(t).getTime(),o=(r?new Date(r).getTime():Date.now())-n,u=Math.floor(o/1e3),a=Math.floor(u/60),c=Math.floor(a/60);return c>0?`${c}h ${a%60}m`:a>0?`${a}m ${u%60}s`:`${u}s`}const Xt=[gt(),{accessorKey:"name",header:({column:t})=>e.jsx(w,{column:t,children:"Job Name"})},{accessorKey:"agents",header:({column:t})=>e.jsx(w,{column:t,children:"Agents"}),sortingFn:(t,r)=>{const n=t.original.agents[0]??"",s=r.original.agents[0]??"";return n.localeCompare(s)},cell:({row:t})=>{const r=t.original.agents;return r.length===0?e.jsx("span",{className:"text-muted-foreground",children:"-"}):r.length===1?e.jsx("span",{className:"text-sm",children:r[0]}):e.jsxs(V,{children:[e.jsx(K,{asChild:!0,children:e.jsxs("span",{className:"text-sm cursor-default",children:[r[0]," ",e.jsxs("span",{className:"text-muted-foreground",children:["+",r.length-1," more"]})]})}),e.jsx($,{children:e.jsx("p",{children:r.join(", ")})})]})}},{accessorKey:"providers",header:({column:t})=>e.jsx(w,{column:t,children:"Providers"}),sortingFn:(t,r)=>{const n=t.original.providers[0]??"",s=r.original.providers[0]??"";return n.localeCompare(s)},cell:({row:t})=>{const r=t.original.providers;return r.length===0?e.jsx("span",{className:"text-muted-foreground",children:"-"}):r.length===1?e.jsx("span",{className:"text-sm",children:r[0]}):e.jsxs(V,{children:[e.jsx(K,{asChild:!0,children:e.jsxs("span",{className:"text-sm cursor-default",children:[r[0]," ",e.jsxs("span",{className:"text-muted-foreground",children:["+",r.length-1," more"]})]})}),e.jsx($,{children:e.jsx("p",{children:r.join(", ")})})]})}},{accessorKey:"models",header:({column:t})=>e.jsx(w,{column:t,children:"Models"}),sortingFn:(t,r)=>{const n=t.original.models[0]??"",s=r.original.models[0]??"";return n.localeCompare(s)},cell:({row:t})=>{const r=t.original.models;return r.length===0?e.jsx("span",{className:"text-muted-foreground",children:"-"}):r.length===1?e.jsx("span",{className:"text-sm",children:r[0]}):e.jsxs(V,{children:[e.jsx(K,{asChild:!0,children:e.jsxs("span",{className:"text-sm cursor-default",children:[r[0]," ",e.jsxs("span",{className:"text-muted-foreground",children:["+",r.length-1," more"]})]})}),e.jsx($,{children:e.jsx("p",{children:r.join(", ")})})]})}},{accessorKey:"environment_type",header:({column:t})=>e.jsx(w,{column:t,children:"Environment"}),cell:({row:t})=>{const r=t.original.environment_type;return r?e.jsx("span",{className:"text-sm",children:r}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"started_at",header:({column:t})=>e.jsx(w,{column:t,children:"Started"}),cell:({row:t})=>{const r=t.original.started_at;return r?new Date(r).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"}):"-"}},{id:"duration",header:({column:t})=>e.jsx(w,{column:t,children:"Duration"}),accessorFn:t=>!t.started_at||!t.finished_at?0:new Date(t.finished_at).getTime()-new Date(t.started_at).getTime(),cell:({row:t})=>{const{started_at:r,finished_at:n}=t.original;return!r||!n?"-":Ut(r,n)}},{accessorKey:"n_total_trials",header:({column:t})=>e.jsx("div",{className:"text-right",children:e.jsx(w,{column:t,children:"Trials"})}),cell:({row:t})=>{const r=t.original.n_total_trials,n=t.original.n_completed_trials;return e.jsxs("div",{className:"text-right",children:[n,"/",r]})}},{accessorKey:"n_errors",header:({column:t})=>e.jsx("div",{className:"text-right",children:e.jsx(w,{column:t,children:"Errors"})}),cell:({row:t})=>{const r=t.original.n_errors;return e.jsx("div",{className:"text-right",children:r})}},{accessorKey:"evals",header:({column:t})=>e.jsx("div",{className:"text-right",children:e.jsx(w,{column:t,children:"Result"})}),sortingFn:(t,r)=>{const n=Object.entries(t.original.evals),s=Object.entries(r.original.evals),o=n[0]?.[1]?.metrics[0],u=s[0]?.[1]?.metrics[0],a=o?Object.values(o)[0]:null,c=u?Object.values(u)[0]:null;return a===null&&c===null?0:a===null?1:c===null?-1:typeof a=="number"&&typeof c=="number"?a-c:String(a).localeCompare(String(c))},cell:({row:t})=>{const r=t.original.evals,n=Object.entries(r);if(n.length===0)return e.jsx("div",{className:"text-right text-muted-foreground",children:"-"});const[,s]=n[0],o=s.metrics[0];if(!o)return e.jsx("div",{className:"text-right text-muted-foreground",children:"-"});const[u,a]=Object.entries(o)[0],c=typeof a=="number"?a.toFixed(2):String(a);return n.length===1?e.jsxs(V,{children:[e.jsx(K,{asChild:!0,children:e.jsx("div",{className:"text-right cursor-default",children:c})}),e.jsx($,{children:e.jsxs("p",{children:[u,"=",c]})})]}):e.jsxs(V,{children:[e.jsx(K,{asChild:!0,children:e.jsxs("div",{className:"text-right cursor-default",children:[c," ",e.jsxs("span",{className:"text-muted-foreground",children:["+",n.length-1," more"]})]})}),e.jsx($,{align:"end",children:e.jsx("ul",{className:"space-y-0.5",children:n.map(([d,x])=>{const h=x.metrics[0],p=`(${d.split("__").join(", ")})`;if(!h)return e.jsx("li",{children:p},d);const[f,m]=Object.entries(h)[0],v=typeof m=="number"?m.toFixed(2):m;return e.jsxs("li",{children:[p,": ",f,"=",v]},d)})})})]})}}],or=Le(function(){const r=Ie(),n=Fe(),[s,o]=D("selected",M(S).withDefault([])),[u,a]=i.useState(!1),[c,d]=i.useState(1),[x,h]=D("q",S.withDefault("")),[p,f]=D("agent",M(S).withDefault([])),[m,v]=D("provider",M(S).withDefault([])),[g,b]=D("model",M(S).withDefault([])),[j,y]=D("date",M(S).withDefault([])),[T,_]=D("hide",M(S).withDefault([])),N=i.useMemo(()=>[{value:"name",label:"Job Name"},{value:"agents",label:"Agents"},{value:"providers",label:"Providers"},{value:"models",label:"Models"},{value:"environment_type",label:"Environment"},{value:"started_at",label:"Started"},{value:"duration",label:"Duration"},{value:"n_total_trials",label:"Trials"},{value:"n_errors",label:"Errors"},{value:"evals",label:"Result"}],[]),J=i.useMemo(()=>{const l={};for(const C of T)l[C]=!1;return l},[T]),G=i.useMemo(()=>N.filter(l=>!T.includes(l.value)).map(l=>l.value),[N,T]),Pe=l=>{const C=N.filter(I=>!l.includes(I.value)).map(I=>I.value);_(C.length>0?C:null)},z=pt(x,300);i.useEffect(()=>{d(1)},[z,p,m,g,j]);const{data:R}=Z({queryKey:["jobFilters"],queryFn:We,staleTime:6e4}),{data:Ee}=Z({queryKey:["config"],queryFn:Ze,staleTime:1/0}),_e=i.useMemo(()=>(R?.agents??[]).map(l=>({value:l.value,label:l.value,count:l.count})),[R?.agents]),De=i.useMemo(()=>(R?.providers??[]).map(l=>({value:l.value,label:l.value,count:l.count})),[R?.providers]),Se=i.useMemo(()=>(R?.models??[]).map(l=>({value:l.value,label:l.value,count:l.count})),[R?.models]),{data:Y,isLoading:Re}=Z({queryKey:["jobs",c,z,p,m,g,j],queryFn:()=>et(c,ee,{search:z||void 0,agents:p.length>0?p:void 0,providers:m.length>0?m:void 0,models:g.length>0?g:void 0,dates:j.length>0?j:void 0}),placeholderData:He}),Q=Y?.items??[],E=Y?.total_pages??0,oe=Y?.total??0,ae=i.useRef(null);Je("mod+k",l=>{l.preventDefault(),ae.current?.focus()},{enableOnFormTags:!0});const{highlightedIndex:Oe}=xt({rows:Q,onNavigate:l=>r(`/jobs/${l.name}`)}),Me=i.useMemo(()=>{const l={};for(const C of s)l[C]=!0;return l},[s]),L=i.useMemo(()=>Q.filter(l=>s.includes(l.name)),[Q,s]),ke=l=>{const C=Object.keys(l).filter(I=>l[I]);o(C.length>0?C:null)},le=ct({mutationFn:async l=>{await Promise.all(l.map(C=>Ye(C)))},onSuccess:()=>{n.invalidateQueries({queryKey:["jobs"]}),W("Jobs deleted",{description:`${L.length} job(s) deleted`}),o(null),a(!1)},onError:l=>{W.error("Failed to delete jobs",{description:l.message}),a(!1)}}),Ae=()=>{u?le.mutate(L.map(l=>l.name)):a(!0)};return e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(Ge,{className:"mb-4",children:e.jsx(ze,{children:e.jsx(Qe,{children:e.jsx(Ue,{children:"Jobs"})})})}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-medium mb-2",children:"Jobs"}),e.jsx("p",{className:"text-muted-foreground",children:"Browse and inspect Harbor jobs"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{children:"j"}),e.jsx(k,{children:"k"}),e.jsx("span",{children:"to navigate"})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{children:"Enter"}),e.jsx("span",{children:"to open"})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{children:"Esc"}),e.jsx("span",{children:"to deselect"})]})]}),L.length>0&&e.jsxs(Xe,{variant:u?"destructive":"secondary",onClick:Ae,onBlur:()=>a(!1),disabled:le.isPending,children:[e.jsx(ht,{className:"h-4 w-4"}),u?`Confirm delete (${L.length})`:`Delete (${L.length})`]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-7 -mb-px",children:[e.jsxs("div",{className:"col-span-2 relative",children:[e.jsx(mt,{ref:ae,placeholder:"Search for jobs...",value:x,onChange:l=>h(l.target.value||null),size:"lg",variant:"card",className:"peer pl-9 pr-16 shadow-none"}),e.jsx(he,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-border transition-colors peer-focus-visible:text-ring"}),x?e.jsx("button",{type:"button",onClick:()=>h(null),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e.jsx(dt,{className:"h-4 w-4"})}):e.jsxs("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[e.jsx(k,{children:"âŒ˜"}),e.jsx(k,{children:"K"})]})]}),e.jsx(F,{options:_e,value:p,onValueChange:f,placeholder:"All agents",searchPlaceholder:"Search agents...",emptyText:"No agents found.",variant:"card",className:"w-full border-l-0 shadow-none"}),e.jsx(F,{options:De,value:m,onValueChange:v,placeholder:"All providers",searchPlaceholder:"Search providers...",emptyText:"No providers found.",variant:"card",className:"w-full border-l-0 shadow-none"}),e.jsx(F,{options:Se,value:g,onValueChange:b,placeholder:"All models",searchPlaceholder:"Search models...",emptyText:"No models found.",variant:"card",className:"w-full border-l-0 shadow-none"}),e.jsx(F,{options:Qt,value:j,onValueChange:y,placeholder:"All time",searchPlaceholder:"Search...",emptyText:"No options.",variant:"card",className:"w-full border-l-0 shadow-none"}),e.jsx(F,{options:N,value:G,onValueChange:Pe,placeholder:"Columns",searchPlaceholder:"Search columns...",emptyText:"No columns.",variant:"card",className:"w-full border-l-0 shadow-none",multiSelectLabel:"columns"})]}),e.jsx(ft,{columns:Xt,data:Q,onRowClick:l=>r(`/jobs/${l.name}`),enableRowSelection:!0,rowSelection:Me,onRowSelectionChange:ke,columnVisibility:J,getRowId:l=>l.name,isLoading:Re,className:"border-t-0",highlightedIndex:Oe,emptyState:z||p.length>0||m.length>0||g.length>0||j.length>0?e.jsx(ie,{className:"border-0",children:e.jsxs(ce,{children:[e.jsx(de,{variant:"icon",children:e.jsx(he,{})}),e.jsx(ue,{children:"No jobs match those filters"})]})}):e.jsx(ie,{className:"border-0",children:e.jsxs(ce,{children:[e.jsx(de,{variant:"icon",children:e.jsx(Tt,{})}),e.jsxs(ue,{children:["No jobs in ",Ee?.jobs_dir??"jobs directory"]}),e.jsxs(ut,{children:["Start a job using"," ",e.jsx("code",{className:"bg-muted px-1 py-0.5 cursor-default hover:bg-ring/20 hover:text-foreground transition-colors",onClick:()=>{navigator.clipboard.writeText("harbor run -d <dataset>"),W("Copied to clipboard")},children:"harbor run -d <dataset>"})]})]})})}),E>1&&e.jsxs("div",{className:"grid grid-cols-3 items-center mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(c-1)*ee+1,"-",Math.min(c*ee,oe)," of ",oe," jobs"]}),e.jsx(vt,{children:e.jsxs(jt,{children:[e.jsx(P,{children:e.jsx(bt,{onClick:()=>d(l=>Math.max(1,l-1)),className:c===1?"pointer-events-none opacity-50":"cursor-pointer"})}),c>2&&e.jsx(P,{children:e.jsx(H,{onClick:()=>d(1),className:"cursor-pointer",children:"1"})}),c>3&&e.jsx(P,{children:e.jsx(me,{})}),c>1&&e.jsx(P,{children:e.jsx(H,{onClick:()=>d(c-1),className:"cursor-pointer",children:c-1})}),e.jsx(P,{children:e.jsx(H,{isActive:!0,children:c})}),c<E&&e.jsx(P,{children:e.jsx(H,{onClick:()=>d(c+1),className:"cursor-pointer",children:c+1})}),c<E-2&&e.jsx(P,{children:e.jsx(me,{})}),c<E-1&&e.jsx(P,{children:e.jsx(H,{onClick:()=>d(E),className:"cursor-pointer",children:E})}),e.jsx(P,{children:e.jsx(yt,{onClick:()=>d(l=>Math.min(E,l+1)),className:c===E?"pointer-events-none opacity-50":"cursor-pointer"})})]})}),e.jsx("div",{})]})]})});export{or as default};

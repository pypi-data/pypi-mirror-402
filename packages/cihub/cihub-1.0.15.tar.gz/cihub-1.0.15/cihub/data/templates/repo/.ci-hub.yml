# CI/CD Hub Configuration
# Copy this to the root of your repo as `.ci-hub.yml` and adjust values.
# The hub reads this file and passes all settings to the appropriate workflow.

version: "1.0"

repo:
  owner: your-github-handle        # REQUIRED
  name: your-repo-name             # REQUIRED
  language: python                 # java | python
  # Only the section matching repo.language is used; delete the other if desired.
  # subdir: path/to/app            # optional for monorepos

# ============================================================================
# Python Configuration (use this section for Python repos)
# ============================================================================
python:
  version: "3.12"

  tools:
    pytest:
      enabled: true
      min_coverage: 70
    ruff:
      enabled: true
      max_errors: 0
    black:
      enabled: true
      max_issues: 0
    isort:
      enabled: true
      max_issues: 0
    bandit:
      enabled: true
    pip_audit:
      enabled: true
    mypy:
      enabled: false
    mutmut:
      enabled: false
      min_mutation_score: 70
    hypothesis:
      enabled: true
    semgrep:
      enabled: false
      max_findings: 0
    trivy:
      enabled: false
      fail_on_high: true
    codeql:
      enabled: false
    docker:
      enabled: false

# ============================================================================
# Java Configuration (use this section for Java repos)
# ============================================================================
java:
  version: "21"
  build_tool: maven               # maven | gradle

  tools:
    jacoco:
      enabled: true
      min_coverage: 70
    checkstyle:
      enabled: true
    spotbugs:
      enabled: true
    pmd:
      enabled: true
    owasp:
      enabled: true
      fail_on_cvss: 7
    pitest:
      enabled: true
      min_mutation_score: 70
    jqwik:
      enabled: false
    semgrep:
      enabled: false
      max_findings: 0
    trivy:
      enabled: false
    codeql:
      enabled: false
    docker:
      enabled: false

# ============================================================================
# Thresholds (global quality gates)
# ============================================================================
thresholds:
  coverage_min: 70
  mutation_score_min: 70
  max_critical_vulns: 0
  max_high_vulns: 0

# ============================================================================
# Reports
# ============================================================================
reports:
  retention_days: 30

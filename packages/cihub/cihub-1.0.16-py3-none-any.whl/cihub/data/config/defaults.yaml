# ============================================================================
# CI/CD Hub - Global Defaults
# ============================================================================
# AUTO-GENERATED from ci-hub-config.schema.json
# To regenerate:
#   python -c "from cihub.commands.schema_sync import generate_defaults_yaml; generate_defaults_yaml()"
#
# These settings apply to ALL repos unless overridden in the repo's .ci-hub.yml
# or in config/repos/<repo-name>.yaml
# ============================================================================

cache_sentinel:
  enabled: false
canary:
  enabled: false
chaos:
  enabled: false
dr_drill:
  enabled: false
egress_control:
  enabled: false
gates:
  require_run_or_fail: false
  tool_defaults:
    pytest: true
    ruff: true
    bandit: true
    pip_audit: true
    mypy: false
    black: false
    isort: false
    mutmut: false
    hypothesis: false
    semgrep: false
    trivy: true
    codeql: true
    docker: false
    sbom: false
    jacoco: true
    checkstyle: true
    spotbugs: true
    pmd: false
    owasp: true
    pitest: false
    jqwik: false
hub_ci:
  enabled: true
  thresholds:
    coverage_min: 70
    mutation_score_min: 70
    overrides: {}
  tools:
    actionlint: true
    bandit: true
    bandit_fail_high: true
    bandit_fail_medium: false
    bandit_fail_low: false
    dependency_review: true
    gitleaks: true
    license_check: true
    mutmut: true
    mypy: true
    pip_audit: true
    pytest: true
    ruff: true
    scorecard: true
    syntax: true
    trivy: true
    validate_configs: true
    validate_templates: true
    verify_matrix_keys: true
    yamllint: true
    zizmor: true
java:
  version: '21'
  distribution: temurin
  build_tool: maven
  tools:
    checkstyle:
      enabled: true
      fail_on_violation: true
      max_errors: 0
      require_run_or_fail: true
    codeql:
      enabled: false
      fail_on_error: true
      languages:
        - java
      require_run_or_fail: true
    docker:
      compose_file: docker-compose.yml
      dockerfile: Dockerfile
      enabled: false
      fail_on_error: true
      fail_on_missing_compose: false
      health_endpoint: /actuator/health
      health_timeout: 300
      require_run_or_fail: false
    jacoco:
      enabled: true
      min_coverage: 70
      require_run_or_fail: true
    jqwik:
      enabled: false
      require_run_or_fail: false
    owasp:
      enabled: true
      fail_on_cvss: 7
      require_run_or_fail: false
      use_nvd_api_key: true
    pitest:
      enabled: true
      min_mutation_score: 70
      require_run_or_fail: false
      threads: 4
      timeout_multiplier: 2
    pmd:
      enabled: true
      fail_on_violation: false
      max_violations: 0
      require_run_or_fail: false
    semgrep:
      enabled: false
      fail_on_findings: false
      max_findings: 0
      require_run_or_fail: false
    sbom:
      enabled: false
      format: cyclonedx
      require_run_or_fail: false
    spotbugs:
      effort: max
      enabled: true
      fail_on_error: true
      max_bugs: 0
      require_run_or_fail: true
      threshold: medium
    trivy:
      enabled: false
      fail_on_critical: false
      fail_on_cvss: 7
      fail_on_high: false
      require_run_or_fail: true
kyverno:
  enabled: false
notifications:
  email:
    enabled: false
    recipients_env: CIHUB_EMAIL_TO
    smtp_from_env: SMTP_FROM
    smtp_host_env: SMTP_HOST
    smtp_password_env: SMTP_PASSWORD
    smtp_port_env: SMTP_PORT
    smtp_starttls_env: SMTP_STARTTLS
    smtp_user_env: SMTP_USER
  slack:
    enabled: false
    on_failure: true
    on_success: false
    webhook_env: CIHUB_SLACK_WEBHOOK_URL
python:
  version: '3.12'
  tools:
    bandit:
      enabled: true
      fail_on_high: true
      fail_on_low: false
      fail_on_medium: false
      require_run_or_fail: true
    black:
      enabled: true
      fail_on_format_issues: false
      max_issues: 0
      require_run_or_fail: false
    codeql:
      enabled: false
      fail_on_error: true
      languages:
        - python
      require_run_or_fail: true
    docker:
      compose_file: docker-compose.yml
      enabled: false
      fail_on_error: true
      fail_on_missing_compose: false
      health_endpoint: /actuator/health
      health_timeout: 300
      require_run_or_fail: false
    hypothesis:
      enabled: true
      require_run_or_fail: false
    isort:
      enabled: true
      fail_on_issues: false
      max_issues: 0
      require_run_or_fail: false
    mutmut:
      enabled: false
      min_mutation_score: 70
      require_run_or_fail: false
      timeout_minutes: 15
    mypy:
      enabled: false
      require_run_or_fail: false
    pip_audit:
      enabled: true
      fail_on_vuln: true
      require_run_or_fail: true
    pytest:
      enabled: true
      fail_fast: false
      min_coverage: 70
      require_run_or_fail: true
    ruff:
      enabled: true
      fail_on_error: true
      max_errors: 0
      require_run_or_fail: true
    sbom:
      enabled: false
      format: cyclonedx
      require_run_or_fail: false
    semgrep:
      enabled: false
      fail_on_findings: false
      max_findings: 0
      require_run_or_fail: false
    trivy:
      enabled: false
      fail_on_critical: false
      fail_on_cvss: 7
      fail_on_high: false
      require_run_or_fail: true
repo:
  default_branch: main
  dispatch_enabled: true
  dispatch_workflow: hub-ci.yml
  force_all_tools: false
  repo_side_execution: false
  run_group: full
  use_central_runner: true
cihub:
  debug: false
  verbose: false
  debug_context: false
  emit_triage: false
install:
  source: pypi
reports:
  badges:
    branch: main
    enabled: true
  codecov:
    enabled: true
    fail_ci_on_error: false
  github_summary:
    enabled: true
    include_metrics: true
  retention_days: 30
harden_runner:
  policy: audit
runner_isolation:
  enabled: false
supply_chain:
  enabled: false
telemetry:
  enabled: false
thresholds:
  coverage_min: 70
  max_black_issues: 0
  max_checkstyle_errors: 0
  max_critical_vulns: 0
  max_high_vulns: 0
  max_isort_issues: 0
  max_pip_audit_vulns: 0
  max_pmd_violations: 0
  max_ruff_errors: 0
  max_semgrep_findings: 0
  max_spotbugs_bugs: 0
  mutation_score_min: 70
  owasp_cvss_fail: 7
  trivy_cvss_fail: 7

# TypeScript/React Project Configuration Example
#
# This configuration is optimized for React/TypeScript projects using
# a feature-based folder structure with components, hooks, and utilities.
#
# Features:
# - TypeScript (.ts, .tsx) and Python (.py) support
# - React component and hook folders (_components, _hooks)
# - Barrel export files (index.ts, index.tsx) allowed everywhere
# - TypeScript declaration files (*.d.ts) excluded from one-per-file checks

[tool.structure-lint]
# Master switch
enabled = true

# Search in src directory (common for React projects)
# Adjust if your source is in a different location (e.g., "app", "lib")
search_paths = ["src"]

[tool.structure-lint.validators]
# Enable all validators
structure = true       # Enforce folder structure
line_limits = true     # Enforce max lines per file
one_per_file = true    # Enforce single definition per file

[tool.structure-lint.one_per_file]
# TypeScript rules - enforce one definition per file in these folders
ts_fun_in_functions = true   # One function per file in _functions
ts_fun_in_components = true  # One component per file in _components
ts_fun_in_hooks = true       # One hook per file in _hooks
ts_cls_in_classes = true     # One class per file in _classes

# Python rules (if your project has Python utilities)
py_fun_in_functions = true
py_cls_in_classes = true

# Exclude TypeScript declaration files and generated files
excluded_patterns = ["*.d.ts", "*.generated.ts", "*.generated.tsx"]

[tool.structure-lint.line_limits]
# React components can be verbose with JSX
# Adjust based on your team's preferences
max_lines = 200

[tool.structure-lint.structure]
# Feature folder nesting depth
folder_depth = 2

# Standard folders for React/TypeScript projects
standard_folders = [
    "_types",       # Type definitions
    "_functions",   # Utility functions
    "_constants",   # Constants and configuration
    "_tests",       # Test files
    "_errors",      # Error types and handlers
    "_classes",     # Class definitions
    "_components",  # React components
    "_hooks",       # React hooks
]

# Allow barrel export files everywhere (similar to __init__.py)
files_allowed_anywhere = ["__init__.py", "index.ts", "index.tsx"]

# Ignore build and cache directories
ignored_folders = [
    "__pycache__",
    ".mypy_cache",
    ".pytest_cache",
    ".ruff_cache",
    "node_modules",
    "dist",
    "build",
    ".next",        # Next.js build output
    "coverage",     # Test coverage reports
]

# ============================================================================
# Example Project Structure:
# ============================================================================
#
# src/
# ├── features/
# │   ├── authentication/
# │   │   ├── index.ts                    (barrel export)
# │   │   ├── _types/
# │   │   │   ├── User.ts
# │   │   │   └── Session.ts
# │   │   ├── _components/
# │   │   │   ├── LoginForm.tsx
# │   │   │   ├── SignupForm.tsx
# │   │   │   └── index.ts                (barrel export)
# │   │   ├── _hooks/
# │   │   │   ├── useAuth.ts
# │   │   │   ├── useSession.ts
# │   │   │   └── index.ts
# │   │   └── _functions/
# │   │       ├── validateCredentials.ts
# │   │       └── hashPassword.ts
# │   │
# │   └── dashboard/
# │       ├── _components/
# │       │   ├── DashboardLayout.tsx
# │       │   ├── StatCard.tsx
# │       │   └── index.ts
# │       ├── _hooks/
# │       │   └── useDashboardData.ts
# │       └── widgets/                    (nested feature folder)
# │           ├── _components/
# │           │   ├── ChartWidget.tsx
# │           │   └── TableWidget.tsx
# │           └── _types/
# │               └── WidgetConfig.ts
# │
# └── shared/
#     ├── _components/
#     │   ├── Button.tsx
#     │   ├── Modal.tsx
#     │   └── index.ts
#     ├── _hooks/
#     │   ├── useMediaQuery.ts
#     │   └── useDebounce.ts
#     └── _types/
#         └── common.ts
#
# ============================================================================
# Tips for React/TypeScript Projects:
# ============================================================================
#
# 1. Use barrel exports (index.ts) to simplify imports:
#    import { LoginForm, SignupForm } from './features/authentication/_components'
#
# 2. Keep components focused - one component per file makes them easier to test
#    and refactor
#
# 3. Co-locate related code in feature folders rather than grouping by type
#    (e.g., keep auth components, hooks, and types together in authentication/)
#
# 4. Use _types folders for shared types, but inline simple prop interfaces
#    directly in component files
#
# 5. Declaration files (*.d.ts) are excluded from one-per-file checks since
#    they often contain multiple type declarations
#

# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .pull_job_response_dto_date_range import PullJobResponseDtoDateRange
from .record import Record


class PullJobResponseDto(UniversalBaseModel):
    job_id: str = pydantic.Field()
    """
    Job identifier.
    """

    query: typing.Optional[str] = pydantic.Field(default=None)
    """
    Original natural language query.
    """

    context: typing.Optional[str] = pydantic.Field(default=None)
    """
    Context provided with the query.
    """

    validators: typing.Optional[typing.List[str]] = pydantic.Field(default=None)
    """
    List of validation criteria applied to filter results.
    """

    enrichments: typing.Optional[typing.List[str]] = pydantic.Field(default=None)
    """
    List of extracted field names generated by the enrichment process.
    These field names appear in the `enrichment` object of each record.
    """

    status: str = pydantic.Field()
    """
    Job status.
    """

    duration: typing.Optional[str] = pydantic.Field(default=None)
    """
    Total time taken to process the job.
    """

    candidate_records: typing.Optional[int] = pydantic.Field(default=None)
    """
    Number of candidate records before validation.
    """

    valid_records: typing.Optional[int] = pydantic.Field(default=None)
    """
    Number of validated records extracted.
    """

    progress_validated: typing.Optional[int] = pydantic.Field(default=None)
    """
    Number of candidate records that have been validated during processing.
    
    The system process records in batches. This field tracks how many candidates have been checked against validation criteria so far.
    """

    date_range: typing.Optional[PullJobResponseDtoDateRange] = None
    page: typing.Optional[int] = pydantic.Field(default=None)
    """
    The current page number.
    """

    total_pages: typing.Optional[int] = pydantic.Field(default=None)
    """
    The total number of pages available.
    """

    page_size: typing.Optional[int] = pydantic.Field(default=None)
    """
    The number of records per page.
    """

    all_records: typing.Optional[typing.List[Record]] = pydantic.Field(default=None)
    """
    Array of extracted records with structured data and citations.
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow

[tool.pylint.main]
load-plugins = ["pylint_odoo", "pylint.extensions.docparams"]
py-version = "3.10"
disable = "all"
# fail-on copied from OCAâ€™s .pylintrc-mandatory after removing attribute-string-redundant
enable = [
  "anomalous-backslash-in-string",
  "api-one-deprecated",
  "api-one-multi-together",
  "assignment-from-none",
  "attribute-deprecated",
  "class-camelcase",
  "dangerous-default-value",
  "dangerous-view-replace-wo-priority",
  "development-status-allowed",
  "duplicate-id-csv",
  "duplicate-key",
  "duplicate-xml-fields",
  "duplicate-xml-record-id",
  "eval-referenced",
  "eval-used",
  "incoherent-interpreter-exec-perm",
  "license-allowed",
  "manifest-author-string",
  "manifest-deprecated-key",
  "manifest-required-author",
  "manifest-required-key",
  "manifest-version-format",
  "method-compute",
  "method-inverse",
  "method-required-super",
  "method-search",
  "openerp-exception-warning",
  "pointless-statement",
  "pointless-string-statement",
  "print-used",
  "redundant-keyword-arg",
  "redundant-modulename-xml",
  "reimported",
  "relative-import",
  "return-in-init",
  "rst-syntax-error",
  "sql-injection",
  "too-few-format-args",
  "translation-field",
  "translation-required",
  "unreachable",
  "use-vim-comment",
  "wrong-tabs-instead-of-spaces",
  "xml-syntax-error",
  "character-not-valid-in-resource-link",
  "consider-merging-classes-inherited",
  "context-overridden",
  "create-user-wo-reset-password",
  "dangerous-filter-wo-user",
  "dangerous-qweb-replace-wo-priority",
  "deprecated-data-xml-node",
  "deprecated-openerp-xml-node",
  "duplicate-po-message-definition",
  "except-pass",
  "file-not-used",
  "invalid-commit",
  "manifest-maintainers-list",
  "missing-newline-extrafiles",
  "missing-readme",
  "missing-return",
  "odoo-addons-relative-import",
  "old-api7-method-defined",
  "po-msgstr-variables",
  "po-syntax-error",
  "renamed-field-parameter",
  "resource-not-exist",
  "str-format-used",
  "test-folder-imported",
  "translation-contains-variable",
  "translation-positional-used",
  "unnecessary-utf8-coding-comment",
  "website-manifest-key-not-valid-uri",
  "xml-attribute-translatable",
  "xml-deprecated-qweb-directive",
  "xml-deprecated-tree-attribute",
  "external-request-timeout",
  # not checked in OCA
  "differing-param-doc",
  "differing-type-doc",
  "invalid-commit",
  "broad-exception-caught",
  "translation-not-lazy",
  "unnecessary-pass",
  "super-init-not-called",
]

[tool.pylint.odoolint]
readme-template-url = "https://orus.io/xcg/templates/odoo_module/-/raw/branch/18.0/README.rst?ref_type=heads"
manifest-required-authors = "XCG SAS"
manifest-required-keys = ["license"]
manifest-deprecated-keys = ["description", "active"]
license-allowed = [
  "AGPL-3",
  "GPL-2",
  "GPL-2 or any later version",
  "GPL-3",
  "GPL-3 or any later version",
  "LGPL-3",
]
valid-odoo-versions = "19.0"

[tool.pylint.basic]
# Good variable names which should always be accepted, separated by a comma
# - added cr to the list, and also tearDownClass and maxDiff used in Odoo tests
good-names = ["i", "j", "k", "ex", "Run", "_", "cr", "tearDownClass", "maxDiff"]

[tool.pylint.typecheck]
# List of classes names for which member attributes should not be checked
# (useful for classes with attributes dynamically set).
# - added odoo models
ignored-classes = [
  "SQLObject",
  "optparse.Values",
  "thread._local",
  "_thread._local",
  "odoo.models.Model",
  "odoo.models.AbstractModel",
  "odoo.models.TransientModel",
]
# List of module names for which member attributes should not be checked
# (useful for modules/projects where namespaces are manipulated during runtime
# and thus existing member attributes cannot be deduced by static analysis). It
# supports qualified module names, as well as Unix pattern matching.
# - added icu to the list, otherwise there is some false positives
# - also added addons models module to avoid false positives on models
ignored-modules = ["icu", "odoo.addons.*.models.*"]

[tool.pylint.similarities]
# Imports are removed from the similarity computation
ignore-imports = true

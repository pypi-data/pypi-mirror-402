[page_understanding]
transformer_path = "cuga.backend.browser_env.page_understanding.pu_transform.PageUnderstandingV1"
demo_nocodeui_pu = false

[evaluation]
max_steps = 55

[demo_mode]
start_url = "https://opensource-demo.orangehrmlive.com/web/index.php/auth/login"

[features]
cuga_mode = "balanced"
memory_provider = "mem0"

[advanced_features]
web_arena_eval = false
use_vision = true
use_paraphrase = false
tracker_enabled = false
use_location_resolver = false
langfuse_tracing = false
wxo_integration = false
benchmark = "default"
mode = 'api'
use_extension = false
code_planner_enabled = true
api_planner_hitl = false
lite_mode = true  # Enable CugaLite for simple API tasks (faster execution)
lite_mode_tool_threshold = 70  # Route to CugaLite if app has fewer than this many tools
shortlisting_tool_threshold = 35  # Enable find_tools if total number of tools exceeds this threshold
enable_todos = false  # Enable todos feature for complex multi-step task management
enable_memory = false
enable_fact = false
reflection_enabled = false
save_reuse_generate_html = false  # Generate HTML visualization for saved flows (disabled by default for performance)
decomposition_strategy = "flexible"  # "exact" = one subtask per app, "flexible" = allows multiple subtasks per app
e2b_sandbox = false # use e2b for sandbox:
e2b_sandbox_mode = "per-session"  # E2B sandbox lifecycle: "per-session" = cache per thread_id (default), "single" = shared sandbox for all threads, "per-call" = new sandbox each call
e2b_sandbox_idle_ttl = 600  # Idle timeout in seconds (default: 10 min) - sandbox expires after this much idle time
e2b_sandbox_max_age = 86400  # Max age for "single" mode in seconds (24h, 0 = disabled) - prevents week-old sandboxes
e2b_sandbox_ttl_buffer = 60  # Safety buffer in seconds before E2B timeout (default: 60s)
e2b_cleanup_on_create = true  # Run periodic cleanup when creating new sandboxes
e2b_cleanup_frequency = 0  # Check all sandboxes every N get_or_create calls (0 = only on create)
message_window_limit = 100  # Maximum number of messages to keep in history (sliding window)
max_input_length = 5000  # Maximum characters allowed in user input (prevents abuse)
sub_task_keep_last_n = 5  # Number of most recent generated variables to keep when executing sub-tasks
code_executor_keep_last_n = -1  # Number of variables to keep after code execution: -1 = keep all, 1 = keep last 1, 2 = keep last 2, etc.
cuga_lite_max_steps = 25  # Maximum number of steps (call_model + sandbox cycles) before returning error
path_segment_index = 1  # Which path segment to use for operation naming (1 = first, 2 = second, 3 = third)
force_autonomous_mode = false
tool_call_timeout = 30  # Timeout in seconds for tool/API calls (sandbox operations). If exceeded, raises TimeoutError

[policy]
enabled = true  # Enable policy system (intent guards, playbooks, tool guides, tool approvals)
collection_name = "cuga_policies"  # Milvus collection name for storing policies
milvus_host = "localhost"  # Milvus server host
milvus_port = "19530"  # Milvus server port
milvus_uri = "./milvus_policies.db"  # Milvus Lite URI for embedded mode (fallback)
embedding_provider = "local"  # "openai", "local", or "auto" (tries OpenAI, falls back to local)
embedding_model = "all-MiniLM-L6-v2"  # Model name (default for local provider)
embedding_dim = 384  # Embedding dimension (1536 for OpenAI, 384 for all-MiniLM-L6-v2)
playbook_refine = false  # Enable playbook refinement based on user progress (requires LLM)

[server_ports]
registry = 8001
# registry_host = "http://localhost:8001"  # Optional: Full registry URL. Falls back to "http://localhost:{registry}"
function_call_host = ""  # Optional: URL for E2B to call functions. Falls back to registry_host, then "http://localhost:8001"
demo = 7860
apis_url = 9000
crm_api = 8007
saved_flows = 8003
environment_url = 8000
filesystem_mcp = 8112
digital_sales_api = 8000
mcp_server = 8000
petstore_api = 8081
graph_visualization = 8080
orchestrate_url = 4321
trm_url = 8080
memory = 8888

import{z as D,C as b,P as R,E as F,Q as U,R as x,S as C,T as L,U as E,V as O,A as I,W as P,X as Y,Y as Z,Z as q,_ as w,D as z,i as N,a0 as H,a1 as M,e as Q,h as V,g as W,F as X,I as $}from"./Yb_TZ_Rf.js";function B(e,s,r=!1){b&&R();var a=e,n=null,t=null,i=Y,k=r?F:0,o=!1;const A=(l,u=!0)=>{o=!0,g(u,l)};var f=null;function v(){f!==null&&(f.lastChild.remove(),a.before(f),f=null);var l=i?n:t,u=i?t:n;l&&q(l),u&&w(u,()=>{i?t=null:n=null})}const g=(l,u)=>{if(i===(i=l))return;let h=!1;if(b){const S=U(a)===x;!!i===S&&(a=C(),L(a),E(!1),h=!0)}var m=Z(),_=a;if(m&&(f=document.createDocumentFragment(),f.append(_=O())),i?n??(n=u&&I(()=>u(_))):t??(t=u&&I(()=>u(_))),m){var d=P,y=i?n:t,T=i?t:n;y&&d.skipped_effects.delete(y),T&&d.skipped_effects.add(T),d.add_callback(v)}else v();h&&E(!0)};D(()=>{o=!1,s(A),o||g(null,null)},k),b&&(a=z)}let c=!1,p=Symbol();function G(e,s,r){const a=r[s]??(r[s]={store:null,source:H(void 0),unsubscribe:N});if(a.store!==e&&!(p in r))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=N;else{var n=!0;a.unsubscribe=M(e,t=>{n?a.source.v=t:Q(a.source,t)}),n=!1}return e&&p in r?V(e):W(a.source)}function J(e,s){return e.set(s),s}function K(){const e={};function s(){X(()=>{for(var r in e)e[r].unsubscribe();$(e,p,{enumerable:!1,value:!0})})}return[e,s]}function ee(){c=!0}function ae(e){var s=c;try{return c=!1,[e(),c]}finally{c=s}}export{K as a,J as b,ae as c,B as i,ee as m,G as s};

import"./CWj6FrbW.js";import{o as F}from"./C1bEftoN.js";import{p as b,t as A,a as P}from"./Yb_TZ_Rf.js";import{e as r}from"./BwfxcG-Y.js";import{f as V,a as g}from"./DnGquTil.js";import{s as d,a as q,c as w}from"./Dcv4bg-q.js";import{p as o,b as D}from"./CmJZ_CaC.js";import{P as N}from"./DtWZc_tl.js";var S=V("<video></video>",2);function G(c,e){b(e,!0);let m=o(e,"videoEl",15),s=o(e,"frames",19,()=>[]),p=o(e,"muted",3,!0),h=o(e,"playsinline",3,!0),_=o(e,"controls",3,!1),v=o(e,"preload",3,"metadata"),y=o(e,"className",3,""),E=o(e,"handleMouseEnter",3,()=>{}),M=o(e,"handleMouseLeave",3,()=>{}),x=o(e,"onplay",3,()=>{}),i=0,u=null;const f=.002;F(()=>{L()});function I(t){for(;i<s().length-1&&s()[i+1].frame_timestamp_s<=t+f;)i++;for(;i>0&&i<s().length&&s()[i].frame_timestamp_s>t+f;)i--;return{frame:s()[i],index:i}}function L(){function t(){if(!m())return;const{frame:n,index:l}=I(m().currentTime);u!=l&&(e.update(n,l),u=l),requestAnimationFrame(t)}requestAnimationFrame(t)}var a=S();D(a,t=>m(t),()=>m()),A(()=>{d(a,"src",`${N}/${e.video.sample_id}#t=0.001`),a.muted=p(),a.playsInline=h(),d(a,"preload",v()),a.controls=_(),q(a,1,w(y()))}),r("mouseenter",a,function(...t){var n;(n=E())==null||n.apply(this,t)}),r("mouseleave",a,function(...t){var n;(n=M())==null||n.apply(this,t)}),r("play",a,function(...t){var n;(n=x())==null||n.apply(this,t)}),g(c,a),P()}export{G as V};

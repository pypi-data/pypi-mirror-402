[build-system]
requires = ["poetry-core>=2.0.0,<3.0.0"]
build-backend = "poetry.core.masonry.api"

[project]
authors = [
  {name = "Moritz Breurather", email = "breurather@ift.at"},
  {name = "RenÃ© Schwaiger", email = "rene.schwaiger@ift.at"},
]

dependencies = [
  "dynaconf>=3.1.12,<4",
  "icotronic>=6.0.1,<7",
  "netaddr>=1.3.0",
  "pyee>=13.0.0",
]
description = """Stateful API for the ICOtronic system intended for usage in \
              a Web API"""
keywords = [
  "smart-tool",
  "smh",
  "stu",
  "sth",
  "tool-holder",
]
name = "icostate"
readme = "ReadMe.md"
requires-python = ">=3.12,<4"
version = "0.22.0"

[project.optional-dependencies]
dev = [
  "black>=25.1.0",
  "coverage>=7.9.2",
  "Flake8-pyproject>=1.2.3",
  "mypy>=1.16.1",
  "myst-parser>=4.0.1",
  "pydoclint[flake8]>=0.6.6",
  "pylint>=3.3.7",
  "pytest>=9.0",
  "sphinx-autodoc-typehints>=3",
  "sphinxcontrib-mermaid>=1.0.0",
  "sphinx-pyproject>=0.3",
  "sphinx_rtd_theme",
  "sphinx_toggleprompt>=0.6.0",
]
test = [
  "anyio>=4.11",
  "pytest-rerunfailures>=16.1",
  "pytest-sphinx>=0.6.3",
  "pytest-sugar>=1.1.1",
]

[project.urls]
Documentation = "https://icostate.readthedocs.io"
Source = "https://github.com/mytoolit/ICOstate"

[tool.black]
line-length = 79
preview = true
unstable = true
enable-unstable-feature = ["string_processing"]

[tool.flake8]
ignore = [
  # Whitespace before colon
  "E203",
  # Module level import not at top of file
  "E402",
  # Line break before binary operator
  "W503",
  # Line break after binary operator
  "W504"
]
per-file-ignores = "__init__.py:F401,conf.py:F821"
exclude = [
  ".venv",
]

[tool.mypy]
ignore_missing_imports = true
check_untyped_defs = true

[tool.pylint]
ignore-paths = [ "^.venv.*$" ]

[tool.pytest]
addopts = ["--doctest-modules"]
minversion = "9.0"
anyio_mode = "auto"

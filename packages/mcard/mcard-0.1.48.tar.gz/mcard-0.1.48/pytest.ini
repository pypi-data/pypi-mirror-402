[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

addopts = -v --strict-markers
asyncio_mode = auto

markers =
    unit: Unit tests
    integration: Integration tests
    slow: Slow tests (>2s) - deselect with -m "not slow"
    network: Tests requiring network/LLM access (Ollama)
    polyglot: Tests requiring multiple runtimes (node, lean, julia, etc.)
    asyncio: marks tests as async (deselect with '-m "not asyncio"')

log_cli = true
log_cli_level = DEBUG
log_file = logs/mcard.log
log_file_level = DEBUG
import{T as N,n as h,U as R,V as m,W as q,X as x,Y as D,Z as F,_ as E,a0 as L,a1 as y,a2 as Y,a3 as C,a4 as O,a5 as U,a6 as Z,a7 as B,a8 as H,a9 as M,u as P,q as V,S as W}from"./BuqN16dl.js";function j(s,f,c=!1){h&&R();var i=s,e=null,a=null,r=C,S=c?m:0,u=!1;const g=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&U(l),t&&Z(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let T=!1;if(h){const I=q(i)===x;!!r===I&&(i=D(),F(i),E(!1),T=!0)}var b=O(),d=i;if(b&&(n=document.createDocumentFragment(),n.append(d=L())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),b){var _=Y,p=r?e:a,k=r?a:e;p&&_.skipped_effects.delete(p),k&&_.skipped_effects.add(k),_.add_callback(o)}else o();T&&E(!0)};N(()=>{u=!1,f(g),u||v(null,null)},S),h&&(i=B)}function A(s,f){return s===f||s?.[W]===f}function w(s={},f,c,i){return H(()=>{var e,a;return M(()=>{e=a,a=[],P(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{V(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{w as b,j as i};

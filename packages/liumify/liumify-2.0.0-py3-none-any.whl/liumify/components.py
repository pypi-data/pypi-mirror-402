# (c) 2026 Liumi Corporation. All Rights Reserved. Private & Proprietary.

import uuid
from typing import Dict, Any, Optional

class LiumifyComponent:
    """Base class for all visual elements in the Liumify ecosystem."""
    def __init__(self, render_type: str):
        self._id = str(uuid.uuid4())
        self._type = render_type
        self._props: Dict[str, Any] = {}

    def serialize(self) -> Dict[str, Any]:
        return {
            "id": self._id,
            "type": self._type,
            "props": self._props
        }

# --- 3D High-Definition Objects ---

class HD_Object(LiumifyComponent):
    """Abstract base for 3D volumetric assets."""
    def set_transform(self, x: float = 0, y: float = 0, z: float = 0):
        self._props['position'] = {'x': x, 'y': y, 'z': z}
        return self

    def set_material(self, color_hex: str, roughness: float = 0.5):
        self._props['material'] = {'color': color_hex, 'roughness': roughness}
        return self

class LiumifySphere(HD_Object):
    """A perfectly tessellated sphere generated by the HD Rendering Core."""
    def __init__(self, radius: float = 1.0):
        super().__init__("hd_sphere")
        self._props['radius'] = radius
        self.set_transform(0, 0, 0)
        self.set_material("#FFD700", 0.2) # Default to Liumi Gold

class LiumifyCube(HD_Object):
    """A volumetric cube with calculated light refraction."""
    def __init__(self, size: float = 1.0):
        super().__init__("hd_cube")
        self._props['size'] = size
        self.set_transform(0, 0, 0)
        self.set_material("#333333", 0.1)

class LiumifyPlane(HD_Object):
    """An infinite or bounded reflective ground surface."""
    def __init__(self, width: float = 20.0, depth: float = 20.0):
        super().__init__("hd_plane")
        self._props['width'] = width
        self._props['depth'] = depth
        self.set_transform(0, -1, 0)
        self.set_material("#1a1a1a", 0.8)

# --- 2D Fluid UI Widgets ---

class UI_GlassCard(LiumifyComponent):
    """
    A container element utilizing Liumi's signature glassmorphism.
    """
    def __init__(self, title: str, body: str):
        super().__init__("ui_glass_card")
        self._props['title'] = title
        self._props['body'] = body

class UI_ActionBtn(LiumifyComponent):
    """
    A high-priority interactive element.
    """
    def __init__(self, label: str, on_click_event: str = "default"):
        super().__init__("ui_action_btn")
        self._props['label'] = label
        self._props['event_id'] = on_click_event

class HD_Viewport(LiumifyComponent):
    """Camera settings for the initial render."""
    def __init__(self, fov: int = 75):
        super().__init__("sys_viewport")
        self._props['fov'] = fov
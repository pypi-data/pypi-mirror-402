# ==============================================
# Railway Deployment Environment Variables
# ==============================================
# This file shows which environment variables to configure in Railway UI
# DO NOT commit actual secrets to git
#
# Railway Reference Variables:
# Railway automatically creates reference variables for managed services.
# Use these to connect your services together:
#   ${{Postgres.DATABASE_URL}}  - PostgreSQL connection string
#   ${{Redis.REDIS_URL}}        - Redis connection string
#   ${{seer-api.VARIABLE_NAME}} - Reference another service's variable

# ----------------
# Required (set these in Railway template/UI)
# ----------------
OPENAI_API_KEY=sk-...  # Required for workflow execution and AI assistance
                       # Get from: https://platform.openai.com/api-keys

# ----------------
# Auto-configured by Railway (don't set manually)
# ----------------
# These are automatically injected via Railway service references:
# DATABASE_URL=${{Postgres.DATABASE_URL}}
# REDIS_URL=${{Redis.REDIS_URL}}
# PORT=${{Railway.PORT}}  # Railway assigns this automatically (usually 8000)

# ----------------
# Deployment Configuration (set in Railway UI)
# ----------------
AUTO_APPLY_DATABASE_MIGRATIONS=true  # API service only, set to false for worker
SEER_MODE=self-hosted                # Options: "self-hosted" or "cloud"

# ----------------
# Optional LLM Providers (add in Railway UI after deployment)
# ----------------
# ANTHROPIC_API_KEY=sk-ant-...  # Alternative to OpenAI
                                # Get from: https://console.anthropic.com/

# ----------------
# Optional Web Search (add in Railway UI after deployment)
# ----------------
# TAVILY_API_KEY=tvly-...  # For web search tools in workflows
                           # Get from: https://app.tavily.com/

# ----------------
# Optional GitHub Integration (add in Railway UI after deployment)
# ----------------
# GITHUB_TOKEN=ghp_...                # Personal access token for GitHub API
# GITHUB_CLIENT_ID=...                # OAuth app client ID
# GITHUB_CLIENT_SECRET=...            # OAuth app client secret
# Get OAuth credentials from: https://github.com/settings/developers

# ----------------
# Optional Google Workspace Integration (add in Railway UI after deployment)
# ----------------
# GOOGLE_CLIENT_ID=...                # OAuth 2.0 client ID
# GOOGLE_CLIENT_SECRET=...            # OAuth 2.0 client secret
# Get OAuth credentials from: https://console.cloud.google.com/apis/credentials

# ----------------
# Optional Supabase Integration (add in Railway UI after deployment)
# ----------------
# SUPABASE_CLIENT_ID=...              # Supabase OAuth client ID
# SUPABASE_CLIENT_SECRET=...          # Supabase OAuth client secret
# SUPABASE_MANAGEMENT_API_BASE=https://api.supabase.com  # Usually don't need to change

# ----------------
# Optional Cloud Authentication (only needed if SEER_MODE=cloud)
# ----------------
# CLERK_JWKS_URL=...                  # Clerk JWKS endpoint
# CLERK_ISSUER=...                    # Clerk issuer URL
# CLERK_AUDIENCE=...                  # Clerk audience

# ----------------
# Optional Analytics (add in Railway UI after deployment)
# ----------------
# POSTHOG_API_KEY=...                 # PostHog analytics key
# POSTHOG_HOST=https://app.posthog.com  # PostHog instance URL
# POSTHOG_ENABLED=true                # Enable/disable analytics

# ----------------
# Optional Database Configuration (usually don't need to change)
# ----------------
# DB_SCHEMA=public                    # PostgreSQL schema name
# DB_MAX_CONNECTIONS=20               # Max database connections
# DB_MIN_CONNECTIONS=5                # Min database connections

# ----------------
# Optional Worker Configuration (for fine-tuning)
# ----------------
# TRIGGER_POLLER_ENABLED=true         # Enable trigger polling worker
# TRIGGER_POLLER_INTERVAL_SECONDS=5   # How often to poll for triggers
# TRIGGER_POLLER_MAX_BATCH_SIZE=10    # Max triggers to process per batch

# ----------------
# Optional Tool Configuration
# ----------------
# TOOL_INDEX_PATH=./data/tool_index  # Where to store tool vector index
# TOOL_INDEX_AUTO_GENERATE=true      # Auto-generate tool index on startup

# ==============================================
# Railway Service-Specific Configuration
# ==============================================

# For seer-api service:
# - Set all the above variables as needed
# - Enable public networking to generate a URL
# - Set PORT=8000
# - Set AUTO_APPLY_DATABASE_MIGRATIONS=true

# For seer-worker service:
# - Reference API variables: ${{seer-api.OPENAI_API_KEY}}
# - Do NOT enable public networking
# - Set AUTO_APPLY_DATABASE_MIGRATIONS=false
# - All other variables should match API service

# ==============================================
# Quick Start After Deployment
# ==============================================
# 1. Deploy using the Railway template button
# 2. Enter OPENAI_API_KEY when prompted
# 3. Wait for deployment to complete (5-7 minutes)
# 4. Access your Seer instance at the generated Railway URL
# 5. Add optional integrations later in Settings â†’ Variables

# For detailed setup instructions, see:
# https://github.com/your-org/seer/blob/main/RAILWAY_DEPLOYMENT.md

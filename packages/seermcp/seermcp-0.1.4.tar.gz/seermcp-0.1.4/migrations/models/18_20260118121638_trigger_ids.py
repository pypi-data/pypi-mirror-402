from tortoise import BaseDBAsyncClient

RUN_IN_TRANSACTION = True


async def upgrade(db: BaseDBAsyncClient) -> str:
    return """
        DROP INDEX IF EXISTS "idx_trigger_sub_trigger_d2ffa4";
        ALTER TABLE "trigger_subscriptions" ADD "trigger_id" VARCHAR(255) NOT NULL;
        CREATE UNIQUE INDEX IF NOT EXISTS "uid_trigger_sub_workflo_6a015e" ON "trigger_subscriptions" ("workflow_id", "trigger_id");
        CREATE INDEX IF NOT EXISTS "idx_trigger_sub_trigger_cafdeb" ON "trigger_subscriptions" ("trigger_key", "enabled");
        CREATE INDEX IF NOT EXISTS "idx_trigger_sub_workflo_6a015e" ON "trigger_subscriptions" ("workflow_id", "trigger_id");"""


async def downgrade(db: BaseDBAsyncClient) -> str:
    return """
        DROP INDEX IF EXISTS "idx_trigger_sub_workflo_6a015e";
        DROP INDEX IF EXISTS "idx_trigger_sub_trigger_cafdeb";
        DROP INDEX IF EXISTS "uid_trigger_sub_workflo_6a015e";
        ALTER TABLE "trigger_subscriptions" DROP COLUMN "trigger_id";
        CREATE INDEX IF NOT EXISTS "idx_trigger_sub_trigger_d2ffa4" ON "trigger_subscriptions" ("trigger_key", "provider_connection_id", "enabled");"""


MODELS_STATE = (
    "eJztXflz27q1/lcw/imZUVKvSep5983IspKqV16eJCedxnc4EAlJrClQ5WLH7dz//QHgIi"
    "4gDVKUSErodHJlEgckP2znfOfg4L9HS1NDhv3xwUbW0SX47xGGS0R+xK53wBFcrdZX6QUH"
    "Tg1W0CUl2BU4tR0Lqg65OIOGjcglDdmqpa8c3cS06DUkUtBGgFUDZqYFoOssEHZ0FTpIA6"
    "yuj7QyzVRJbTqeF5Rzsf5vFymOOUekAP2kn3+QyzrW0C9kB3+unpSZjgwt9sW6Ritg1xXn"
    "dcWuDbDzlRWkrzRVVNNwl3hdePXqLEwcltaxQ6/OEUYWfS9yzbFcCgR2DcMHLMDGe9N1Ee"
    "8VIzIamkHXoHBS6RSawcUIUP4l1cS0Jcjb2OwD5/QpH05Pzj+ffzn7dP6FFGFvEl75/Kf3"
    "eetv9wQZAreToz/ZfdIIXgkG4xo3Cr7CA6+3gBYfvYhIAkLy4kkIA8BqxXAJfykGwnNnQY"
    "G7uMhB7Ht31Ptbd/SOlHpPv8Ukg8IbKrf+rVPvHoV1DSNaQt0oAmIoUApCH6AQwaDIGsL1"
    "IN4GhmenxwIYklKZGLJ7cQxnumU7CvurAJBxqVaiuZUeacASYMaEJJYBlqoB9aWdBvLv47"
    "tbPpBriQSKD5h83k9NV50OMHTb+aORmOZASL+ZvvPStv9tRJF7d9P9RxLU3vDuioFg2s7c"
    "YrWwCq4SANv6HLsrxTZdSy3UYVOCrey0FyKz6UX2ZHqRmktVC9HPVaCTRpMoZMjRlyij58"
    "YkE3BqvujH4EeZ5X4H6JJv0O6w8eq3bQ66k8FNfzzp3tzH+vR1d9Knd07Z1dfE1XefEi0R"
    "VgJ+DCZ/A/RP8M+7236y64flJv88ou9E9GBTweaLArWI2hNcDYCJNay70ko2bFxSNmytDc"
    "tenhozs6eIWk4vTKH69AItTYndWXcAkxpPpFkxRiqFj7MsXflVfP19hAzIME63uG8i3nVJ"
    "db2wtmY2+59BXw6urps/YgFiB80t9rkKaRa2ImwIzmBd5Qit15g9AMhGZJ53qoNnzOprMT"
    "ikivmc2LW2Ow0fsiE8E6/KcaTGFgP0YlpPM8N82RCUH341LUZCXUCHDCDb3ryLBGgQBdcZ"
    "ezW2GJhAwwi6iqJZcLbpJBNAdE3raqQuX2j4KCvLJJoDNCqC5d6vrsXdJoTGQqppaRUBM2"
    "KV7QUsblXTzMht8/QSWKYhMM/IqnAO/u7V1t4pxjCWimvDOapmIA2HNw+0ttYPJA8T1XSJ"
    "umptCApDpOdV1TJIqHFpnppZ5mb81hq9qW4Y5Hl03ZrpRp5FdYfRxCT/vI3ilVfnvVdlu0"
    "YcBW15ukzAuISYdAzNr44KZ9jXHC8txwTPdthyzf9SzlvbMSkCgD0eRGr8i2M+ISzmyRWq"
    "hOPW/cm8iKyHWOazrsV/K1Blw5V6Gf/YxAN8pc/3yAn819PTs7PPp8dnn75cnH/+fPHlOP"
    "QGp2/luYWvBt+oZ7gTpbredhVHW0qUn4+1biXO4vZz87xeXgLShHg70d2Ku44AQ2xphc1A"
    "CsJqGt0J+pUxK/Bk2wJtHhve/8ck32sXkuHDu9tvQfGkKy+Os4VmFrIX5YDmCrfEe7droN"
    "GvlU7AKuH0iUtW4PRpFtgN8vEEn53rvbNVc8VTobOHyVpCjg3u2PDmD4ZKgUU0LrW7Cf7o"
    "CkHLU4earp0skQOpLlgk7IUrLCNgEjMJNwLGgY7LmRlyQl9CiR12X2Jk6s+osu4rFEaYE0"
    "WYDiKUgS97ER8hA1/2tGE57GxGAHomcZMdf85hbxrSfBVE8aeiheIYpgH8alpIn+Pf0SvD"
    "cUDeCGJulGRiu0jz8MtiY8llC76EZGC0a5DPIx+FHG8V7Y573ev+0Z8iEVa1Bg81iOmOqS"
    "d1xQs1CI9CDpSCbgJeZ+G4CjL6VLa7IDMo7m2XwT31h9p0g1YgCKYEdcr2OwvogAXEcxuY"
    "sxmAOMX/p50Hm1X3iB9x/xdcrgxkXz5iQP73AYzdleePIGbHv0hBYJMBr9JHwJmDLK+WsL"
    "BBGgpQ37G9guThfwEqeSRGRvAaQcFvuvM3d0rekqxzumNar8RKwU+kUsekr6bTadRYd3Wu"
    "cyPppaEFg88Orc7wAsfLwfePxKv4Q7pCpCuk3a6Q1JgQBTMlKBFNIFrMqZQQayeaW3Emhc"
    "g8oddSiPpyLaFvd4Bo0U2Jcj9iZp8sw9FyhSVH25EcreRoJZUnOVrZsCn2J2nOcpXLPAMz"
    "o4JS9G0NK/oObU5JjEtivA5iPG+4V4Bg8W3GzSF+k1hmTGblHQ6SXN8Zue5Dk0+tr/ETI9"
    "Yj7fc2rf6NNomugmeKJ4uhxyb+4BPeFtJoXjQiCRzdp5wjNDggpQPzLc2wV1YzJdvHDhni"
    "NkBYtV5XlFJ/hoZLLrxj/6Xxmu/Bo3t6fHIWlKG1GPAVWZTK1wwiMn0FKjSMnOxufKactQ"
    "xp0Z+hrbq+KsSTew0iWXLJku9GidkypxvtzgWgTIhJNGugH2vH7+RYBEBSKhNBdi8OYbgG"
    "pHHMjmSOCbUFzF1HM3sgzcgrIWtl+YuLaE/lCreSNf90LtBpP51n9ll6Kw5sGaZcEuQFCX"
    "K5T6X5dJ/YPhXp6ZCejs3n9H0hxKWnY08bVno6muDpyI1ZygM7P2pJgizdSR3pTiqhw0p3"
    "UlPdSbxpswI8275XJYlpYmEo6prbpjPKzwrbf0aY64eK3e/kuaCClLWIFhX0Pt2a1hIa+n"
    "+QBnSsmku2/cKrB7B60m4lMRGucyd4wyAENtgdnlaPgjusQrYhgrp/hOU9sQW0FxwP0do0"
    "tZCKiMHIlO8CDyjmQtoj/9HWTh1K4C5KMiSbqyUk8g4igrOHhmDnzBmbrdKqN+yyHETDKa"
    "lAR+UKt5KJ385pWevpugCocal60Ty6JtqERdZC3XZ0FdCXoufYaeBlgTBINT/QbeBi+Ax1"
    "9iapRba2ljBV1bWsUkRWQlRy9jVz9lHlpmBTJkQlKdkwthkFxoCo5zIUqMBt2Syv+1b8lt"
    "R2XMFXw4ScVT5nJ1VcTLqIBaDO8yz2sbtMERb1exmD2THtZzwa9Xv9wff+9SUICj3i0d3D"
    "hF0xXYf+fT+66/XHY3qJ6AU0uyi9+rU7GNJLM6IS+FXX7q1ElmVy+M2caSYQkF0/o+unyG"
    "ShBDQ7PvChOTzeVsPAeecxZRNwyWOb3ubhUkdHvU3H+c+igdgzfe56DCyAjgPVRRCkHRx3"
    "kWbmCktzSbrwOA3PSg2+JjMpiV8uKsa4tJx6OFQbwhQ+ya1tj1srxljEpSSzJqnKbQEqqc"
    "qqqcpgLk2rDKZpIIgzlLe1VAK3KRHbVvcMJ9OqVbaru7thTGW7GiTjrR9urvqjdyess5JC"
    "uucPTOOp28rKZCfUFIQ0LrhDVPnqRcNglcGQe0pPyWDIvWjYVDDkTDf4J6ZlMwIREckJdN"
    "6mw6K6DLHhikDNEZWQC0AebIukJ0AU0eiTctKdG3fnMoPUVhdoWWiTFVdYdmSRuYOomgrN"
    "Q2A9Q4MmITAx78zPbDsqS3530b6fjjfo2BVbURj9cpj6XkKPScrWpckc/c/MxV5CBxshiz"
    "6PZUj+GJJzPsnJFAHXUf+X49S4JR8D6FjUXJrFgX4WoC8N3j1Meu8FYxdaogUJedZZw6qu"
    "ZZuW8i+bF8Ccs0pzZOXsJjq7Fd+HmBDboZvQfEqPpZKr9NmpwCJ9dpq5RtNbHDSZu65cD4"
    "6Lyg4s2oGp58qczcquzhzx3S3ODVqbGRiGqT4p5gsumFAmLSo19zSu5bfuZ9UhAwJrVlvk"
    "jr8SM03Ciy0IXELqkMCT2yUr3i4Z9KUKkPsRqaq96CUG1wYHe8m4qm3EVYW9jBNMFe2B2R"
    "FUQQuLbmJEL2FcE6BZLZ1X7wwpouHZQLPgzLE74JkeOEWA6ACINbByp8Q0oWFR1DjkZM+s"
    "qlJOjFUijEpGPJVao7Mjng4ro99WDIHom6WQzM7plxBriWGVp+Rv5YhyOC/kRA3KS5ql8z"
    "bNQpP0FQE3KC/BFQBXhuzsRWSHDNnZ04ZNheyEGqnia6oFQ2szxA80sFYyaJIEqocESg3E"
    "Ctmg7+saGzeCRcHMmqjKk0OZu7jKs0UZO8na04XjuuACOoqNbHtzYIKeSEx0Z+zV2GJgVp"
    "ZJFnFoVATKvV9dixE5YKI1lszfJwurgUJ82m5StyhEPEf4KMq3ZuN2h9HEJP+Io3cdVNie"
    "rlSShqeT6g2ZVCHT6zIZ+Wixjgg5r7AFYOmJCDL1A6zpz7rmQgP4gkDH9OApSqz7a0maih"
    "eWklz7zrl2yzQKce1B+ZZy7dWfCGBih5vMJ5tkj4i0BcWdM+wLHT9x92tmwxqVkY4LLqy2"
    "S+wXm7J9SNN5B1Rm0+wcUcm4d8TcGfKcIunWkOx3GbeGrxwW42zjQodE2/JYjMK5OKJSlf"
    "gJ2qAi5xDe9prQqoiwbS1N1kmwtvGRtnlW/nTvTaMeUAUFMS/Awu26/wpz5PGxKQB3JWGA"
    "0d76Bv8Q6dSi/EOUgH6bf+hFGAN2InYY4QfJNdoXOAceiApJ9mH3uc0WVHcpmtosKlSNBV"
    "0Sx6MhxPNvFlwtgPdSYHCd7H61hQA6ulOM2gkFak7Ffsd+QbpJmbwQG7FkPILIOtwIfKXR"
    "sadGh4yl2ouGTbnvZPSP3D9XqyUpd4KV2QmWHMIVoHcAwWciIVJR3281wT8RB3R7sG1I8E"
    "/DIhW2vbvQC+DIIRTCCA8BKsHbzifGIdy4TN7bAuht9GM2Rl5mdkEZySDsnEGwV0gt5Mf0"
    "y8uDdEQcaxZ61vnkd2bfjIrsTu87qbuHSvNx383HZ2joGlv2vexZhcInuMLSty8wBUWQI8"
    "oHJq9WFviouIReAPpgPpq+FqRNknIHut2sQdxJG9S8vE1nYY/anfXfHHuskzT+k+OrSs97"
    "NklV0vPexO5aKUFVvW0csgY55nGUWRCwkGO8xttG8oho8eiF2bzrJDqa7oCgnrSNLCYiTe"
    "Tdm8jucgmtQqddRUTaEqIe9/henIik3CWlMj2+7F4ifFpyDTWdJJuBbx1poVcIa/4ug4Zu"
    "SVlZbCZW5jQwpUh/TQlKK0mg35LF19CJNlYY7pSghFsAbrmhYgcga0jVtVIcZlxS5oyuOW"
    "e0DFLbCzJaBqntacOms7L4w64o55qSO6SYqyZsGZN09cF1Oxnqt8VQv7q33TWX/hfZdcdf"
    "UnbnPGlwT0ytlJt7T3I8AKloy3QblE+CVCzksjk9umwqpBFSTSvuFOCX6Aj5RCxWWPSQAt"
    "NaQkP/D9JSxwrQpieXp68geI3xCqmAGtaccwnK1yN9J/Iogq16TeRRBNvkjraS0Ue6pLYZ"
    "e5aVqzdz6oxIHGTwqzwaQx6N0U5wDWg7BLvlSjeQ4p39m1DTTdNAEPOh5kgnUJ8S8W1NAH"
    "yVtQqor+7uhjGorwbJVenh5qo/enfCcCeFdM+OSk8N0hWxF4y1dEXsacPK/fLytIxGblje"
    "xW5Umpc+j1ZyRZNaBany3yaU7qmpQDOqrnkgIgyCWBXwDpvAITiRC9br+zSRVEJeEkhyf+"
    "peKe06XrnF8hivJaRVJAAwefxM56ThzgZ4LSEBFgDYNl1LzaCY+9hdphSE+GwRSu8wApos"
    "pq637ySZWaF7+9AdXgKvwCOejAbfvvVHtBnZwUnJJaye8Oi8OHMBxOuIOSdFXaRxEP+/h/"
    "5D//oSeAUe8ejh9nZw++2SagJ0r+sjHj/0ev3+NS1ku6qKkEbLfe0OhvTSDOoG/bvXve31"
    "h+ySSj/bMPzH1d5apuuQCbvIBLSWkBOQwATEtqMXccyEAtIlk3F2RS05TWuIP5M5NiW1VJ"
    "IzJMuoVa5h45Jyg0HNGwxmOvbO7SzekglR2ZQ1NyUlinS1kDUdEZHKloCyFT2MtmCEelry"
    "QMPUg4N90TPCTjEQeaIHiqJ07rRqh0T7O1yIQvyA76IYxqUPCEvpZKzAycjrkBUgV2CLTn"
    "OC8JPgFd6hkxyTFQIpfjZ2C/CMT1kCO58iql4FmE48pWecqLW1uHI04bcxjWl+1YHaD6pr"
    "LZo8lbiJARrBjJATpBGZNAQCNfxRKXrw+XLppwCnnpV4kjO/Js6554JCnLCMn8npOJhEsL"
    "uckiJ/yLiNKtTTnLiN9nkJr0fdrxOOk5BdvwTsP4941B/2u2Pq6Qt+PWJKbAy+02vBr2Y4"
    "/2TwzFZjO3wXycwyl94JCkqJfO9v1HJAFpp0XB2A44ooKvoM2YUiEqIykiYXmJnoPK4soM"
    "1Jp5eTDTIq1M79t5/OBVbQT+eZKyi9xd3BGKiN4tN6WnB3pO9x8+bxetIxtX8dlDmFqqN5"
    "ZU6hTRnLOjLhNJf62TgRTiTlsDs1vFiOoE0qOj+vVQDH+lqwEWhzDPzNR+2BYZt84JVuGO"
    "Sl7i1zprPvTtGBiRKdPDZw6pWlpyPQwoJkoP8E4Ev5JwGu4Cu96OfyeUdw1591zYUGoG4p"
    "QE8xR3DJ2ci1eXVyX9fO+UH29SnkxNjBQHaH3OC6+3AIwsHt9eD74Jrt3VgXfMSTfvfmkn"
    "WzMnTgiQgdeJJNB55wdm6Ql0aK6tqOucwIX8k7LYAnXUms9dY7s4y0loSVzM5wyA2b0i/N"
    "F4K1UjyMLyV3wAfMFXFp85BPw17wjLSyIVdNOR8t1ZkKn5AmGvZSPEmqr1a3Nu6laJJU3v"
    "dmm0dJWN62kaLtI2goRR8CvGyrwNER+cckFs40bvekDaPi4tIQqiFQgqnVb+5seFMxf3uH"
    "w8Eq56TTc9YaQWNT57pvtmlsziyEOGbm11G/T8qTm4/4fnR3SUcu+6XcDx/G7E9lZbj2I3"
    "4YTkbdS0Cqs2AZ0/OLQBN8yWyAL3uQMYBMy/ozrxG6vcngO2kGr0Cw83+98Z9mA7jvjifK"
    "9QMptaJpDTUXsVwO3SFLLUAaAhost8Dgtnd3cz/sT/qUN6DZD9nKX6LBqucKVNeyaETjCl"
    "m6qSls12hhyzajDrlTse5TreINgzBnvSnUtH4NsmHrblg2Bykwv2lzM7FmVSHTsUrCbw95"
    "IUn47WnDpgi/hK+yGOvHF5bUX0HqLwHjxvxf2lfdNPBFmUB+BytMBxbkvMaMOviBpgvTfP"
    "I2Y3EoL06pTh7j5RMSL56AtzVKkPG6di22z8d2yBQx93z53uOBXx3wqqMcFvL2BOkaWq5M"
    "h1ylJrBKT/fC8zQbVm3VkinbOVOWnbAimxvLyVRRkj7YBzosM/aCD+Lu4y0aD+EKvhom5H"
    "TF7F0MERG5vyqp3nF3MbSPNrSQivRnbqrRUb/X9/YIBoUYd9vrj8eMFlyvL+F1Wti/nE46"
    "2gyaEDoOWSF5KaQzV7SoyEHuiWBn3RROGxqXakmKyzzrcRu5QyUpsxe2uyRl9rRhw7iM0l"
    "xCdbbvcHjzQE/+zT4UN1Gik2fzGsZScWnhYqfiXiOHrebAMOfAnEXChwF5OujeD4AKDcNm"
    "1qpKoAe0wie+gVu+rkf8iLtz0qxz2u+JJDGB2af3TBc7yGIihr7UHaAuEJPpgKlLrWJkI4"
    "spM7SIFrwCAd14dXTVJr80cnnqzufipvPPaCaqyMxMiv2MHRWTUYS1T/KGtMdL6S3Z9jin"
    "IUQtSo7oljSa9lnnROMnozYrYCXDtozItNNKvxAxTS6yTZOLlGkSTgKiIIYC20Jwq33x5F"
    "jMuMuz7lIYstN+yEz9hHib8bInyYTYQZp53jkaxcFLyR0keo7pQKM4eEmxg8SO6nYcMwmp"
    "+hIaGeavyU2vonkyH33ZZi4kOdhc93uDm+6QTG2dT4mIjmBGPE8fmbOiH8iNos9ePGJCLW"
    "FndrCABKcpFiHKozIy3U9HPBFZO1ivqrWgfeFGOKRXE3PMN9BIzcn50rjU3jWFlzT0+OAo"
    "x3TEYeBi9zt5/JvHvaleUUHybULpLxswUcBEPW7sGVq66dqAjGR2PqQNyOLupY2gbBadCo"
    "EXHJsm4Sqok5JxY3e1Mi0iOzWdBWBabVDbO2gYH2j590zyhfQt8wVp4e2liZ2F8fqe1HON"
    "bNLNyT36Bmg201WdhrKQvmmx5BhUfoQ03QYqVBcBEdj/BelOBFZMR/blI/4AJuwNwuQ0rE"
    "L68pfhB7Eh89uPu9HvX4d3P8YdEI36/+3WxIjWM3KxDZwFeSJ7zaT46OE2KXl6fHr+4fiE"
    "/D+8gbDmXz4ll2m1RC9zwBLZFHXv5YJXTT6BrLUThczM4+63PnmUhWbIQmTsk8HxWyIfUk"
    "GeMvYcNpVEtz0wXjKvdPRNJFlZOVmZwrtMTEG6iWtlio7C0Xa5HprsENMxO8GU/I5190ug"
    "knGiBOPkEQ+HN0pv1L8eTMg96sEg+qCme675wubDmYj1cJZtPJyliNANth7VsuVoO2t70z"
    "VZoY0p5XcayR1GjWpIpmWk2/BKn2fn8gxE2kTG/fX09Ozs8+nx2acvF+efP198OQ5XpPSt"
    "vKXpavCNrk6xBktTds/QcDnLUi5nF8rUQ9odf9wAZTHO7lSYs4tpT9zVnY9hUk56IVvJKc"
    "mAGxlJdVgNm9reJslCSRbuN1nYJZaAujji0IT+nU4eQQjXZd4iBrMBlbu+dk7cZB6OmK3U"
    "RUTaGQy1FY2ODo0CIPrF2wngVnzZ5IkO9/TDbFd2RETu+cpyZdcaD/7n/wMKNOiJ"
)

# IP æŸ¥è¯¢ MCP æœåŠ¡

ä¸€ä¸ªç”¨äºæŸ¥è¯¢æœ¬æœº IP åœ°å€çš„ MCP æœåŠ¡ï¼Œæ”¯æŒï¼š
- å†…ç½‘ IP æŸ¥è¯¢
- å…¬ç½‘ IP æŸ¥è¯¢
- VPN ä»£ç†æ£€æµ‹ï¼ˆè‡ªåŠ¨åŒºåˆ†çœŸå® IP å’Œ VPN IPï¼‰

## åŠŸèƒ½ç‰¹ç‚¹

### æ™ºèƒ½ VPN æ£€æµ‹
- åŒæ—¶æŸ¥è¯¢å›½å†…å’Œå›½é™… IP æœåŠ¡
- å¦‚æœä¸¤ä¸ªæœåŠ¡è¿”å›çš„ IP ä¸åŒï¼Œè¯´æ˜ä½¿ç”¨äº† VPN
- è‡ªåŠ¨åŒºåˆ†çœŸå® IP å’Œ VPN ä»£ç†åçš„ IP

### å¿«é€Ÿå“åº”
- å¹¶å‘æŸ¥è¯¢å¤šä¸ª IP æœåŠ¡
- è¿”å›æœ€å¿«å“åº”çš„ç»“æœ
- è¶…æ—¶ä¿æŠ¤ï¼ˆ5ç§’ï¼‰

## å®‰è£…

```bash
cd python/æˆ‘çš„IP
pip install -e .
```

## é…ç½® MCP

åœ¨ Kiro çš„ MCP é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š

### æ–¹å¼ 1: ä½¿ç”¨ Python æ¨¡å—
```json
{
  "mcpServers": {
    "ip-query": {
      "command": "python",
      "args": ["-m", "ip_query_mcp"],
      "disabled": false
    }
  }
}
```

### æ–¹å¼ 2: ä½¿ç”¨ uvxï¼ˆæ¨èï¼‰
å¦‚æœå‘å¸ƒåˆ° PyPI åï¼š
```json
{
  "mcpServers": {
    "ip-query": {
      "command": "uvx",
      "args": ["ip-query-mcp"],
      "disabled": false
    }
  }
}
```

## å¯ç”¨å·¥å…·

### 1. get_ip_info
æŸ¥è¯¢å®Œæ•´çš„ IP ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…ç½‘ IPã€å…¬ç½‘ IPï¼Œå¹¶è‡ªåŠ¨æ£€æµ‹ VPNã€‚

**ç¤ºä¾‹è¾“å‡ºï¼ˆæœªä½¿ç”¨ VPNï¼‰ï¼š**
```
å†…ç½‘ IP: 192.168.1.100
å…¬ç½‘ IP: 123.45.67.89

âœ“ æœªæ£€æµ‹åˆ° VPN ä»£ç†
```

**ç¤ºä¾‹è¾“å‡ºï¼ˆä½¿ç”¨ VPNï¼‰ï¼š**
```
å†…ç½‘ IP: 192.168.1.100
å…¬ç½‘ IP: 123.45.67.89

ğŸ”’ æ£€æµ‹åˆ° VPN ä»£ç†:
  çœŸå® IP: 123.45.67.89
  VPN IP: 104.28.15.200
```

### 2. get_local_ip
ä»…æŸ¥è¯¢å†…ç½‘ IP åœ°å€ã€‚

### 3. get_public_ip
ä»…æŸ¥è¯¢å…¬ç½‘ IP åœ°å€ï¼ˆä¸åŒºåˆ†æ˜¯å¦ä½¿ç”¨ VPNï¼‰ã€‚

## å·¥ä½œåŸç†

1. **å†…ç½‘ IP**: éå†æ‰€æœ‰ç½‘ç»œæ¥å£ï¼Œä¼˜å…ˆè¿”å›å±€åŸŸç½‘ IPï¼ˆ192.168.x.x, 10.x.x.x, 172.16-31.x.xï¼‰
2. **çœŸå® IP**: æŸ¥è¯¢å›½å†…æˆ–å“åº”å¿«çš„ IP æœåŠ¡ï¼ˆå¦‚ ipify.orgï¼‰
3. **VPN IP**: æŸ¥è¯¢å›½é™…æœåŠ¡ï¼ˆå¦‚ Cloudflare CDNï¼‰
4. **VPN æ£€æµ‹**: æ¯”è¾ƒä¸¤ä¸ªæœåŠ¡è¿”å›çš„ IPï¼Œå¦‚æœä¸åŒåˆ™åˆ¤å®šä¸ºä½¿ç”¨äº† VPN

## æŠ€æœ¯ç»†èŠ‚

- ä½¿ç”¨ `netifaces` è·å–æ‰€æœ‰ç½‘ç»œæ¥å£çš„ IP åœ°å€
- ä½¿ç”¨ `httpx` è¿›è¡Œå¼‚æ­¥ HTTP è¯·æ±‚
- å¹¶å‘æŸ¥è¯¢å¤šä¸ªæœåŠ¡ï¼Œè¿”å›æœ€å¿«çš„ç»“æœ
- æ”¯æŒå¤šç§ IP æœåŠ¡å“åº”æ ¼å¼ï¼ˆJSONã€çº¯æ–‡æœ¬ã€Cloudflare traceï¼‰
- å®Œå–„çš„é”™è¯¯å¤„ç†å’Œè¶…æ—¶ä¿æŠ¤

## ä¾èµ–

- Python >= 3.10
- mcp >= 1.0.0
- httpx >= 0.27.0
- netifaces >= 0.11.0

## å¼€å‘

```bash
# å®‰è£…å¼€å‘ä¾èµ–
pip install -e ".[dev]"

# è¿è¡Œæµ‹è¯•
pytest
```

## License

MIT

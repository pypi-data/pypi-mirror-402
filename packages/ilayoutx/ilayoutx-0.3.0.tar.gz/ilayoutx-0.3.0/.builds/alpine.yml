image: alpine/latest
packages:
  - python3
  - py3-pip
sources:
  - https://git.sr.ht/~iosonofabio/ilayoutx
tasks:
  - setup: |
      cd ilayoutx
      python3 -m venv .venv
      .venv/bin/pip install --upgrade pip
  - build: |
      cd ilayoutx
      .venv/bin/pip install .
  - setup_test: |
      cd ilayoutx
      .venv/bin/pip install --group test-noumap
  - test: |
      cd ilayoutx
      .venv/bin/pytest

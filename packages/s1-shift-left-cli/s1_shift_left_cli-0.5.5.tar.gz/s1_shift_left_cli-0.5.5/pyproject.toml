[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"


[tool.poetry]
name = "s1_shift_left_cli"
packages = [
    { include = "s1_cns_cli", from = "src" }
]
version = "0.5.5" # update version in src/s1_cns_cli/version.py as well
authors = ["pingsafe-dev <dev@pingsafe.com>"]
description = "SentinelOne CNS CLI is an extension of our vision to shift-left security with SentinelOne CNS."
readme = "PYPI_README.md"
license = "Proprietary"

[tool.poetry.dependencies]
python = "^3.9"
aiodns = "3.0.0"
aiohttp = "3.9.4"
aiomultiprocess = "0.9.0"
aiosignal = "1.3.1"
argcomplete = "3.0.8"
async-timeout = "4.0.2"
asynctest = "0.13.0"
attrs = "23.1.0"
bc-detect-secrets = "1.4.21"
bc-jsonpath-ng = "1.5.9"
bc-python-hcl2 = "0.3.51"
beautifulsoup4 = "4.12.2"
boto3 = "1.26.121"
botocore = "1.29.121"
cached-property = "1.5.2"
cachetools = "5.3.0"
certifi = "2024.2.2"
cffi = "1.17.1"
charset-normalizer = "3.1.0"
click = "8.1.3"
click-option-group = "0.5.5"
cloudsplaining = "0.5.1"
colorama = "0.4.6"
ConfigArgParse = "1.5.3"
contextlib2 = "21.6.0"
cyclonedx-python-lib = "3.1.5"
decorator = "5.1.1"
deep-merge = "0.0.4"
docker = "6.0.1"
dockerfile-parse = "2.0.0"
dpath = "2.1.3"
frozenlist = "1.5.0"
gitdb = "4.0.10"
GitPython = "3.1.43"
idna = "3.4"
importlib-metadata = "6.6.0"
importlib-resources = "5.12.0"
Jinja2 = "3.1.2"
jmespath = "1.0.1"
jsonschema = "4.17.3"
junit-xml = "1.9"
lark = "1.1.5"
Markdown = "3.4.3"
MarkupSafe = "2.1.2"
multidict = "6.1.0"
networkx = "2.6.3"
openai = "0.27.4"
packageurl-python = "0.11.1"
packaging = "23.1"
pkgutil_resolve_name = "1.3.10"
ply = "3.11"
policy-sentry = "0.12.6"
policyuniverse = "1.5.0.20220613"
prettytable = "3.7.0"
pycares = "4.3.0"
pycep-parser = "0.3.9"
pycparser = "2.21"
pyrsistent = "0.19.3"
python-dateutil = "2.8.2"
PyYAML = "6.0.1"
regex = "2022.10.31"
requests = "2.29.0"
s3transfer = "0.6.0"
schema = "0.7.5"
semantic-version = "2.10.0"
six = "1.16.0"
smmap = "5.0.0"
sortedcontainers = "2.4.0"
soupsieve = "2.4.1"
tabulate = "0.9.0"
termcolor = "2.3.0"
texttable = "1.6.7"
toml = "0.10.2"
tqdm = "4.65.0"
typing_extensions = "4.9.0"
unidiff = "0.7.5"
update-checker = "0.18.0"
urllib3 = "1.26.15"
wcwidth = "0.2.6"
websocket-client = "1.5.1"
yarl = "1.17.0"
zipp = "3.15.0"
blinker = "1.6.2"
flask_cors = "3.0.10"
itsdangerous = "2.1.2"
flask = "2.2.5"
werkzeug = "3.0.3"
importlib_metadata = "6.6.0"
sentry-sdk = "^1.24.0"
alive-progress = "^3.1.4"

[tool.poetry.scripts]
start-server = "server.app:start_local_server"
pre-build =  "pre_build.build_script:main"
s1-cns-cli = "s1_cns_cli.cli.main:start"

[tool.poetry.group.dev.dependencies]
pytest-cov = "^4.1.0"
pytest = "^7.4.3"
pytest-html = { version = "^4.1.1", python = ">=3.8" }
pytest-xdist = "^3.5.0"

[tool.pytest.ini_options]
addopts = "-n 5 --html=report.html --self-contained-html --cov=src/s1_cns_cli/cli --cov-report=html:coverage"
markers = ["integ", "iac", "vuln", "secret", "config", "vuln_deletion"]

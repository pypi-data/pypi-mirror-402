[build-system]
requires = ["flit_core >=3.2,<4"]
build-backend = "flit_core.buildapi"

[project]
name = "ansys-chemkin-core"
version = "0.1.0"
description = "PyChemkin provides Pythonic interface to Ansys Chemkin utilities and reactor models"
requires-python = ">=3.10,<4"
license = { file = "LICENSE" }
authors = [{ name = "ANSYS, Inc.", email = "pyansys.core@ansys.com" }]
maintainers = [{ name = "ANSYS, Inc.", email = "pyansys.core@ansys.com" }]
readme = "README.rst"
classifiers = [
    "Development Status :: 4 - Beta",
    "Intended Audience :: Science/Research",
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: MIT License",
    "Operating System :: Microsoft :: Windows :: Windows 11",
    "Operating System :: Microsoft :: Windows :: Windows 10",
    "Natural Language :: English",
]
dependencies = [
    "matplotlib>=3.10.8",
    "numpy>=1.14.0,<3.0.0",
    "pyyaml>=6.0",
]


[dependency-groups]
doc = [
    "Pillow==12.0.0",
    "PyGitHub==2.8.1",
    "ansys-sphinx-theme==1.6.4",
    "jupytext==1.18.1",
    "nbsphinx==0.9.8",
    "notebook==7.5.1",
    "numpydoc==1.10.0",
    "pandas==2.3.3",
    "pandoc==2.4.0",
    "pyvista==0.46.4",
    "requests==2.32.5",
    "sphinx-autoapi==3.6.1",
    "sphinx-copybutton==0.5.2",
    "sphinx-design==0.6.1",
    "sphinx-gallery==0.20.0",
    "sphinx-jinja==2.0.2",
    "sphinx-notfound-page==1.1.0",
]
tests = [
    "dill==0.4.0",
    "docker==7.1.0",
    "pygltflib==1.16.5",
    "pytest-cov==7.0.0",
    "pytest-mock==3.15.1",
    "pytest==9.0.2",
    "requests==2.32.5",
    "urllib3==2.6.3",
    "usd-core==25.11",
]
vulnerabilities = [
  "bandit[toml]==1.9.2",
  "safety==3.7.0",
  "typer==0.21.1",
]

[project.urls]
Discussions = "https://github.com/ansys/pychemkin/discussions"
Documentation = "https://chemkin.docs.pyansys.com/"
Issues = "https://github.com/ansys/pychemkin/issues"
Releases = "https://github.com/ansys/pychemkin/releases/"
Source = "https://github.com/ansys/pychemkin"

[tool.flit.module]
name = "ansys.chemkin.core"

[tool.ruff]
line-length = 88
lint.select = [
  "D",   # pydocstyle, see https://beta.ruff.rs/docs/rules/#pydocstyle-d
  "E",   # pycodestyle, see https://beta.ruff.rs/docs/rules/#pycodestyle-e-w
  "F",   # pyflakes, see https://beta.ruff.rs/docs/rules/#pyflakes-f
  "I",   # isort, see https://beta.ruff.rs/docs/rules/#isort-i
  "N",   # pep8-naming, see https://beta.ruff.rs/docs/rules/#pep8-naming-n
  "PTH", # flake8-use-pathlib, https://beta.ruff.rs/docs/rules/#flake8-use-pathlib-pth
  "PYI", # flake8-pyi, see https://docs.astral.sh/ruff/rules/#flake8-pyi-pyi
  "TD",  # flake8-todos, https://docs.astral.sh/ruff/rules/#flake8-todos-td
]

lint.isort.combine-as-imports = true
lint.isort.force-sort-within-sections = true
lint.isort.known-first-party = [ "ansys" ]

[tool.ruff.lint.per-file-ignores]
# Ignore pydocstyle rule in examples due to conflicts with sphinx-gallery syntax
"examples/**/*.py" = ["D"]

[tool.codespell]
ignore-words-list = "delt, pres, te"
quiet-level = 3
skip = "*.toml,*.pyc,*.xml,*.gif,*.png,*.jpg,*.js,*.html,*.svg,*.asc,*.out"

[tool.pytest.ini_options]
addopts = "-ra --maxfail=3"

[tool.towncrier]
package = "ansys.chemkin.core"
directory = "doc/source/changelog"
filename = "doc/source/changelog.rst"
start_string = ".. towncrier release notes start\n"
template = "doc/source/changelog/template"
title_format = "`{version} <https://github.com/ansys/pychemkin/releases/tag/v{version}>`_ - {project_date}"
issue_format = "`#{issue} <https://github.com/ansys/pychemkin/pull/{issue}>`_"

[[tool.towncrier.type]]
directory = "added"
name = "Added"
showcontent = true

[[tool.towncrier.type]]
directory = "changed"
name = "Changed"
showcontent = true

[[tool.towncrier.type]]
directory = "fixed"
name = "Fixed"
showcontent = true

[[tool.towncrier.type]]
directory = "dependencies"
name = "Dependencies"
showcontent = true

[[tool.towncrier.type]]
directory = "miscellaneous"
name = "Miscellaneous"
showcontent = true
[[tool.towncrier.type]]
directory = "documentation"
name = "Documentation"
showcontent = true

[[tool.towncrier.type]]
directory = "maintenance"
name = "Maintenance"
showcontent = true

[[tool.towncrier.type]]
directory = "test"
name = "Test"
showcontent = true

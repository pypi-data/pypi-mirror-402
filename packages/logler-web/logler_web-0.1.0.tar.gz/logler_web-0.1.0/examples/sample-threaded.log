2024-01-15 10:00:00.001 [INFO] [main] Application initializing
2024-01-15 10:00:00.005 [DEBUG] [main] Parsing command line arguments
2024-01-15 10:00:00.010 [INFO] [main] Configuration loaded from config.yaml
2024-01-15 10:00:00.015 [DEBUG] [main] Creating thread pool with 4 workers
2024-01-15 10:00:00.020 [INFO] [main] Starting worker threads
2024-01-15 10:00:00.025 [DEBUG] [worker-1] Worker thread started
2024-01-15 10:00:00.026 [DEBUG] [worker-2] Worker thread started
2024-01-15 10:00:00.027 [DEBUG] [worker-3] Worker thread started
2024-01-15 10:00:00.028 [DEBUG] [worker-4] Worker thread started
2024-01-15 10:00:00.030 [INFO] [main] HTTP server starting on port 8080
2024-01-15 10:00:00.035 [DEBUG] [http-handler] HTTP listener bound to 0.0.0.0:8080
2024-01-15 10:00:00.040 [INFO] [main] Application ready to accept requests
2024-01-15 10:00:05.100 [INFO] [http-handler] Request received: GET /api/process-batch
2024-01-15 10:00:05.105 [DEBUG] [http-handler] Dispatching batch job to workers
2024-01-15 10:00:05.110 [INFO] [worker-1] Processing batch item 1/25
2024-01-15 10:00:05.111 [INFO] [worker-2] Processing batch item 2/25
2024-01-15 10:00:05.112 [INFO] [worker-3] Processing batch item 3/25
2024-01-15 10:00:05.113 [INFO] [worker-4] Processing batch item 4/25
2024-01-15 10:00:05.150 [DEBUG] [worker-1] Item 1: Fetching external data
2024-01-15 10:00:05.152 [DEBUG] [worker-2] Item 2: Fetching external data
2024-01-15 10:00:05.155 [DEBUG] [worker-3] Item 3: Fetching external data
2024-01-15 10:00:05.158 [DEBUG] [worker-4] Item 4: Fetching external data
2024-01-15 10:00:05.200 [DEBUG] [worker-1] Item 1: Data fetched, transforming
2024-01-15 10:00:05.210 [DEBUG] [worker-2] Item 2: Data fetched, transforming
2024-01-15 10:00:05.220 [DEBUG] [worker-3] Item 3: Data fetched, transforming
2024-01-15 10:00:05.230 [DEBUG] [worker-4] Item 4: Data fetched, transforming
2024-01-15 10:00:05.250 [INFO] [worker-1] Item 1 completed successfully
2024-01-15 10:00:05.255 [INFO] [worker-1] Processing batch item 5/25
2024-01-15 10:00:05.260 [INFO] [worker-2] Item 2 completed successfully
2024-01-15 10:00:05.265 [INFO] [worker-2] Processing batch item 6/25
2024-01-15 10:00:05.270 [INFO] [worker-3] Item 3 completed successfully
2024-01-15 10:00:05.275 [INFO] [worker-3] Processing batch item 7/25
2024-01-15 10:00:05.280 [INFO] [worker-4] Item 4 completed successfully
2024-01-15 10:00:05.285 [INFO] [worker-4] Processing batch item 8/25
2024-01-15 10:00:05.300 [DEBUG] [worker-1] Item 5: Fetching external data
2024-01-15 10:00:05.310 [DEBUG] [worker-2] Item 6: Fetching external data
2024-01-15 10:00:05.320 [DEBUG] [worker-3] Item 7: Fetching external data
2024-01-15 10:00:05.330 [DEBUG] [worker-4] Item 8: Fetching external data
2024-01-15 10:00:05.380 [WARN] [worker-1] Item 5: External service slow (response > 50ms)
2024-01-15 10:00:05.400 [ERROR] [worker-2] Item 6: External service returned error 503
2024-01-15 10:00:05.405 [DEBUG] [worker-2] Item 6: Retrying (attempt 1/3)
2024-01-15 10:00:05.410 [DEBUG] [worker-3] Item 7: Data fetched, transforming
2024-01-15 10:00:05.420 [DEBUG] [worker-4] Item 8: Data fetched, transforming
2024-01-15 10:00:05.450 [INFO] [worker-1] Item 5 completed successfully
2024-01-15 10:00:05.455 [INFO] [worker-1] Processing batch item 9/25
2024-01-15 10:00:05.460 [INFO] [worker-3] Item 7 completed successfully
2024-01-15 10:00:05.465 [INFO] [worker-3] Processing batch item 10/25
2024-01-15 10:00:05.470 [INFO] [worker-4] Item 8 completed successfully
2024-01-15 10:00:05.475 [INFO] [worker-4] Processing batch item 11/25
2024-01-15 10:00:05.500 [DEBUG] [worker-2] Item 6: Retry response received
2024-01-15 10:00:05.505 [INFO] [worker-2] Item 6 completed after retry
2024-01-15 10:00:05.510 [INFO] [worker-2] Processing batch item 12/25
2024-01-15 10:00:05.550 [DEBUG] [worker-1] Item 9: Fetching external data
2024-01-15 10:00:05.560 [DEBUG] [worker-3] Item 10: Fetching external data
2024-01-15 10:00:05.570 [DEBUG] [worker-4] Item 11: Fetching external data
2024-01-15 10:00:05.580 [DEBUG] [worker-2] Item 12: Fetching external data
2024-01-15 10:00:05.620 [DEBUG] [worker-1] Item 9: Data fetched, transforming
2024-01-15 10:00:05.625 [INFO] [worker-1] Item 9 completed successfully
2024-01-15 10:00:05.630 [INFO] [worker-1] Processing batch item 13/25
2024-01-15 10:00:05.640 [DEBUG] [worker-3] Item 10: Data fetched, transforming
2024-01-15 10:00:05.645 [INFO] [worker-3] Item 10 completed successfully
2024-01-15 10:00:05.650 [INFO] [worker-3] Processing batch item 14/25
2024-01-15 10:00:05.660 [DEBUG] [worker-4] Item 11: Data fetched, transforming
2024-01-15 10:00:05.665 [INFO] [worker-4] Item 11 completed successfully
2024-01-15 10:00:05.670 [INFO] [worker-4] Processing batch item 15/25
2024-01-15 10:00:05.680 [ERROR] [worker-2] Item 12: Data validation failed - missing required field
2024-01-15 10:00:05.685 [WARN] [worker-2] Item 12: Skipping invalid record
2024-01-15 10:00:05.690 [INFO] [worker-2] Processing batch item 16/25
2024-01-15 10:00:05.750 [DEBUG] [worker-1] Item 13: Fetching external data
2024-01-15 10:00:05.760 [DEBUG] [worker-3] Item 14: Fetching external data
2024-01-15 10:00:05.770 [DEBUG] [worker-4] Item 15: Fetching external data
2024-01-15 10:00:05.780 [DEBUG] [worker-2] Item 16: Fetching external data
2024-01-15 10:00:05.820 [DEBUG] [worker-1] Item 13: Data fetched, transforming
2024-01-15 10:00:05.825 [INFO] [worker-1] Item 13 completed successfully
2024-01-15 10:00:05.830 [INFO] [worker-1] Processing batch item 17/25
2024-01-15 10:00:05.840 [DEBUG] [worker-3] Item 14: Data fetched, transforming
2024-01-15 10:00:05.845 [INFO] [worker-3] Item 14 completed successfully
2024-01-15 10:00:05.850 [INFO] [worker-3] Processing batch item 18/25
2024-01-15 10:00:05.860 [DEBUG] [worker-4] Item 15: Data fetched, transforming
2024-01-15 10:00:05.865 [INFO] [worker-4] Item 15 completed successfully
2024-01-15 10:00:05.870 [INFO] [worker-4] Processing batch item 19/25
2024-01-15 10:00:05.880 [DEBUG] [worker-2] Item 16: Data fetched, transforming
2024-01-15 10:00:05.885 [INFO] [worker-2] Item 16 completed successfully
2024-01-15 10:00:05.890 [INFO] [worker-2] Processing batch item 20/25
2024-01-15 10:00:05.950 [DEBUG] [worker-1] Item 17: Fetching external data
2024-01-15 10:00:05.960 [DEBUG] [worker-3] Item 18: Fetching external data
2024-01-15 10:00:05.970 [DEBUG] [worker-4] Item 19: Fetching external data
2024-01-15 10:00:05.980 [DEBUG] [worker-2] Item 20: Fetching external data
2024-01-15 10:00:06.020 [DEBUG] [worker-1] Item 17: Data fetched, transforming
2024-01-15 10:00:06.025 [INFO] [worker-1] Item 17 completed successfully
2024-01-15 10:00:06.030 [INFO] [worker-1] Processing batch item 21/25
2024-01-15 10:00:06.040 [DEBUG] [worker-3] Item 18: Data fetched, transforming
2024-01-15 10:00:06.045 [INFO] [worker-3] Item 18 completed successfully
2024-01-15 10:00:06.050 [INFO] [worker-3] Processing batch item 22/25
2024-01-15 10:00:06.060 [ERROR] [worker-4] Item 19: Timeout waiting for external service
2024-01-15 10:00:06.065 [ERROR] [worker-4] Item 19: Failed after 3 retries, marking as failed
2024-01-15 10:00:06.070 [INFO] [worker-4] Processing batch item 23/25
2024-01-15 10:00:06.080 [DEBUG] [worker-2] Item 20: Data fetched, transforming
2024-01-15 10:00:06.085 [INFO] [worker-2] Item 20 completed successfully
2024-01-15 10:00:06.090 [INFO] [worker-2] Processing batch item 24/25
2024-01-15 10:00:06.150 [DEBUG] [worker-1] Item 21: Fetching external data
2024-01-15 10:00:06.160 [DEBUG] [worker-3] Item 22: Fetching external data
2024-01-15 10:00:06.170 [DEBUG] [worker-4] Item 23: Fetching external data
2024-01-15 10:00:06.180 [DEBUG] [worker-2] Item 24: Fetching external data
2024-01-15 10:00:06.220 [DEBUG] [worker-1] Item 21: Data fetched, transforming
2024-01-15 10:00:06.225 [INFO] [worker-1] Item 21 completed successfully
2024-01-15 10:00:06.230 [INFO] [worker-1] Processing batch item 25/25
2024-01-15 10:00:06.240 [DEBUG] [worker-3] Item 22: Data fetched, transforming
2024-01-15 10:00:06.245 [INFO] [worker-3] Item 22 completed successfully
2024-01-15 10:00:06.250 [DEBUG] [worker-3] No more items in queue
2024-01-15 10:00:06.260 [DEBUG] [worker-4] Item 23: Data fetched, transforming
2024-01-15 10:00:06.265 [INFO] [worker-4] Item 23 completed successfully
2024-01-15 10:00:06.270 [DEBUG] [worker-4] No more items in queue
2024-01-15 10:00:06.280 [DEBUG] [worker-2] Item 24: Data fetched, transforming
2024-01-15 10:00:06.285 [INFO] [worker-2] Item 24 completed successfully
2024-01-15 10:00:06.290 [DEBUG] [worker-2] No more items in queue
2024-01-15 10:00:06.320 [DEBUG] [worker-1] Item 25: Fetching external data
2024-01-15 10:00:06.370 [DEBUG] [worker-1] Item 25: Data fetched, transforming
2024-01-15 10:00:06.375 [INFO] [worker-1] Item 25 completed successfully
2024-01-15 10:00:06.380 [DEBUG] [worker-1] No more items in queue
2024-01-15 10:00:06.400 [INFO] [main] Batch processing complete: 23 success, 2 failed
2024-01-15 10:00:06.405 [DEBUG] [main] Aggregating results
2024-01-15 10:00:06.410 [INFO] [http-handler] Response sent: 200 OK (1310ms)
2024-01-15 10:00:10.000 [DEBUG] [main] Running periodic health check
2024-01-15 10:00:10.005 [DEBUG] [worker-1] Health check: idle
2024-01-15 10:00:10.006 [DEBUG] [worker-2] Health check: idle
2024-01-15 10:00:10.007 [DEBUG] [worker-3] Health check: idle
2024-01-15 10:00:10.008 [DEBUG] [worker-4] Health check: idle
2024-01-15 10:00:10.010 [INFO] [main] All workers healthy

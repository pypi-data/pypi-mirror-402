image: "harbor.local.clusters/bp/sglang/nla-sglang:v0.4.1.post7-v0.5.6.12"
cmd:
  - OUTLINES_CACHE_DIR=/tmp/.outlines nla_sglang
  - --model-path='{{MODEL_PATH}}'
  - --trust-remote-code
  - --tensor-parallel-size={{GPUS_PER_POD}}
  - --served-model-name={{SERVED_MODEL_NAME}}
  - --mem-fraction-static=0.85
  - --chunked-prefill-size=8192
  - --max-running-requests=2048
  - --max-prefill-tokens=16384
  - --enable-metrics
  - --port 8000
  - --host 0.0.0.0
livenessPath: "/health"
readinessPath: "/health"

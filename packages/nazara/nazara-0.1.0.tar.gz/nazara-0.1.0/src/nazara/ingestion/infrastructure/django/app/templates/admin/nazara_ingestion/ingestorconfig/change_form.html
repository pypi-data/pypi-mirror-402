{% extends "admin/change_form.html" %}
{% load i18n admin_urls %}

{% block object-tools-items %}
{{ block.super }}
{% if show_ingestor_actions and original %}
<li>
    <a href="{% url 'admin:ingestor-test-connection' original.pk %}" 
       class="viewsitelink"
       title="Test API connection">
        Test Connection
    </a>
</li>
<li>
    <a href="{% url 'admin:ingestor-sync-now' original.pk %}" 
       class="viewsitelink"
       title="Trigger immediate sync">
        Sync Now
    </a>
</li>
<li>
    <a href="{% url 'admin:ingestor-reset-cursor' original.pk %}" 
       class="deletelink"
       title="Reset cursor to re-ingest all data"
       onclick="return confirm('Are you sure? This will re-ingest all historical data from the source.');">
        Reset Cursor
    </a>
</li>
{% endif %}
{% endblock %}

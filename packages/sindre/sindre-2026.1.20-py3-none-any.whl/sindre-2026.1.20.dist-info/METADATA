Metadata-Version: 2.4
Name: sindre
Version: 2026.1.20
Summary: è‡ªç”¨è„šæœ¬åº“
Home-page: https://github.com/SindreYang/Sindre
Author: SindreYang
License: LGPL-3.0-or-later
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: lmdb>=1.6.2
Requires-Dist: msgpack>=1.1.0
Requires-Dist: vedo>=2025.5.3
Requires-Dist: numpy<2.0.0
Requires-Dist: loguru
Requires-Dist: tqdm
Requires-Dist: scipy
Requires-Dist: numba
Provides-Extra: full
Requires-Dist: Cython; extra == "full"
Requires-Dist: nvitop; extra == "full"
Requires-Dist: scikit-learn; extra == "full"
Requires-Dist: pyqt5; extra == "full"
Requires-Dist: qdarkstyle; extra == "full"
Requires-Dist: fastapi; extra == "full"
Requires-Dist: opencv-contrib-python; extra == "full"
Requires-Dist: opencv-python; extra == "full"
Requires-Dist: scikit-image; extra == "full"
Requires-Dist: imgaug; extra == "full"
Requires-Dist: matplotlib; extra == "full"
Requires-Dist: Pillow; extra == "full"
Requires-Dist: pymeshlab; extra == "full"
Requires-Dist: meshlib==3.0.6.229; extra == "full"
Requires-Dist: libigl>=2.6.1; extra == "full"
Requires-Dist: trimesh; extra == "full"
Requires-Dist: open3d; extra == "full"
Requires-Dist: pymeshlab; extra == "full"
Provides-Extra: 2d
Requires-Dist: opencv-contrib-python; extra == "2d"
Requires-Dist: opencv-python; extra == "2d"
Requires-Dist: scikit-image; extra == "2d"
Requires-Dist: imgaug; extra == "2d"
Requires-Dist: matplotlib; extra == "2d"
Requires-Dist: Pillow; extra == "2d"
Provides-Extra: 3d
Requires-Dist: pymeshlab; extra == "3d"
Requires-Dist: meshlib==3.0.6.229; extra == "3d"
Requires-Dist: libigl>=2.6.1; extra == "3d"
Requires-Dist: trimesh; extra == "3d"
Requires-Dist: open3d; extra == "3d"
Requires-Dist: pymeshlab; extra == "3d"
Dynamic: author
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license
Dynamic: license-file
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

<div align="center">

# Sindre - å¤šåŠŸèƒ½Pythonå·¥å…·åº“

[![PyTorch](https://img.shields.io/badge/PyTorch-ee4c2c?logo=pytorch&logoColor=white)](https://pytorch.org/get-started/locally/)
[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/License-LGPL-green.svg)](LICENSE)
[![Documentation](https://img.shields.io/badge/Documentation-mkdocs-blue.svg)](https://sindreyang.github.io/sindre/)
[![PyPI](https://img.shields.io/badge/PyPI-sindre-red.svg)](https://pypi.org/project/sindre/)

**ä¸€ä¸ªé›†æˆäº†LMDBæ•°æ®åº“ã€3Då¤„ç†ã€æŠ¥å‘Šç”Ÿæˆã€éƒ¨ç½²å·¥å…·ç­‰å¤šç§åŠŸèƒ½çš„Pythonå·¥å…·åº“**

<p align="center">
    <br />
    <a href="https://sindreyang.github.io/sindre/"><strong>ğŸ“– å®Œæ•´APIæ–‡æ¡£</strong></a>
    <br />
    <br />
    <a>2025å¹´8æœˆåç‰ˆæœ¬åªç»´æŠ¤python3.12</a>
    <br />
    <br />
    <a href="https://github.com/SindreYang/sindre/releases">ğŸ“¦ ä¸‹è½½Releases</a>
    Â·
    <a href="https://github.com/SindreYang/sindre/issues">ğŸ› æŠ¥å‘ŠBug</a>
    Â·
    <a href="https://github.com/SindreYang/sindre/issues">ğŸ’¡ æå‡ºæ–°ç‰¹æ€§</a>
  </p>
</div>

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [å®‰è£…æŒ‡å—](#-å®‰è£…æŒ‡å—)
- [æ ¸å¿ƒæ¨¡å—](#-æ ¸å¿ƒæ¨¡å—)
- [ä½¿ç”¨ç¤ºä¾‹](#-ä½¿ç”¨ç¤ºä¾‹)
- [APIæ–‡æ¡£](#-apiæ–‡æ¡£)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **ğŸ” LMDBæ•°æ®åº“ç®¡ç†**: é«˜æ€§èƒ½çš„é”®å€¼å­˜å‚¨ï¼Œæ”¯æŒå¤šè¿›ç¨‹æ“ä½œ
- **ğŸ¯ 3Dæ•°æ®å¤„ç†**: ç½‘æ ¼å¤„ç†ã€ç‚¹äº‘æ“ä½œã€3Då¯è§†åŒ–
- **ğŸ“Š æŠ¥å‘Šç”Ÿæˆ**: è‡ªåŠ¨ç”ŸæˆHTMLæµ‹è¯•æŠ¥å‘Š
- **ğŸš€ éƒ¨ç½²å·¥å…·**: ONNXã€TensorRTã€å…±äº«å†…å­˜ç­‰éƒ¨ç½²æ–¹æ¡ˆ
- **ğŸ› ï¸ Windowså·¥å…·**: ç³»ç»Ÿçº§å·¥å…·å‡½æ•°å’Œå®‰è£…åŒ…åˆ¶ä½œ
- **ğŸ“ æ—¥å¿—ç®¡ç†**: å¤šè¿›ç¨‹æ—¥å¿—è®°å½•å’Œå¼‚å¸¸æ•è·
- **ğŸ§ª æµ‹è¯•æ¡†æ¶**: å®Œæ•´çš„pytestæµ‹è¯•å¥—ä»¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬å®‰è£…

```bash
# ä»PyPIå®‰è£…
pip install sindre

# æˆ–è€…ä»æºç å®‰è£…
git clone https://github.com/SindreYang/sindre.git
cd sindre
pip install -e .
```

### å¿«é€Ÿç¤ºä¾‹

```python
# LMDBæ•°æ®åº“æ“ä½œ
import sindre.lmdb as lmdb
import numpy as np

# å†™å…¥æ•°æ®
data = {'input': np.random.rand(10, 10), 'target': [0, 2, 10]}
with lmdb.Writer('./test_lmdb') as db:
    db.put_samples(data)

# è¯»å–æ•°æ®
with lmdb.Reader('./test_lmdb') as reader:
    sample = reader[0]
    print(sample.keys())

# 3Dç½‘æ ¼å¤„ç†
from sindre.utils3d.mesh import SindreMesh
import numpy as np

vertices = np.array([[0, 0, 0], [1, 0, 0], [0, 1, 0]])
faces = np.array([[0, 1, 2]])
mesh = SindreMesh(vertices=vertices, faces=faces)
mesh.show()  # 3Då¯è§†åŒ–
```

## ğŸ“¦ å®‰è£…æŒ‡å—

### ç³»ç»Ÿè¦æ±‚

- **Python**: >= 3.8
- **æ“ä½œç³»ç»Ÿ**: Windows, Linux, macOS
- **å†…å­˜**: å»ºè®® >= 4GB

### è¯¦ç»†å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/SindreYang/sindre.git
cd sindre
```

#### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£…åŸºç¡€ä¾èµ–
pip install -r requirements.txt

# å¯é€‰ï¼šå®‰è£…å¼€å‘ä¾èµ–
pip install pytest mkdocs mkdocs-material
```

#### 3. å®‰è£…æ¨¡å¼é€‰æ‹©

```bash
# å¼€å‘æ¨¡å¼ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰
pip install -e .

# ç”Ÿäº§æ¨¡å¼
python setup.py install

# æ„å»ºwheelåŒ…
python setup.py bdist_wheel
```

### ä¾èµ–è¯´æ˜

ä¸»è¦ä¾èµ–åŒ…æ‹¬ï¼š
- `numpy`: æ•°å€¼è®¡ç®—
- `torch`: æ·±åº¦å­¦ä¹ æ¡†æ¶
- `vedo`: 3Då¯è§†åŒ–
- `lmdb`: æ•°æ®åº“å­˜å‚¨
- `onnxruntime`: æ¨¡å‹æ¨ç†
- `pytest`: æµ‹è¯•æ¡†æ¶

## ğŸ§© æ ¸å¿ƒæ¨¡å—

### ğŸ“Š LMDBæ¨¡å— (`sindre.lmdb`)

é«˜æ€§èƒ½é”®å€¼å­˜å‚¨æ•°æ®åº“ï¼Œæ”¯æŒå¤šè¿›ç¨‹æ“ä½œã€‚

**ä¸»è¦åŠŸèƒ½**:
- é«˜æ•ˆçš„æ•°æ®è¯»å†™
- å¤šè¿›ç¨‹å®‰å…¨
- å†…å­˜æ˜ å°„ä¼˜åŒ–
- å…ƒæ•°æ®ç®¡ç†

### ğŸ¯ 3Då¤„ç†æ¨¡å— (`sindre.utils3d`)

å®Œæ•´çš„3Dæ•°æ®å¤„ç†è§£å†³æ–¹æ¡ˆã€‚

**ä¸»è¦åŠŸèƒ½**:
- ç½‘æ ¼å¤„ç†ä¸è½¬æ¢
- ç‚¹äº‘æ“ä½œ
- 3Då¯è§†åŒ–
- æ·±åº¦å­¦ä¹ ç½‘ç»œ

### ğŸ“‹ æŠ¥å‘Šæ¨¡å— (`sindre.report`)

è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šå’Œæ•°æ®åˆ†ææŠ¥å‘Šã€‚

**ä¸»è¦åŠŸèƒ½**:
- HTMLæŠ¥å‘Šç”Ÿæˆ
- æµ‹è¯•ç»“æœç»Ÿè®¡
- è‡ªå®šä¹‰æ¨¡æ¿
- å¤šæ ¼å¼å¯¼å‡º

### ğŸš€ éƒ¨ç½²æ¨¡å— (`sindre.deploy`)

æ¨¡å‹éƒ¨ç½²å’Œä¼˜åŒ–å·¥å…·ã€‚

**ä¸»è¦åŠŸèƒ½**:
- ONNXæ¨¡å‹è½¬æ¢
- TensorRTä¼˜åŒ–
- å…±äº«å†…å­˜é€šä¿¡
- å¤šå¹³å°éƒ¨ç½²

### ğŸ› ï¸ Windowså·¥å…· (`sindre.win_tools`)

Windowsç³»ç»Ÿä¸“ç”¨å·¥å…·ã€‚

**ä¸»è¦åŠŸèƒ½**:
- Pythonæ–‡ä»¶ç¼–è¯‘
- å®‰è£…åŒ…åˆ¶ä½œ
- ç³»ç»Ÿå·¥å…·é›†æˆ

### ğŸ“ é€šç”¨å·¥å…· (`sindre.general`)

é€šç”¨å·¥å…·å‡½æ•°å’Œæ—¥å¿—ç®¡ç†ã€‚

**ä¸»è¦åŠŸèƒ½**:
- å¤šè¿›ç¨‹æ—¥å¿—
- å¼‚å¸¸æ•è·
- å·¥å…·å‡½æ•°é›†åˆ

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### LMDBæ•°æ®åº“æ“ä½œ

```python
import sindre.lmdb as lmdb
import numpy as np

# åˆ›å»ºæ•°æ®åº“å¹¶å†™å…¥æ•°æ®
data = {
    'input': np.random.rand(100, 64),
    'target': np.random.randint(0, 10, 100),
    'metadata': {'source': 'synthetic', 'version': '1.0'}
}

# å†™å…¥æ•°æ®
with lmdb.Writer('./dataset.lmdb', map_size_limit=1024) as db:
    db.set_meta_str("description", "æµ‹è¯•æ•°æ®é›†")
    db.put_samples(data)

# è¯»å–æ•°æ®
with lmdb.Reader('./dataset.lmdb') as reader:
    print(f"æ•°æ®åº“å¤§å°: {len(reader)}")
    print(f"å…ƒæ•°æ®: {reader.get_meta_key_info()}")
    
    # è·å–ç¬¬ä¸€ä¸ªæ ·æœ¬
    sample = reader[0]
    print(f"æ ·æœ¬é”®: {sample.keys()}")
    print(f"è¾“å…¥å½¢çŠ¶: {sample['input'].shape}")
```

### 3Dç½‘æ ¼å¤„ç†

```python
from sindre.utils3d.mesh import SindreMesh
import numpy as np

# åˆ›å»ºç®€å•ç½‘æ ¼
vertices = np.array([
    [0, 0, 0], [1, 0, 0], [0, 1, 0], [1, 1, 0],
    [0, 0, 1], [1, 0, 1], [0, 1, 1], [1, 1, 1]
])
faces = np.array([
    [0, 1, 2], [1, 3, 2],  # åº•é¢
    [4, 6, 5], [5, 6, 7],  # é¡¶é¢
    [0, 4, 1], [1, 4, 5],  # ä¾§é¢
    [2, 3, 6], [3, 7, 6],  # ä¾§é¢
    [0, 2, 4], [2, 6, 4],  # ä¾§é¢
    [1, 5, 3], [3, 5, 7]   # ä¾§é¢
])

# åˆ›å»ºç½‘æ ¼å¯¹è±¡
mesh = SindreMesh(vertices=vertices, faces=faces)

# æ˜¾ç¤ºç½‘æ ¼ä¿¡æ¯
print(mesh)
print(f"é¡¶ç‚¹æ•°: {len(mesh.vertices)}")
print(f"é¢æ•°: {len(mesh.faces)}")

# 3Då¯è§†åŒ–
mesh.show()

# é‡‡æ ·ç‚¹äº‘
points = mesh.sample(density=0.1)
print(f"é‡‡æ ·ç‚¹æ•°: {len(points)}")

# æ ¼å¼è½¬æ¢
trimesh_mesh = mesh.to_trimesh()
open3d_mesh = mesh.to_open3d()
```

### æŠ¥å‘Šç”Ÿæˆ

```python
from sindre.report.report import Report

# åˆ›å»ºæŠ¥å‘Šå¯¹è±¡
report = Report()

# æ·»åŠ æµ‹è¯•ç»“æœ
test_results = [
    {
        "className": "TestModel",
        "methodName": "test_accuracy",
        "description": "æµ‹è¯•æ¨¡å‹å‡†ç¡®ç‡",
        "spendTime": 2.5,
        "status": "æˆåŠŸ",
        "log": ["å‡†ç¡®ç‡: 95.2%", "æŸå¤±: 0.048"]
    },
    {
        "className": "TestModel", 
        "methodName": "test_inference",
        "description": "æµ‹è¯•æ¨ç†é€Ÿåº¦",
        "spendTime": 1.8,
        "status": "æˆåŠŸ",
        "log": ["å¹³å‡æ¨ç†æ—¶é—´: 15ms"]
    }
]

for result in test_results:
    report.append_row(result)

# ç”ŸæˆæŠ¥å‘Š
report.write(output_path="./test_report.html")
```

### éƒ¨ç½²å·¥å…·

```python
from sindre.deploy import onnxruntime_deploy, TenserRT_deploy

# ONNXæ¨¡å‹éƒ¨ç½²
onnx_deployer = onnxruntime_deploy.OnnxDeployer()
onnx_deployer.load_model("model.onnx")
result = onnx_deployer.inference(input_data)

# TensorRTéƒ¨ç½²
trt_deployer = TenserRT_deploy.TRTDeployer()
trt_deployer.build_engine("model.onnx", "model.engine")
result = trt_deployer.inference(input_data)
```

### Windowså·¥å…·

```python
from sindre.win_tools import tools

# ç¼–è¯‘Pythonæ–‡ä»¶ä¸ºpyd
tools.py2pyd(
    source_dir=r"C:\project\src",
    clear_py=False,  # ä¿ç•™åŸpyæ–‡ä»¶
    exclude_patterns=["test_*.py"]  # æ’é™¤æµ‹è¯•æ–‡ä»¶
)

# åˆ›å»ºå®‰è£…åŒ…
tools.create_installer(
    source_dir=r"C:\project\dist",
    output_path=r"C:\project\installer.exe",
    app_name="MyApp",
    app_version="1.0.0"
)
```

## ğŸ“š APIæ–‡æ¡£

å®Œæ•´çš„APIæ–‡æ¡£è¯·è®¿é—®ï¼š[https://sindreyang.github.io/sindre/](https://sindreyang.github.io/sindre/)

### æ–‡æ¡£ç”Ÿæˆ

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨æ–‡æ¡£æœåŠ¡å™¨
mkdocs serve

# æ„å»ºæ–‡æ¡£
mkdocs build
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
sindre/
â”œâ”€â”€ .github/              # GitHub Actionså·¥ä½œæµ
â”œâ”€â”€ docs/                 # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ index.md         # ä¸»é¡µ
â”‚   â”œâ”€â”€ lmdb.md          # LMDBæ¨¡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ report.md        # æŠ¥å‘Šæ¨¡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ 3d.md            # 3Då¤„ç†æ¨¡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ deploy.md        # éƒ¨ç½²æ¨¡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ win_tools.md     # Windowså·¥å…·æ–‡æ¡£
â”‚   â””â”€â”€ general.md       # é€šç”¨å·¥å…·æ–‡æ¡£
â”œâ”€â”€ sindre/              # æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ lmdb/            # LMDBæ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ utils3d/         # 3Då¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ report/          # æŠ¥å‘Šç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ deploy/          # éƒ¨ç½²å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ win_tools/       # Windowså·¥å…·æ¨¡å—
â”‚   â””â”€â”€ general/         # é€šç”¨å·¥å…·æ¨¡å—
â”œâ”€â”€ test/                # æµ‹è¯•ä»£ç 
â”œâ”€â”€ requirements.txt     # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ setup.py            # å®‰è£…é…ç½®
â””â”€â”€ README.md           # é¡¹ç›®è¯´æ˜
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
pytest test/test_lmdb.py
pytest test/test_utils3d.py

# ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
pytest --html=report.html --self-contained-html
```

### ä»£ç è§„èŒƒ

- ä½¿ç”¨Googleé£æ ¼çš„docstring
- éµå¾ªPEP 8ä»£ç è§„èŒƒ
- æ‰€æœ‰å‡½æ•°å’Œç±»éƒ½éœ€è¦ç±»å‹æ³¨è§£
- æµ‹è¯•è¦†ç›–ç‡è¦æ±‚ > 80%

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼

1. **æŠ¥å‘ŠBug**: åœ¨GitHub Issuesä¸­æŠ¥å‘Šé—®é¢˜
2. **æå‡ºæ–°ç‰¹æ€§**: åœ¨Issuesä¸­æå‡ºå»ºè®®
3. **æäº¤ä»£ç **: Forké¡¹ç›®å¹¶æäº¤Pull Request
4. **æ”¹è¿›æ–‡æ¡£**: å¸®åŠ©å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹

### å¼€å‘æµç¨‹

1. Forké¡¹ç›®åˆ°ä½ çš„GitHubè´¦æˆ·
2. å…‹éš†ä½ çš„forkåˆ°æœ¬åœ°
3. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/amazing-feature`
4. æäº¤æ›´æ”¹: `git commit -m 'Add amazing feature'`
5. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
6. åˆ›å»ºPull Request

### ä»£ç å®¡æŸ¥

æ‰€æœ‰æäº¤çš„ä»£ç éƒ½ä¼šç»è¿‡å®¡æŸ¥ï¼Œç¡®ä¿ï¼š
- ä»£ç è´¨é‡ç¬¦åˆæ ‡å‡†
- æµ‹è¯•è¦†ç›–å……åˆ†
- æ–‡æ¡£æ›´æ–°å®Œæ•´
- å‘åå…¼å®¹æ€§

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨LGPLè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

## ğŸ“ è”ç³»æˆ‘ä»¬

- **GitHub Issues**: [https://github.com/SindreYang/sindre/issues](https://github.com/SindreYang/sindre/issues)
- **æ–‡æ¡£**: [https://sindreyang.github.io/sindre/](https://sindreyang.github.io/sindre/)
- **é‚®ç®±**: é€šè¿‡GitHub Issuesè”ç³»

---

<div align="center">
å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸
</div>

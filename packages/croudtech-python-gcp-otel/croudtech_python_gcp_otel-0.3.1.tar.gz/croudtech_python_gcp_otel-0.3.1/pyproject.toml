[tool.poetry]
name = "croudtech-python-gcp-otel"
version = "0.3.1"
description = "OpenTelemetry configuration utilities for GCP Cloud Trace and Cloud Logging"
authors = ["CroudTech"]
readme = "README.md"
packages = [{include = "croudtech_gcp_otel", from = "src"}]

[tool.poetry.dependencies]
python = "^3.10"

# OpenTelemetry - Core
opentelemetry-api = ">=1.21,<2.0"
opentelemetry-sdk = ">=1.21,<2.0"
opentelemetry-instrumentation = ">=0.42b0"

# OpenTelemetry - GCP Exporters
opentelemetry-exporter-gcp-trace = ">=1.6,<2.0"

# OpenTelemetry - Propagators
opentelemetry-propagator-gcp = ">=1.6,<2.0"

# OpenTelemetry - Resource detectors
opentelemetry-resourcedetector-gcp = ">=1.6.0a0,<2.0"

# OpenTelemetry - Instrumentations (optional, used by extras)
opentelemetry-instrumentation-django = { version = ">=0.42b0", optional = true }
opentelemetry-instrumentation-requests = { version = ">=0.42b0", optional = true }
opentelemetry-instrumentation-psycopg2 = { version = ">=0.42b0", optional = true }
opentelemetry-instrumentation-logging = { version = ">=0.42b0", optional = true }

[tool.poetry.extras]
django = ["opentelemetry-instrumentation-django"]
requests = ["opentelemetry-instrumentation-requests"]
psycopg2 = ["opentelemetry-instrumentation-psycopg2"]
logging = ["opentelemetry-instrumentation-logging"]
all = [
    "opentelemetry-instrumentation-django",
    "opentelemetry-instrumentation-requests",
    "opentelemetry-instrumentation-psycopg2",
    "opentelemetry-instrumentation-logging",
]

[tool.poetry.group.dev.dependencies]
pytest = "^8.0"
pytest-cov = "^4.0"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

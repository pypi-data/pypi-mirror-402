[tool.poetry]
name = "keydev-reports"
version = "1.0.1"
description = "Django package for generating reports"
authors = ["Your Name <you@example.com>"]
readme = "README.rst"
packages = [{include = "keydev_reports"}]

[tool.poetry.dependencies]
python = "^3.10"
Django = "4.1.3"
xlsxwriter = "^3.0"
openpyxl = "3.0.10"
pydantic = "^2.0"
python-docx = "0.8.11"
python-docx-replace = "0.4.1"
celery = "^5.0"
requests = "^2.28"

[tool.poetry.group.dev.dependencies]
pre-commit = "^3.0"
ruff = "^0.9.1"
flake8 = "^6.0"
flake8-bugbear = "^23.0"
flake8-quotes = "^3.3"
pytest = "9.0.2"
pytest-mock = "3.15.1"
pytest-django = "4.11.1"
pytest-cov = "6.0.0"
build = "^1.4.0"
twine = "^6.2.0"

[tool.pytest.ini_options]
python_files = ["tests.py", "test_*.py", "*_tests.py"]
testpaths = ["keydev_reports/"]
norecursedirs = [
    "build/",
    "dist/",
    "docs/",
    "keydev_reports.egg-info/"
]

[tool.ruff]
line-length = 120
show-fixes = true
exclude = [
    ".git",
    "*/migrations/*",
    "*/venv/*",
    "*/.venv/*",
    "*/__pycache__/*",
    "build/*",
    "dist/*",
    "docs/*",
    "keydev_reports.egg-info/*"
]

[tool.ruff.lint]
select = ["E", "F", "TCH", "Q", "B"]
unfixable = ["B"]

[tool.ruff.lint.per-file-ignores]
"**/migrations/*.py" = ["F401", "F403", "E501"]
"__init__.py" = ["F401"]

[tool.ruff.format]
quote-style = "single"

[tool.ruff.lint.flake8-quotes]
inline-quotes = "single"

[build-system]
requires = ["setuptools>=64", "setuptools-scm>=8"]
build-backend = "setuptools.build_meta"

[project]
name = "keydev_reports"
dynamic = ["version"]
description = "A Django app to create reports."
readme = "README.rst"
license = "BSD-3-Clause"
authors = [{name = "KeyDev", email = "d.kalybekuulu@keydev.kg"}]
requires-python = ">=3.8"
classifiers = [
    "Environment :: Web Environment",
    "Framework :: Django",
    "Framework :: Django :: 4",
    "Intended Audience :: Developers",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Topic :: Internet :: WWW/HTTP",
    "Topic :: Internet :: WWW/HTTP :: Dynamic Content",
]
keywords = ["django", "reports", "excel", "docx"]
dependencies = [
    "Django>=4.1.3",
    "openpyxl>=3.0.10",
    "pydantic>=2.4",
    "xlsxwriter>=3.1.9",
    "python-docx>=0.8.11",
    "python-docx-replace>=0.4.1",
    "celery>=5.3",
]

[tool.setuptools]
packages = {find = {where = ["."], exclude = ["tests", "docs", "keydev_reports.tests*"]}}

[tool.setuptools_scm]
version_scheme = "guess-next-dev"
local_scheme = "no-local-version"

[build-system]
build-backend = "flit_core.buildapi"
requires = [ "flit-core>=3.4,<4" ]

[project]
name = "matplotlib-radar"
description = "Radar chart for matplotlib"
readme = { file = "README.md", content-type = "text/markdown" }
license = { file = "LICENSE" }
maintainers = [ { name = "harryhaller001", email = "harryhaller001@gmail.com" } ]
authors = [ { name = "harryhaller001" } ]
requires-python = ">=3.11"
classifiers = [
    "Development Status :: 3 - Alpha",
    "Framework :: Matplotlib",
    "Intended Audience :: Science/Research",
    "License :: OSI Approved :: MIT License",
    "Natural Language :: English",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3 :: Only",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Programming Language :: Python :: 3.14",
    "Typing :: Typed",
]
dynamic = [ "version" ]

dependencies = [ "matplotlib", "numpy" ]

optional-dependencies.docs = [
    "ipython",                  # Required for syntax highlighing (https://github.com/spatialaudio/nbsphinx/issues/24)
    "myst-parser",
    "nbsphinx",
    "sphinx",
    "sphinx-autoapi",
    "sphinx-autodoc-typehints",
    "sphinx-book-theme",
]

optional-dependencies.test = [
    "coverage",
    "flit",
    "ipykernel",
    "ipython",
    "ipywidgets",
    "mypy",
    "pre-commit",
    "pytest",
    "ruff",
    "twine",
    "types-requests",
]

# https://docs.pypi.org/project_metadata/#project-urls
urls.Documentation = "https://github.com/harryhaller001/matplotlib-radar"
urls.Homepage = "https://github.com/harryhaller001/matplotlib-radar"
urls.Source = "https://github.com/harryhaller001/matplotlib-radar"

[tool.flit.sdist]
include = [ "matplotlib_radar/", "tests/" ]
exclude = [
    "docs/",
    "coverage",
    ".git/",
    ".github/",
    ".pre-commit-config.yaml",
    "Makefile",
    ".python-version",
    # "requirements.txt",
    ".vscode/",
]

[tool.ruff]
line-length = 120
extend-include = [ "*.ipynb" ]

format.docstring-code-format = true

lint.select = [ "B", "BLE", "C4", "D", "E", "F", "I", "RUF100", "TID", "UP", "W" ]
lint.ignore = [ "B008", "C408", "D100", "D104", "D105", "D107", "D203", "D213", "D400", "D401", "E501", "E731", "E741" ]
lint.per-file-ignores."*/__init__.py" = [ "F401" ]
lint.per-file-ignores."docs/*" = [ "I" ]
lint.per-file-ignores."tests/*" = [ "D" ]
lint.pydocstyle.convention = "google"

[tool.pyproject-fmt]
column_width = 120
indent = 4
keep_full_version = false
max_supported_python = "3.14"

[tool.pytest.ini_options]
# Pytest config
minversion = "7.0"

log_format = "%(asctime)s %(levelname)s %(message)s"
log_date_format = "%Y-%m-%d %H:%M:%S"
log_level = "INFO"
log_cli = true

python_files = "test_*.py"
testpaths = [ "tests" ]

xfail_strict = true
addopts = [
    "--import-mode=importlib", # allow using test files with same name
]

[tool.coverage.run]
# Coverage config
source = [ "matplotlib_radar" ]
omit = [ "*/tests/*" ]

[tool.coverage.report]
exclude_lines = [ "raise", "pass" ]
ignore_errors = true

[tool.coverage.html]
directory = "docs/coverage_report"

[tool.mypy]
# Mypy config (https://mypy.readthedocs.io/en/stable/config_file.html#using-a-pyproject-toml-file)
python_version = "3.11"
warn_return_any = true
warn_unused_configs = true

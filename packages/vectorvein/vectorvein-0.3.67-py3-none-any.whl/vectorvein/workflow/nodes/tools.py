from ..graph.node import Node
from ..graph.port import PortType, InputPort, OutputPort


class CodebaseAnalysis(Node):
    def __init__(self, id: str | None = None):
        super().__init__(
            node_type="CodebaseAnalysis",
            category="tools",
            task_name="tools.codebase_analysis",
            node_id=id,
            ports={
                "input_type": InputPort(
                    name="input_type",
                    port_type=PortType.RADIO,
                    value="file",
                    options=[{"value": "file", "label": "file"}, {"value": "git_url", "label": "git_url"}],
                    required=False,
                ),
                "codebase_file": InputPort(
                    name="codebase_file",
                    port_type=PortType.FILE,
                    value=[],
                    show=True,
                    support_file_types=[".zip"],
                    condition="return fieldsData.input_type.value === 'file'",
                    condition_python=lambda ports: ports["input_type"].value == "file",
                ),
                "git_url": InputPort(
                    name="git_url",
                    port_type=PortType.INPUT,
                    value="",
                    condition="return fieldsData.input_type.value === 'git_url'",
                    condition_python=lambda ports: ports["input_type"].value == "git_url",
                ),
                "output_style": InputPort(
                    name="output_style",
                    port_type=PortType.SELECT,
                    value="markdown",
                    options=[{"value": "plain", "label": "Plain Text"}, {"value": "xml", "label": "XML"}, {"value": "markdown", "label": "Markdown"}],
                ),
                "show_line_numbers": InputPort(
                    name="show_line_numbers",
                    port_type=PortType.CHECKBOX,
                    value=False,
                    required=False,
                ),
                "remove_comments": InputPort(
                    name="remove_comments",
                    port_type=PortType.CHECKBOX,
                    value=False,
                    required=False,
                ),
                "remove_empty_lines": InputPort(
                    name="remove_empty_lines",
                    port_type=PortType.CHECKBOX,
                    value=False,
                    required=False,
                ),
                "ignore_patterns": InputPort(
                    name="ignore_patterns",
                    port_type=PortType.LIST,
                    value=[],
                ),
                "output": OutputPort(),
            },
        )


class ImageSearch(Node):
    def __init__(self, id: str | None = None):
        super().__init__(
            node_type="ImageSearch",
            category="tools",
            task_name="tools.image_search",
            node_id=id,
            ports={
                "search_text": InputPort(
                    name="search_text",
                    port_type=PortType.INPUT,
                    value="",
                ),
                "search_engine": InputPort(
                    name="search_engine",
                    port_type=PortType.SELECT,
                    value="bing",
                    options=[
                        {"value": "bochaai", "label": "bochaai"},
                        {"value": "bing", "label": "bing"},
                        {"value": "pexels", "label": "pexels"},
                        {"value": "unsplash", "label": "unsplash"},
                    ],
                ),
                "count": InputPort(
                    name="count",
                    port_type=PortType.NUMBER,
                    value=5,
                ),
                "output_type": InputPort(
                    name="output_type",
                    port_type=PortType.SELECT,
                    value="markdown",
                    options=[{"value": "text", "label": "text"}, {"value": "markdown", "label": "markdown"}],
                ),
                "output": OutputPort(),
            },
        )


class ProgrammingFunction(Node):
    def __init__(self, id: str | None = None):
        super().__init__(
            node_type="ProgrammingFunction",
            category="tools",
            task_name="tools.programming_function",
            node_id=id,
            can_add_input_ports=True,
            ports={
                "language": InputPort(
                    name="language",
                    port_type=PortType.SELECT,
                    value="python",
                    options=[{"value": "python", "label": "Python"}],
                ),
                "code": InputPort(
                    name="code",
                    port_type=PortType.TEXTAREA,
                    value="",
                ),
                "use_oversea_node": InputPort(
                    name="use_oversea_node",
                    port_type=PortType.CHECKBOX,
                    value=False,
                ),
                "list_input": InputPort(
                    name="list_input",
                    port_type=PortType.CHECKBOX,
                    value=False,
                ),
                "instance_type": InputPort(
                    name="instance_type",
                    port_type=PortType.SELECT,
                    value="light",
                    options=[{"value": "light", "label": "light"}, {"value": "large", "label": "large"}],
                ),
                "output": OutputPort(),
                "console_msg": OutputPort(name="console_msg"),
                "error_msg": OutputPort(name="error_msg", required=False),
                "files": OutputPort(name="files", required=False),
            },
        )


class TextSearch(Node):
    def __init__(self, id: str | None = None):
        super().__init__(
            node_type="TextSearch",
            category="tools",
            task_name="tools.text_search",
            node_id=id,
            ports={
                "search_text": InputPort(
                    name="search_text",
                    port_type=PortType.INPUT,
                    value="",
                ),
                "search_engine": InputPort(
                    name="search_engine",
                    port_type=PortType.SELECT,
                    value="google",
                    options=[
                        {"value": "google", "label": "google"},
                        {"value": "bochaai", "label": "bochaai"},
                        {"value": "exa.ai", "label": "exa.ai"},
                        {"value": "jina.ai", "label": "jina.ai"},
                        {"value": "zhipuai", "label": "zhipuai"},
                        {"value": "duckduckgo", "label": "duckduckgo"},
                    ],
                ),
                "result_category": InputPort(
                    name="result_category",
                    port_type=PortType.SELECT,
                    value="all",
                    options=[
                        {"value": "all", "label": "all"},
                        {"value": "company", "label": "company"},
                        {"value": "research_paper", "label": "research_paper"},
                        {"value": "news", "label": "news"},
                        {"value": "pdf", "label": "pdf"},
                        {"value": "github", "label": "github"},
                        {"value": "personal_site", "label": "personal_site"},
                        {"value": "linkedin_profile", "label": "linkedin_profile"},
                        {"value": "financial_report", "label": "financial_report"},
                    ],
                    condition="return fieldsData.search_engine.value === 'exa.ai'",
                    condition_python=lambda ports: ports["search_engine"].value == "exa.ai",
                ),
                "count": InputPort(
                    name="count",
                    port_type=PortType.NUMBER,
                    value=10,
                ),
                "offset": InputPort(
                    name="offset",
                    port_type=PortType.NUMBER,
                    value=0,
                    required=False,
                    has_tooltip=True,
                    condition="return fieldsData.search_engine.value === 'bing'",
                    condition_python=lambda ports: ports["search_engine"].value == "bing",
                ),
                "freshness": InputPort(
                    name="freshness",
                    port_type=PortType.SELECT,
                    value="all",
                    options=[
                        {"value": "all", "label": "all"},
                        {"value": "day", "label": "day"},
                        {"value": "week", "label": "week"},
                        {"value": "month", "label": "month"},
                        {"value": "custom", "label": "custom"},
                    ],
                    required=False,
                    condition="return ['bing', 'bochaai', 'google'].includes(fieldsData.search_engine.value)",
                    condition_python=lambda ports: ports["search_engine"].value in ["bing", "bochaai", "google"],
                ),
                "custom_freshness": InputPort(
                    name="custom_freshness",
                    port_type=PortType.INPUT,
                    value="",
                    required=False,
                    has_tooltip=True,
                    condition="return fieldsData.freshness.value === 'custom'",
                    condition_python=lambda ports: ports["freshness"].value == "custom",
                ),
                "combine_result_in_text": InputPort(
                    name="combine_result_in_text",
                    port_type=PortType.CHECKBOX,
                    value=True,
                    required=False,
                ),
                "max_snippet_length": InputPort(
                    name="max_snippet_length",
                    port_type=PortType.NUMBER,
                    value=300,
                ),
                "output_type": InputPort(
                    name="output_type",
                    port_type=PortType.SELECT,
                    value="markdown",
                    options=[{"value": "text", "label": "text"}, {"value": "markdown", "label": "markdown"}],
                ),
                "output_page_title": OutputPort(
                    name="output_page_title",
                    condition="return !fieldsData.combine_result_in_text.value",
                    condition_python=lambda ports: not ports["combine_result_in_text"].value,
                ),
                "output_page_url": OutputPort(
                    name="output_page_url",
                    condition="return !fieldsData.combine_result_in_text.value",
                    condition_python=lambda ports: not ports["combine_result_in_text"].value,
                ),
                "output_page_snippet": OutputPort(
                    name="output_page_snippet",
                    condition="return !fieldsData.combine_result_in_text.value",
                    condition_python=lambda ports: not ports["combine_result_in_text"].value,
                ),
                "output_combined": OutputPort(
                    name="output_combined",
                    condition="return fieldsData.combine_result_in_text.value",
                    condition_python=lambda ports: ports["combine_result_in_text"].value,
                ),
            },
        )


class TextTranslation(Node):
    def __init__(self, id: str | None = None):
        super().__init__(
            node_type="TextTranslation",
            category="tools",
            task_name="tools.text_translation",
            node_id=id,
            ports={
                "text": InputPort(
                    name="text",
                    port_type=PortType.TEXTAREA,
                    value="",
                    show=True,
                ),
                "from_language": InputPort(
                    name="from_language",
                    port_type=PortType.SELECT,
                    value="auto",
                    options=[
                        {"value": "ar", "label": "ar"},
                        {"value": "de", "label": "de"},
                        {"value": "en", "label": "en"},
                        {"value": "es", "label": "es"},
                        {"value": "fr", "label": "fr"},
                        {"value": "hi", "label": "hi"},
                        {"value": "id", "label": "id"},
                        {"value": "it", "label": "it"},
                        {"value": "ja", "label": "ja"},
                        {"value": "ko", "label": "ko"},
                        {"value": "nl", "label": "nl"},
                        {"value": "pt", "label": "pt"},
                        {"value": "ru", "label": "ru"},
                        {"value": "th", "label": "th"},
                        {"value": "vi", "label": "vi"},
                        {"value": "zh-CHS", "label": "zh-CHS"},
                        {"value": "zh-CHT", "label": "zh-CHT"},
                        {"value": "af", "label": "af"},
                        {"value": "am", "label": "am"},
                        {"value": "az", "label": "az"},
                        {"value": "be", "label": "be"},
                        {"value": "bg", "label": "bg"},
                        {"value": "bn", "label": "bn"},
                        {"value": "bs", "label": "bs"},
                        {"value": "ca", "label": "ca"},
                        {"value": "ceb", "label": "ceb"},
                        {"value": "co", "label": "co"},
                        {"value": "cs", "label": "cs"},
                        {"value": "cy", "label": "cy"},
                        {"value": "da", "label": "da"},
                        {"value": "el", "label": "el"},
                        {"value": "eo", "label": "eo"},
                        {"value": "et", "label": "et"},
                        {"value": "eu", "label": "eu"},
                        {"value": "fa", "label": "fa"},
                        {"value": "fi", "label": "fi"},
                        {"value": "fj", "label": "fj"},
                        {"value": "fy", "label": "fy"},
                        {"value": "ga", "label": "ga"},
                        {"value": "gd", "label": "gd"},
                        {"value": "gl", "label": "gl"},
                        {"value": "gu", "label": "gu"},
                        {"value": "ha", "label": "ha"},
                        {"value": "haw", "label": "haw"},
                        {"value": "he", "label": "he"},
                        {"value": "hi", "label": "hi"},
                        {"value": "hr", "label": "hr"},
                        {"value": "ht", "label": "ht"},
                        {"value": "hu", "label": "hu"},
                        {"value": "hy", "label": "hy"},
                        {"value": "ig", "label": "ig"},
                        {"value": "is", "label": "is"},
                        {"value": "jw", "label": "jw"},
                        {"value": "ka", "label": "ka"},
                        {"value": "kk", "label": "kk"},
                        {"value": "km", "label": "km"},
                        {"value": "kn", "label": "kn"},
                        {"value": "ku", "label": "ku"},
                        {"value": "ky", "label": "ky"},
                        {"value": "la", "label": "la"},
                        {"value": "lb", "label": "lb"},
                        {"value": "lo", "label": "lo"},
                        {"value": "lt", "label": "lt"},
                        {"value": "lv", "label": "lv"},
                        {"value": "mg", "label": "mg"},
                        {"value": "mi", "label": "mi"},
                        {"value": "mk", "label": "mk"},
                        {"value": "ml", "label": "ml"},
                        {"value": "mn", "label": "mn"},
                        {"value": "mr", "label": "mr"},
                        {"value": "ms", "label": "ms"},
                        {"value": "mt", "label": "mt"},
                        {"value": "mww", "label": "mww"},
                        {"value": "my", "label": "my"},
                        {"value": "ne", "label": "ne"},
                        {"value": "nl", "label": "nl"},
                        {"value": "no", "label": "no"},
                        {"value": "ny", "label": "ny"},
                        {"value": "otq", "label": "otq"},
                        {"value": "pa", "label": "pa"},
                        {"value": "pl", "label": "pl"},
                        {"value": "ps", "label": "ps"},
                        {"value": "ro", "label": "ro"},
                        {"value": "sd", "label": "sd"},
                        {"value": "si", "label": "si"},
                        {"value": "sk", "label": "sk"},
                        {"value": "sl", "label": "sl"},
                        {"value": "sm", "label": "sm"},
                        {"value": "sn", "label": "sn"},
                        {"value": "so", "label": "so"},
                        {"value": "sq", "label": "sq"},
                        {"value": "sr-Cyrl", "label": "sr-Cyrl"},
                        {"value": "sr-Latn", "label": "sr-Latn"},
                        {"value": "st", "label": "st"},
                        {"value": "su", "label": "su"},
                        {"value": "sv", "label": "sv"},
                        {"value": "sw", "label": "sw"},
                        {"value": "ta", "label": "ta"},
                        {"value": "te", "label": "te"},
                        {"value": "tg", "label": "tg"},
                        {"value": "tl", "label": "tl"},
                        {"value": "tlh", "label": "tlh"},
                        {"value": "to", "label": "to"},
                        {"value": "tr", "label": "tr"},
                        {"value": "ty", "label": "ty"},
                        {"value": "uk", "label": "uk"},
                        {"value": "ur", "label": "ur"},
                        {"value": "uz", "label": "uz"},
                        {"value": "xh", "label": "xh"},
                        {"value": "yi", "label": "yi"},
                        {"value": "yo", "label": "yo"},
                        {"value": "yua", "label": "yua"},
                        {"value": "yue", "label": "yue"},
                        {"value": "zu", "label": "zu"},
                        {"value": "auto", "label": "auto"},
                    ],
                ),
                "to_language": InputPort(
                    name="to_language",
                    port_type=PortType.SELECT,
                    value="en",
                    options=[
                        {"value": "ar", "label": "ar"},
                        {"value": "de", "label": "de"},
                        {"value": "en", "label": "en"},
                        {"value": "es", "label": "es"},
                        {"value": "fr", "label": "fr"},
                        {"value": "hi", "label": "hi"},
                        {"value": "id", "label": "id"},
                        {"value": "it", "label": "it"},
                        {"value": "ja", "label": "ja"},
                        {"value": "ko", "label": "ko"},
                        {"value": "nl", "label": "nl"},
                        {"value": "pt", "label": "pt"},
                        {"value": "ru", "label": "ru"},
                        {"value": "th", "label": "th"},
                        {"value": "vi", "label": "vi"},
                        {"value": "zh-CHS", "label": "zh-CHS"},
                        {"value": "zh-CHT", "label": "zh-CHT"},
                        {"value": "af", "label": "af"},
                        {"value": "am", "label": "am"},
                        {"value": "az", "label": "az"},
                        {"value": "be", "label": "be"},
                        {"value": "bg", "label": "bg"},
                        {"value": "bn", "label": "bn"},
                        {"value": "bs", "label": "bs"},
                        {"value": "ca", "label": "ca"},
                        {"value": "ceb", "label": "ceb"},
                        {"value": "co", "label": "co"},
                        {"value": "cs", "label": "cs"},
                        {"value": "cy", "label": "cy"},
                        {"value": "da", "label": "da"},
                        {"value": "el", "label": "el"},
                        {"value": "eo", "label": "eo"},
                        {"value": "et", "label": "et"},
                        {"value": "eu", "label": "eu"},
                        {"value": "fa", "label": "fa"},
                        {"value": "fi", "label": "fi"},
                        {"value": "fj", "label": "fj"},
                        {"value": "fy", "label": "fy"},
                        {"value": "ga", "label": "ga"},
                        {"value": "gd", "label": "gd"},
                        {"value": "gl", "label": "gl"},
                        {"value": "gu", "label": "gu"},
                        {"value": "ha", "label": "ha"},
                        {"value": "haw", "label": "haw"},
                        {"value": "he", "label": "he"},
                        {"value": "hi", "label": "hi"},
                        {"value": "hr", "label": "hr"},
                        {"value": "ht", "label": "ht"},
                        {"value": "hu", "label": "hu"},
                        {"value": "hy", "label": "hy"},
                        {"value": "ig", "label": "ig"},
                        {"value": "is", "label": "is"},
                        {"value": "jw", "label": "jw"},
                        {"value": "ka", "label": "ka"},
                        {"value": "kk", "label": "kk"},
                        {"value": "km", "label": "km"},
                        {"value": "kn", "label": "kn"},
                        {"value": "ku", "label": "ku"},
                        {"value": "ky", "label": "ky"},
                        {"value": "la", "label": "la"},
                        {"value": "lb", "label": "lb"},
                        {"value": "lo", "label": "lo"},
                        {"value": "lt", "label": "lt"},
                        {"value": "lv", "label": "lv"},
                        {"value": "mg", "label": "mg"},
                        {"value": "mi", "label": "mi"},
                        {"value": "mk", "label": "mk"},
                        {"value": "ml", "label": "ml"},
                        {"value": "mn", "label": "mn"},
                        {"value": "mr", "label": "mr"},
                        {"value": "ms", "label": "ms"},
                        {"value": "mt", "label": "mt"},
                        {"value": "mww", "label": "mww"},
                        {"value": "my", "label": "my"},
                        {"value": "ne", "label": "ne"},
                        {"value": "nl", "label": "nl"},
                        {"value": "no", "label": "no"},
                        {"value": "ny", "label": "ny"},
                        {"value": "otq", "label": "otq"},
                        {"value": "pa", "label": "pa"},
                        {"value": "pl", "label": "pl"},
                        {"value": "ps", "label": "ps"},
                        {"value": "ro", "label": "ro"},
                        {"value": "sd", "label": "sd"},
                        {"value": "si", "label": "si"},
                        {"value": "sk", "label": "sk"},
                        {"value": "sl", "label": "sl"},
                        {"value": "sm", "label": "sm"},
                        {"value": "sn", "label": "sn"},
                        {"value": "so", "label": "so"},
                        {"value": "sq", "label": "sq"},
                        {"value": "sr-Cyrl", "label": "sr-Cyrl"},
                        {"value": "sr-Latn", "label": "sr-Latn"},
                        {"value": "st", "label": "st"},
                        {"value": "su", "label": "su"},
                        {"value": "sv", "label": "sv"},
                        {"value": "sw", "label": "sw"},
                        {"value": "ta", "label": "ta"},
                        {"value": "te", "label": "te"},
                        {"value": "tg", "label": "tg"},
                        {"value": "tl", "label": "tl"},
                        {"value": "tlh", "label": "tlh"},
                        {"value": "to", "label": "to"},
                        {"value": "tr", "label": "tr"},
                        {"value": "ty", "label": "ty"},
                        {"value": "uk", "label": "uk"},
                        {"value": "ur", "label": "ur"},
                        {"value": "uz", "label": "uz"},
                        {"value": "xh", "label": "xh"},
                        {"value": "yi", "label": "yi"},
                        {"value": "yo", "label": "yo"},
                        {"value": "yua", "label": "yua"},
                        {"value": "yue", "label": "yue"},
                        {"value": "zu", "label": "zu"},
                        {"value": "auto", "label": "auto"},
                    ],
                ),
                "domain": InputPort(
                    name="domain",
                    port_type=PortType.SELECT,
                    value="general",
                    options=[
                        {"value": "general", "label": "general"},
                        {"value": "computers", "label": "computers"},
                        {"value": "medicine", "label": "medicine"},
                        {"value": "finance", "label": "finance"},
                        {"value": "game", "label": "game"},
                    ],
                    required=False,
                ),
                "output": OutputPort(),
            },
        )


class VideoSearch(Node):
    def __init__(self, id: str | None = None):
        super().__init__(
            node_type="VideoSearch",
            category="tools",
            task_name="tools.video_search",
            node_id=id,
            ports={
                "platform": InputPort(
                    name="platform",
                    port_type=PortType.SELECT,
                    value="youtube",
                    options=[{"value": "youtube", "label": "youtube"}, {"value": "tiktok", "label": "tiktok"}],
                ),
                "query": InputPort(
                    name="query",
                    port_type=PortType.INPUT,
                    value="",
                ),
                "local": InputPort(
                    name="local",
                    port_type=PortType.SELECT,
                    value=0,
                    options=[{"value": 0, "label": "off"}, {"value": 1, "label": "on"}],
                    required=False,
                    condition="return fieldsData.platform.value === 'youtube'",
                    condition_python=lambda ports: ports["platform"].value == "youtube",
                ),
                "geo": InputPort(
                    name="geo",
                    port_type=PortType.INPUT,
                    value="",
                    required=False,
                    condition="return fieldsData.platform.value === 'youtube' && fieldsData.local.value === 1",
                    condition_python=lambda ports: ports["platform"].value == "youtube" and ports["local"].value == 1,
                ),
                "lang": InputPort(
                    name="lang",
                    port_type=PortType.INPUT,
                    value="",
                    required=False,
                    condition="return fieldsData.platform.value === 'youtube'",
                    condition_python=lambda ports: ports["platform"].value == "youtube",
                ),
                "type": InputPort(
                    name="type",
                    port_type=PortType.SELECT,
                    value="video",
                    options=[
                        {"value": "video", "label": "video"},
                        {"value": "channel", "label": "channel"},
                        {"value": "playlist", "label": "playlist"},
                        {"value": "movie", "label": "movie"},
                        {"value": "show", "label": "show"},
                        {"value": "shorts", "label": "shorts"},
                    ],
                    required=False,
                    condition="return fieldsData.platform.value === 'youtube'",
                    condition_python=lambda ports: ports["platform"].value == "youtube",
                ),
                "duration": InputPort(
                    name="duration",
                    port_type=PortType.SELECT,
                    value="any",
                    options=[{"value": "any", "label": "any"}, {"value": "short", "label": "short"}, {"value": "medium", "label": "medium"}, {"value": "long", "label": "long"}],
                    required=False,
                    condition="return fieldsData.platform.value === 'youtube'",
                    condition_python=lambda ports: ports["platform"].value == "youtube",
                ),
                "features": InputPort(
                    name="features",
                    port_type=PortType.INPUT,
                    value="",
                    required=False,
                    condition="return fieldsData.platform.value === 'youtube'",
                    condition_python=lambda ports: ports["platform"].value == "youtube",
                ),
                "upload_date": InputPort(
                    name="upload_date",
                    port_type=PortType.SELECT,
                    value="today",
                    options=[
                        {"value": "hour", "label": "hour"},
                        {"value": "today", "label": "today"},
                        {"value": "week", "label": "week"},
                        {"value": "month", "label": "month"},
                        {"value": "year", "label": "year"},
                    ],
                    required=False,
                    condition="return fieldsData.platform.value === 'youtube'",
                    condition_python=lambda ports: ports["platform"].value == "youtube",
                ),
                "sort_by": InputPort(
                    name="sort_by",
                    port_type=PortType.SELECT,
                    value="relevance",
                    options=[
                        {"value": "relevance", "label": "relevance"},
                        {"value": "rating", "label": "rating"},
                        {"value": "date", "label": "date"},
                        {"value": "views", "label": "views"},
                    ],
                    required=False,
                    condition="return fieldsData.platform.value === 'youtube'",
                    condition_python=lambda ports: ports["platform"].value == "youtube",
                ),
                "offset": InputPort(
                    name="offset",
                    port_type=PortType.NUMBER,
                    value=0,
                    required=False,
                    condition="return fieldsData.platform.value === 'tiktok'",
                    condition_python=lambda ports: ports["platform"].value == "tiktok",
                ),
                "count": InputPort(
                    name="count",
                    port_type=PortType.NUMBER,
                    value=10,
                    required=False,
                    condition="return fieldsData.platform.value === 'tiktok'",
                    condition_python=lambda ports: ports["platform"].value == "tiktok",
                ),
                "sort_type": InputPort(
                    name="sort_type",
                    port_type=PortType.SELECT,
                    value=0,
                    options=[{"value": 0, "label": "relevance"}, {"value": 1, "label": "most_likes"}],
                    required=False,
                    condition="return fieldsData.platform.value === 'tiktok'",
                    condition_python=lambda ports: ports["platform"].value == "tiktok",
                ),
                "publish_time": InputPort(
                    name="publish_time",
                    port_type=PortType.SELECT,
                    value=0,
                    options=[
                        {"value": 0, "label": "no_limit"},
                        {"value": 1, "label": "last_day"},
                        {"value": 7, "label": "last_week"},
                        {"value": 30, "label": "last_month"},
                        {"value": 90, "label": "last_three_months"},
                        {"value": 180, "label": "last_six_months"},
                    ],
                    required=False,
                    condition="return fieldsData.platform.value === 'tiktok'",
                    condition_python=lambda ports: ports["platform"].value == "tiktok",
                ),
                "output": OutputPort(),
            },
        )


class WorkflowInvoke(Node):
    def __init__(self, id: str | None = None):
        super().__init__(
            node_type="WorkflowInvoke",
            category="tools",
            task_name="tools.workflow_invoke",
            node_id=id,
            ports={
                "workflow_id": InputPort(
                    name="workflow_id",
                    port_type=PortType.INPUT,
                    value="",
                ),
            },
        )

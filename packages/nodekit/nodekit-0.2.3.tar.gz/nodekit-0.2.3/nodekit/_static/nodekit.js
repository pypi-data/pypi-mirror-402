var NodeKit=(function(ki){"use strict";class ga{constructor(){this.startTime=null}start(){this.startTime=performance.now()}now(){if(this.startTime===null)throw new Error("Clock has not been started. Call start() before calling convertToTimeElapsedMsec().");let e=performance.now()-this.startTime;return e=Math.round(e),e}checkClockStarted(){return this.startTime!==null}}function ma(n){return{event_type:"BrowserContextSampledEvent",t:n.now(),user_agent:navigator.userAgent,timestamp_client:new Date().toISOString(),device_pixel_ratio:window.devicePixelRatio,display:{width_px:screen.width,height_px:screen.height},viewport:{width_px:window.innerWidth,height_px:window.innerHeight}}}var wa="2.0.4",Si=500,fs="user-agent",Ut="",ps="?",$n="function",mt="undefined",Vt="object",Ti="string",Ne="browser",rt="cpu",Ke="device",qe="engine",ze="os",zt="result",y="name",m="type",v="vendor",S="version",Pe="architecture",rn="major",E="model",sn="console",W="mobile",ue="tablet",ve="smarttv",Ze="wearable",Dn="xr",on="embedded",an="inapp",_i="brands",Ct="formFactors",xi="fullVersionList",Ht="platform",Ri="platformVersion",Bn="bitness",wt="sec-ch-ua",ba=wt+"-full-version-list",Ea=wt+"-arch",va=wt+"-"+Bn,ya=wt+"-form-factors",ka=wt+"-"+W,Sa=wt+"-"+E,gs=wt+"-"+Ht,Ta=gs+"-version",ms=[_i,xi,W,E,Ht,Ri,Pe,Ct,Bn],Un="Amazon",Ft="Apple",ws="ASUS",bs="BlackBerry",It="Google",Es="Huawei",Ai="Lenovo",vs="Honor",Vn="LG",Ci="Microsoft",Ii="Motorola",Oi="Nvidia",ys="OnePlus",Li="OPPO",ln="Samsung",ks="Sharp",cn="Sony",Ni="Xiaomi",Pi="Zebra",Ss="Chrome",Ts="Chromium",bt="Chromecast",zn="Edge",un="Firefox",hn="Opera",Mi="Facebook",_s="Sogou",qt="Mobile ",dn=" Browser",$i="Windows",_a=typeof window!==mt,Me=_a&&window.navigator?window.navigator:void 0,Et=Me&&Me.userAgentData?Me.userAgentData:void 0,xa=function(n,e){var t={},i=e;if(!Fn(e)){i={};for(var r in e)for(var o in e[r])i[o]=e[r][o].concat(i[o]?i[o]:[])}for(var s in n)t[s]=i[s]&&i[s].length%2===0?i[s].concat(n[s]):n[s];return t},Hn=function(n){for(var e={},t=0;t<n.length;t++)e[n[t].toUpperCase()]=n[t];return e},Di=function(n,e){if(typeof n===Vt&&n.length>0){for(var t in n)if(st(e)==st(n[t]))return!0;return!1}return jt(n)?st(e)==st(n):!1},Fn=function(n,e){for(var t in n)return/^(browser|cpu|device|engine|os)$/.test(t)||(e?Fn(n[t]):!1)},jt=function(n){return typeof n===Ti},Bi=function(n){if(n){for(var e=[],t=Gt(/\\?\"/g,n).split(","),i=0;i<t.length;i++)if(t[i].indexOf(";")>-1){var r=qn(t[i]).split(";v=");e[i]={brand:r[0],version:r[1]}}else e[i]=qn(t[i]);return e}},st=function(n){return jt(n)?n.toLowerCase():n},Ui=function(n){return jt(n)?Gt(/[^\d\.]/g,n).split(".")[0]:void 0},ot=function(n){for(var e in n){var t=n[e];typeof t==Vt&&t.length==2?this[t[0]]=t[1]:this[t]=void 0}return this},Gt=function(n,e){return jt(e)?e.replace(n,Ut):e},fn=function(n){return Gt(/\\?\"/g,n)},qn=function(n,e){if(jt(n))return n=Gt(/^\s\s*/,n),typeof e===mt?n:n.substring(0,Si)},Vi=function(n,e){if(!(!n||!e))for(var t=0,i,r,o,s,a,l;t<e.length&&!a;){var c=e[t],u=e[t+1];for(i=r=0;i<c.length&&!a&&c[i];)if(a=c[i++].exec(n),a)for(o=0;o<u.length;o++)l=a[++r],s=u[o],typeof s===Vt&&s.length>0?s.length===2?typeof s[1]==$n?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:s.length>=3&&(typeof s[1]===$n&&!(s[1].exec&&s[1].test)?s.length>3?this[s[0]]=l?s[1].apply(this,s.slice(2)):void 0:this[s[0]]=l?s[1].call(this,l,s[2]):void 0:s.length==3?this[s[0]]=l?l.replace(s[1],s[2]):void 0:s.length==4?this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):void 0:s.length>4&&(this[s[0]]=l?s[3].apply(this,[l.replace(s[1],s[2])].concat(s.slice(4))):void 0)):this[s]=l||void 0;t+=2}},Je=function(n,e){for(var t in e)if(typeof e[t]===Vt&&e[t].length>0){for(var i=0;i<e[t].length;i++)if(Di(e[t][i],n))return t===ps?void 0:t}else if(Di(e[t],n))return t===ps?void 0:t;return e.hasOwnProperty("*")?e["*"]:n},xs={ME:"4.90","NT 3.51":"3.51","NT 4.0":"4.0",2e3:["5.0","5.01"],XP:["5.1","5.2"],Vista:"6.0",7:"6.1",8:"6.2","8.1":"6.3",10:["6.4","10.0"],NT:""},Rs={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Ra={Chrome:"Google Chrome",Edge:"Microsoft Edge","Edge WebView2":"Microsoft Edge WebView2","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"},As={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[y,qt+"Chrome"]],[/webview.+edge\/([\w\.]+)/i],[S,[y,zn+" WebView"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,S],[/opios[\/ ]+([\w\.]+)/i],[S,[y,hn+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[S,[y,hn+" GX"]],[/\bopr\/([\w\.]+)/i],[S,[y,hn]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[S,[y,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[S,[y,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[y,S],[/quark(?:pc)?\/([-\w\.]+)/i],[S,[y,"Quark"]],[/\bddg\/([\w\.]+)/i],[S,[y,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[y,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[S,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[S,[y,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[S,[y,"Smart "+Ai+dn]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure"+dn],S],[/\bfocus\/([\w\.]+)/i],[S,[y,un+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[y,hn+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[y,hn+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[y,"MIUI"+dn]],[/fxios\/([\w\.-]+)/i],[S,[y,qt+un]],[/\bqihoobrowser\/?([\w\.]*)/i],[S,[y,"360"]],[/\b(qq)\/([\w\.]+)/i],[[y,/(.+)/,"$1Browser"],S],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1"+dn],S],[/samsungbrowser\/([\w\.]+)/i],[S,[y,ln+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[S,[y,_s+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[y,_s+" Mobile"],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[y,S],[/(lbbrowser|rekonq)/i],[y],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[S,y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,Mi],S,[m,an]],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat|klarna)[\/ ]([-\w\.]+)/i],[y,S,[m,an]],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[y,"GSA"],[m,an]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[S,[y,"TikTok"],[m,an]],[/\[(linkedin)app\]/i],[y,[m,an]],[/(chromium)[\/ ]([-\w\.]+)/i],[y,S],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[y,Ss+" Headless"]],[/wv\).+chrome\/([\w\.]+).+edgw\//i],[S,[y,zn+" WebView2"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,Ss+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[y,"Android"+dn]],[/chrome\/([\w\.]+) mobile/i],[S,[y,qt+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,S],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[S,[y,qt+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[y,qt+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[S,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[S,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[y,S],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[y,qt+un],S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],S],[/(wolvic|librewolf)\/([\w\.]+)/i],[y,S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[y,un+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[y,[S,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[y,[S,/[^\d\.]+./,Ut]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[Pe,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[Pe,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[Pe,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[Pe,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[Pe,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[Pe,/ower/,Ut,st]],[/ sun4\w[;\)]/i],[[Pe,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[Pe,st]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[E,[v,ln],[m,ue]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr]|browser)[-\w]+)/i,/sec-(sgh\w+)/i],[E,[v,ln],[m,W]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[E,[v,Ft],[m,W]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[E,[v,Ft],[m,ue]],[/(macintosh);/i],[E,[v,Ft]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[E,[v,ks],[m,W]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[E,[v,vs],[m,ue]],[/honor([-\w ]+)[;\)]/i],[E,[v,vs],[m,W]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[E,[v,Es],[m,ue]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[E,[v,Es],[m,W]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[E,/_/g," "],[v,Ni],[m,ue]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[E,/_/g," "],[v,Ni],[m,W]],[/droid.+; (cph2[3-6]\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\d|p[g-k]\w[1m]10)\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[E,[v,ys],[m,W]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[E,[v,Li],[m,W]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[E,[v,Je,{OnePlus:["203","304","403","404","413","415"],"*":Li}],[m,ue]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[E,[v,"BLU"],[m,W]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[E,[v,"Vivo"],[m,W]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[E,[v,"Realme"],[m,W]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[E,[v,Ai],[m,ue]],[/lenovo[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i],[E,[v,Ai],[m,W]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ]([\w\s]+)(\)| bui)/i,/((?:moto(?! 360)[-\w\(\) ]+|xt\d{3,4}[cgkosw\+]?[-\d]*|nexus 6)(?= bui|\)))/i],[E,[v,Ii],[m,W]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[E,[v,Ii],[m,ue]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[E,[v,Vn],[m,ue]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\w+)/i,/\blg-?([\d\w]+) bui/i],[E,[v,Vn],[m,W]],[/(nokia) (t[12][01])/i],[v,E,[m,ue]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[E,/_/g," "],[m,W],[v,"Nokia"]],[/(pixel (c|tablet))\b/i],[E,[v,It],[m,ue]],[/droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\d ]*a?( pro)?( xl)?( fold)?( \(5g\))?)( bui|\))/i],[E,[v,It],[m,W]],[/(google) (pixelbook( go)?)/i],[v,E],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-\w\w\d\d)(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[E,[v,cn],[m,W]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[E,"Xperia Tablet"],[v,cn],[m,ue]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[E,[v,Un],[m,ue]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[E,/(.+)/g,"Fire Phone $1"],[v,Un],[m,W]],[/(playbook);[-\w\),; ]+(rim)/i],[E,v,[m,ue]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[E,[v,bs],[m,W]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[E,[v,ws],[m,ue]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[E,[v,ws],[m,W]],[/(nexus 9)/i],[E,[v,"HTC"],[m,ue]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[E,/_/g," "],[m,W]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[E,[v,"TCL"],[m,ue]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[E,[v,"TCL"],[m,W]],[/(itel) ((\w+))/i],[[v,st],E,[m,Je,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[E,[v,"Acer"],[m,ue]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[E,[v,"Meizu"],[m,W]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[E,[v,"Ulefone"],[m,W]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[E,[v,"Energizer"],[m,W]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[E,[v,"Cat"],[m,W]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[E,[v,"Smartfren"],[m,W]],[/droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i],[E,[v,"Nothing"],[m,W]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[E,[v,"Archos"],[m,ue]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[E,[v,"Archos"],[m,W]],[/; (n159v)/i],[E,[v,"HMD"],[m,W]],[/(imo) (tab \w+)/i,/(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i],[v,E,[m,ue]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|infinix|lava|oneplus|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(oppo) ?([\w ]+) bui/i],[v,E,[m,W]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[v,E,[m,ue]],[/(surface duo)/i],[E,[v,Ci],[m,ue]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[E,[v,"Fairphone"],[m,W]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[E,[v,Oi],[m,ue]],[/(sprint) (\w+)/i],[v,E,[m,W]],[/(kin\.[onetw]{3})/i],[[E,/\./g," "],[v,Ci],[m,W]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[E,[v,Pi],[m,ue]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[E,[v,Pi],[m,W]],[/smart-tv.+(samsung)/i],[v,[m,ve]],[/hbbtv.+maple;(\d+)/i],[[E,/^/,"SmartTV"],[v,ln],[m,ve]],[/(vizio)(?: |.+model\/)(\w+-\w+)/i,/tcast.+(lg)e?. ([-\w]+)/i],[v,E,[m,ve]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,Vn],[m,ve]],[/(apple) ?tv/i],[v,[E,Ft+" TV"],[m,ve]],[/crkey.*devicetype\/chromecast/i],[[E,bt+" Third Generation"],[v,It],[m,ve]],[/crkey.*devicetype\/([^/]*)/i],[[E,/^/,"Chromecast "],[v,It],[m,ve]],[/fuchsia.*crkey/i],[[E,bt+" Nest Hub"],[v,It],[m,ve]],[/crkey/i],[[E,bt],[v,It],[m,ve]],[/(portaltv)/i],[E,[v,Mi],[m,ve]],[/droid.+aft(\w+)( bui|\))/i],[E,[v,Un],[m,ve]],[/(shield \w+ tv)/i],[E,[v,Oi],[m,ve]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[E,[v,ks],[m,ve]],[/(bravia[\w ]+)( bui|\))/i],[E,[v,cn],[m,ve]],[/(mi(tv|box)-?\w+) bui/i],[E,[v,Ni],[m,ve]],[/Hbbtv.*(technisat) (.*);/i],[v,E,[m,ve]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,/.+\/(\w+)/,"$1",Je,{LG:"lge"}],[E,qn],[m,ve]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[E,[m,ve]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:|large screen[\w ]+safari)\b/i],[[m,ve]],[/(playstation \w+)/i],[E,[v,cn],[m,sn]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[E,[v,Ci],[m,sn]],[/(ouya)/i,/(nintendo) (\w+)/i,/(retroid) (pocket ([^\)]+))/i],[v,E,[m,sn]],[/droid.+; (shield)( bui|\))/i],[E,[v,Oi],[m,sn]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[E,[v,ln],[m,Ze]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[v,E,[m,Ze]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[E,[v,Li],[m,Ze]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[E,[v,Ft],[m,Ze]],[/(opwwe\d{3})/i],[E,[v,ys],[m,Ze]],[/(moto 360)/i],[E,[v,Ii],[m,Ze]],[/(smartwatch 3)/i],[E,[v,cn],[m,Ze]],[/(g watch r)/i],[E,[v,Vn],[m,Ze]],[/droid.+; (wt63?0{2,3})\)/i],[E,[v,Pi],[m,Ze]],[/droid.+; (glass) \d/i],[E,[v,It],[m,Dn]],[/(pico) (4|neo3(?: link|pro)?)/i],[v,E,[m,Dn]],[/(quest( \d| pro)?s?).+vr/i],[E,[v,Mi],[m,Dn]],[/mobile vr; rv.+firefox/i],[[m,Dn]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[m,on]],[/(aeobc)\b/i],[E,[v,Un],[m,on]],[/(homepod).+mac os/i],[E,[v,Ft],[m,on]],[/windows iot/i],[[m,on]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[E,[m,Je,{mobile:"Mobile",xr:"VR","*":ue}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,ue]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,W]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[E,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[y,zn+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[y,S],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,S],[/ladybird\//i],[[y,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,y]],os:[[/(windows nt) (6\.[23]); arm/i],[[y,/N/,"R"],[S,Je,xs]],[/(windows (?:phone|mobile|iot))(?: os)?[\/ ]?([\d\.]*( se)?)/i,/(windows)[\/ ](1[01]|2000|3\.1|7|8(\.1)?|9[58]|me|server 20\d\d( r2)?|vista|xp)/i],[y,S],[/windows nt ?([\d\.\)]*)(?!.+xbox)/i,/\bwin(?=3| ?9|n)(?:nt| 9x )?([\d\.;]*)/i],[[S,/(;|\))/g,"",Je,xs],[y,$i]],[/(windows ce)\/?([\d\.]*)/i],[y,S],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+(haiku|morphos))/i],[[y,"macOS"],[S,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[S,[y,bt+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[S,[y,bt+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[S,[y,bt+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[S,[y,bt+" Linux"]],[/crkey\/([\d\.]+)/i],[S,[y,bt]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[S,y],[/(ubuntu) ([\w\.]+) like android/i],[[y,/(.+)/,"$1 Touch"],S],[/(harmonyos)[\/ ]?([\d\.]*)/i,/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\w*[-\/\.; ]?([\d\.]*)/i],[y,S],[/\(bb(10);/i],[S,[y,bs]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[S,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[y,un+" OS"]],[/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i,/webos(?:[ \/]?|\.tv-20(?=2[2-9]))(\d[\d\.]*)/i],[S,[y,"webOS"]],[/web0s;.+?(?:chr[o0]me|safari)\/(\d+)/i],[[S,Je,{25:"120",24:"108",23:"94",22:"87",6:"79",5:"68",4:"53",3:"38",2:"538",1:"537","*":"TV"}],[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[S,[y,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,"Chrome OS"],S],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/linux.+(mint)[\/\(\) ]?([\w\.]*)/i,/(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\d\.]*)/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/\b(aix)[; ]([1-9\.]{0,4})/i,/(hurd|linux|morphos)(?: (?:arm|x86|ppc)\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) ?(r\d)?/i],[y,S],[/(sunos) ?([\d\.]*)/i],[[y,"Solaris"],S],[/\b(beos|os\/2|amigaos|openvms|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,S]]},jn=(function(){var n={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return ot.call(n.init,[[Ne,[y,S,rn,m]],[rt,[Pe]],[Ke,[m,E,v]],[qe,[y,S]],[ze,[y,S]]]),ot.call(n.isIgnore,[[Ne,[S,rn]],[qe,[S]],[ze,[S]]]),ot.call(n.isIgnoreRgx,[[Ne,/ ?browser$/i],[ze,/ ?os$/i]]),ot.call(n.toString,[[Ne,[y,S]],[rt,[Pe]],[Ke,[v,E]],[qe,[y,S]],[ze,[y,S]]]),n})(),Aa=function(n,e){var t=jn.init[e],i=jn.isIgnore[e]||0,r=jn.isIgnoreRgx[e]||0,o=jn.toString[e]||0;function s(){ot.call(this,t)}return s.prototype.getItem=function(){return n},s.prototype.withClientHints=function(){return Et?Et.getHighEntropyValues(ms).then(function(a){return n.setCH(new Cs(a,!1)).parseCH().get()}):n.parseCH().get()},s.prototype.withFeatureCheck=function(){return n.detectFeature().get()},e!=zt&&(s.prototype.is=function(a){var l=!1;for(var c in this)if(this.hasOwnProperty(c)&&!Di(i,c)&&st(r?Gt(r,this[c]):this[c])==st(r?Gt(r,a):a)){if(l=!0,a!=mt)break}else if(a==mt&&l){l=!l;break}return l},s.prototype.toString=function(){var a=Ut;for(var l in o)typeof this[o[l]]!==mt&&(a+=(a?" ":Ut)+this[o[l]]);return a||mt}),Et||(s.prototype.then=function(a){var l=this,c=function(){for(var p in l)l.hasOwnProperty(p)&&(this[p]=l[p])};c.prototype={is:s.prototype.is,toString:s.prototype.toString};var u=new c;return a(u),u}),new s};function Cs(n,e){if(n=n||{},ot.call(this,ms),e)ot.call(this,[[_i,Bi(n[wt])],[xi,Bi(n[ba])],[W,/\?1/.test(n[ka])],[E,fn(n[Sa])],[Ht,fn(n[gs])],[Ri,fn(n[Ta])],[Pe,fn(n[Ea])],[Ct,Bi(n[ya])],[Bn,fn(n[va])]]);else for(var t in n)this.hasOwnProperty(t)&&typeof n[t]!==mt&&(this[t]=n[t])}function Is(n,e,t,i){return this.get=function(r){return r?this.data.hasOwnProperty(r)?this.data[r]:void 0:this.data},this.set=function(r,o){return this.data[r]=o,this},this.setCH=function(r){return this.uaCH=r,this},this.detectFeature=function(){if(Me&&Me.userAgent==this.ua)switch(this.itemType){case Ne:Me.brave&&typeof Me.brave.isBrave==$n&&this.set(y,"Brave");break;case Ke:!this.get(m)&&Et&&Et[W]&&this.set(m,W),this.get(E)=="Macintosh"&&Me&&typeof Me.standalone!==mt&&Me.maxTouchPoints&&Me.maxTouchPoints>2&&this.set(E,"iPad").set(m,ue);break;case ze:!this.get(y)&&Et&&Et[Ht]&&this.set(y,Et[Ht]);break;case zt:var r=this.data,o=function(s){return r[s].getItem().detectFeature().get()};this.set(Ne,o(Ne)).set(rt,o(rt)).set(Ke,o(Ke)).set(qe,o(qe)).set(ze,o(ze))}return this},this.parseUA=function(){return this.itemType!=zt&&Vi.call(this.data,this.ua,this.rgxMap),this.itemType==Ne&&this.set(rn,Ui(this.get(S))),this},this.parseCH=function(){var r=this.uaCH,o=this.rgxMap;switch(this.itemType){case Ne:case qe:var s=r[xi]||r[_i],a;if(s)for(var l in s){var c=s[l].brand||s[l],u=s[l].version;this.itemType==Ne&&!/not.a.brand/i.test(c)&&(!a||/Chrom/.test(a)&&c!=Ts||a==zn&&/WebView2/.test(c))&&(c=Je(c,Ra),a=this.get(y),a&&!/Chrom/.test(a)&&/Chrom/.test(c)||this.set(y,c).set(S,u).set(rn,Ui(u)),a=c),this.itemType==qe&&c==Ts&&this.set(S,u)}break;case rt:var p=r[Pe];p&&(p&&r[Bn]=="64"&&(p+="64"),Vi.call(this.data,p+";",o));break;case Ke:if(r[W]&&this.set(m,W),r[E]&&(this.set(E,r[E]),!this.get(m)||!this.get(v))){var f={};Vi.call(f,"droid 9; "+r[E]+")",o),!this.get(m)&&f.type&&this.set(m,f.type),!this.get(v)&&f.vendor&&this.set(v,f.vendor)}if(r[Ct]){var w;if(typeof r[Ct]!="string")for(var _=0;!w&&_<r[Ct].length;)w=Je(r[Ct][_++],Rs);else w=Je(r[Ct],Rs);this.set(m,w)}break;case ze:var b=r[Ht];if(b){var V=r[Ri];b==$i&&(V=parseInt(Ui(V),10)>=13?"11":"10"),this.set(y,b).set(S,V)}this.get(y)==$i&&r[E]=="Xbox"&&this.set(y,"Xbox").set(S,void 0);break;case zt:var Z=this.data,ie=function(J){return Z[J].getItem().setCH(r).parseCH().get()};this.set(Ne,ie(Ne)).set(rt,ie(rt)).set(Ke,ie(Ke)).set(qe,ie(qe)).set(ze,ie(ze))}return this},ot.call(this,[["itemType",n],["ua",e],["uaCH",i],["rgxMap",t],["data",Aa(this,n)]]),this}function at(n,e,t){if(typeof n===Vt?(Fn(n,!0)?(typeof e===Vt&&(t=e),e=n):(t=n,e=void 0),n=void 0):typeof n===Ti&&!Fn(e,!0)&&(t=e,e=void 0),t&&typeof t.append===$n){var i={};t.forEach(function(l,c){i[c]=l}),t=i}if(!(this instanceof at))return new at(n,e,t).getResult();var r=typeof n===Ti?n:t&&t[fs]?t[fs]:Me&&Me.userAgent?Me.userAgent:Ut,o=new Cs(t,!0),s=e?xa(As,e):As,a=function(l){return l==zt?function(){return new Is(l,r,s,o).set("ua",r).set(Ne,this.getBrowser()).set(rt,this.getCPU()).set(Ke,this.getDevice()).set(qe,this.getEngine()).set(ze,this.getOS()).get()}:function(){return new Is(l,r,s[l],o).parseUA().get()}};return ot.call(this,[["getBrowser",a(Ne)],["getCPU",a(rt)],["getDevice",a(Ke)],["getEngine",a(qe)],["getOS",a(ze)],["getResult",a(zt)],["getUA",function(){return r}],["setUA",function(l){return jt(l)&&(r=l.length>Si?qn(l,Si):l),this}]]).setUA(r),this}at.VERSION=wa,at.BROWSER=Hn([y,S,rn,m]),at.CPU=Hn([Pe]),at.DEVICE=Hn([E,v,m,sn,W,ve,ue,Ze,on]),at.ENGINE=at.OS=Hn([y,S]);function Ca(){return!new at().getDevice().type}function Ia(){const n=document.createElement("div");n.classList.add("nodekit-container"),document.body.appendChild(n);const e=document.createElement("div");return e.classList.add("nodekit-content"),n.appendChild(e),e}class Oa{resolveAssetUrl(e){if(e.locator.locator_type=="URL")return e.locator.url;if(e.locator.locator_type=="RelativePath"){let t=document.baseURI;const i=e.locator.relative_path.replace(/\\/g,"/"),o=t.includes("amazonaws.com")?i.split("/").map(s=>encodeURIComponent(s)).join("/"):i;return new URL(o,t).toString()}throw new Error("Unsupported locator for the browser environment. Found:"+JSON.stringify(e))}async getImageElement(e){let t=this.resolveAssetUrl(e),i=new Image;return i.src=t,new Promise((r,o)=>{i.onload=()=>r(i),i.onerror=s=>o(new Error(`Failed to load image ${t}: ${s}`))})}async getVideoElement(e){let t=this.resolveAssetUrl(e),i=document.createElement("video");i.controls=!1;let r=new Promise((o,s)=>{i.oncanplaythrough=()=>{o(i)},i.onerror=a=>s(a)});return i.src=t,i.load(),r}}class Gn{constructor(e){this.root=document.createElement("div"),this.root.classList.add("overlay"),this.root.id=e}setVisibility(e){e?this.root.classList.add("overlay--visible-state"):this.root.classList.remove("overlay--visible-state")}}class La{constructor(){this.spinnerFrames=["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"],this.spinnerInterval=null,this.frameIndex=0,this.root=document.createElement("span"),this.root.style.paddingRight="0.5rem",this.root.textContent=this.spinnerFrames[this.frameIndex]}startSpinning(){this.frameIndex=0,this.spinnerInterval=window.setInterval(()=>{this.root.textContent=this.spinnerFrames[this.frameIndex++%this.spinnerFrames.length]},100)}stopSpinning(){this.spinnerInterval!==null&&(clearInterval(this.spinnerInterval),this.spinnerInterval=null)}}class Na extends Gn{constructor(){super("session-connecting-overlay"),this.displayTimeout=null;const e=document.createElement("div");e.classList.add("connecting-message-box"),this.root.appendChild(e),this.spinner=new La,e.appendChild(this.spinner.root);const t=document.createElement("div");t.classList.add("connecting-message-box__text"),t.textContent="Connecting...",e.appendChild(t)}show(e){this.displayTimeout=window.setTimeout(()=>{this.spinner.startSpinning(),super.setVisibility(!0)},e)}hide(){this.displayTimeout!==null&&(clearTimeout(this.displayTimeout),this.displayTimeout=null),this.spinner.stopSpinning(),super.setVisibility(!1)}}function Pa(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zi,Os;function Ma(){if(Os)return zi;Os=1;function n(h){return h instanceof Map?h.clear=h.delete=h.set=function(){throw new Error("map is read-only")}:h instanceof Set&&(h.add=h.clear=h.delete=function(){throw new Error("set is read-only")}),Object.freeze(h),Object.getOwnPropertyNames(h).forEach(g=>{const x=h[g],j=typeof x;(j==="object"||j==="function")&&!Object.isFrozen(x)&&n(x)}),h}class e{constructor(g){g.data===void 0&&(g.data={}),this.data=g.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function t(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(h,...g){const x=Object.create(null);for(const j in h)x[j]=h[j];return g.forEach(function(j){for(const we in j)x[we]=j[we]}),x}const r="</span>",o=h=>!!h.scope,s=(h,{prefix:g})=>{if(h.startsWith("language:"))return h.replace("language:","language-");if(h.includes(".")){const x=h.split(".");return[`${g}${x.shift()}`,...x.map((j,we)=>`${j}${"_".repeat(we+1)}`)].join(" ")}return`${g}${h}`};class a{constructor(g,x){this.buffer="",this.classPrefix=x.classPrefix,g.walk(this)}addText(g){this.buffer+=t(g)}openNode(g){if(!o(g))return;const x=s(g.scope,{prefix:this.classPrefix});this.span(x)}closeNode(g){o(g)&&(this.buffer+=r)}value(){return this.buffer}span(g){this.buffer+=`<span class="${g}">`}}const l=(h={})=>{const g={children:[]};return Object.assign(g,h),g};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(g){this.top.children.push(g)}openNode(g){const x=l({scope:g});this.add(x),this.stack.push(x)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(g){return this.constructor._walk(g,this.rootNode)}static _walk(g,x){return typeof x=="string"?g.addText(x):x.children&&(g.openNode(x),x.children.forEach(j=>this._walk(g,j)),g.closeNode(x)),g}static _collapse(g){typeof g!="string"&&g.children&&(g.children.every(x=>typeof x=="string")?g.children=[g.children.join("")]:g.children.forEach(x=>{c._collapse(x)}))}}class u extends c{constructor(g){super(),this.options=g}addText(g){g!==""&&this.add(g)}startScope(g){this.openNode(g)}endScope(){this.closeNode()}__addSublanguage(g,x){const j=g.root;x&&(j.scope=`language:${x}`),this.add(j)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function p(h){return h?typeof h=="string"?h:h.source:null}function f(h){return b("(?=",h,")")}function w(h){return b("(?:",h,")*")}function _(h){return b("(?:",h,")?")}function b(...h){return h.map(x=>p(x)).join("")}function V(h){const g=h[h.length-1];return typeof g=="object"&&g.constructor===Object?(h.splice(h.length-1,1),g):{}}function Z(...h){return"("+(V(h).capture?"":"?:")+h.map(j=>p(j)).join("|")+")"}function ie(h){return new RegExp(h.toString()+"|").exec("").length-1}function J(h,g){const x=h&&h.exec(g);return x&&x.index===0}const ne=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function fe(h,{joinWith:g}){let x=0;return h.map(j=>{x+=1;const we=x;let me=p(j),L="";for(;me.length>0;){const O=ne.exec(me);if(!O){L+=me;break}L+=me.substring(0,O.index),me=me.substring(O.index+O[0].length),O[0][0]==="\\"&&O[1]?L+="\\"+String(Number(O[1])+we):(L+=O[0],O[0]==="("&&x++)}return L}).map(j=>`(${j})`).join(g)}const re=/\b\B/,oe="[a-zA-Z]\\w*",F="[a-zA-Z_]\\w*",et="\\b\\d+(\\.\\d+)?",yt="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",be="\\b(0b[01]+)",ht="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",dt=(h={})=>{const g=/^#![ ]*\//;return h.binary&&(h.begin=b(g,/.*\b/,h.binary,/\b.*/)),i({scope:"meta",begin:g,end:/$/,relevance:0,"on:begin":(x,j)=>{x.index!==0&&j.ignoreMatch()}},h)},A={begin:"\\\\[\\s\\S]",relevance:0},R={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[A]},U={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[A]},N={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},M=function(h,g,x={}){const j=i({scope:"comment",begin:h,end:g,contains:[]},x);j.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const we=Z("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return j.contains.push({begin:b(/[ ]+/,"(",we,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),j},P=M("//","$"),q=M("/\\*","\\*/"),z=M("#","$"),Y={scope:"number",begin:et,relevance:0},G={scope:"number",begin:yt,relevance:0},ye={scope:"number",begin:be,relevance:0},X={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[A,{begin:/\[/,end:/\]/,relevance:0,contains:[A]}]},$e={scope:"title",begin:oe,relevance:0},_n={scope:"title",begin:F,relevance:0},ci={begin:"\\.\\s*"+F,relevance:0};var Nt=Object.freeze({__proto__:null,APOS_STRING_MODE:R,BACKSLASH_ESCAPE:A,BINARY_NUMBER_MODE:ye,BINARY_NUMBER_RE:be,COMMENT:M,C_BLOCK_COMMENT_MODE:q,C_LINE_COMMENT_MODE:P,C_NUMBER_MODE:G,C_NUMBER_RE:yt,END_SAME_AS_BEGIN:function(h){return Object.assign(h,{"on:begin":(g,x)=>{x.data._beginMatch=g[1]},"on:end":(g,x)=>{x.data._beginMatch!==g[1]&&x.ignoreMatch()}})},HASH_COMMENT_MODE:z,IDENT_RE:oe,MATCH_NOTHING_RE:re,METHOD_GUARD:ci,NUMBER_MODE:Y,NUMBER_RE:et,PHRASAL_WORDS_MODE:N,QUOTE_STRING_MODE:U,REGEXP_MODE:X,RE_STARTERS_RE:ht,SHEBANG:dt,TITLE_MODE:$e,UNDERSCORE_IDENT_RE:F,UNDERSCORE_TITLE_MODE:_n});function hi(h,g){h.input[h.index-1]==="."&&g.ignoreMatch()}function kt(h,g){h.className!==void 0&&(h.scope=h.className,delete h.className)}function Yt(h,g){g&&h.beginKeywords&&(h.begin="\\b("+h.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",h.__beforeBegin=hi,h.keywords=h.keywords||h.beginKeywords,delete h.beginKeywords,h.relevance===void 0&&(h.relevance=0))}function ft(h,g){Array.isArray(h.illegal)&&(h.illegal=Z(...h.illegal))}function xn(h,g){if(h.match){if(h.begin||h.end)throw new Error("begin & end are not supported with match");h.begin=h.match,delete h.match}}function Rn(h,g){h.relevance===void 0&&(h.relevance=1)}const St=(h,g)=>{if(!h.beforeMatch)return;if(h.starts)throw new Error("beforeMatch cannot be used with starts");const x=Object.assign({},h);Object.keys(h).forEach(j=>{delete h[j]}),h.keywords=x.keywords,h.begin=b(x.beforeMatch,f(x.begin)),h.starts={relevance:0,contains:[Object.assign(x,{endsParent:!0})]},h.relevance=0,delete x.beforeMatch},Kt=["of","and","for","in","not","or","if","then","parent","list","value"],Zt="keyword";function An(h,g,x=Zt){const j=Object.create(null);return typeof h=="string"?we(x,h.split(" ")):Array.isArray(h)?we(x,h):Object.keys(h).forEach(function(me){Object.assign(j,An(h[me],g,me))}),j;function we(me,L){g&&(L=L.map(O=>O.toLowerCase())),L.forEach(function(O){const H=O.split("|");j[H[0]]=[me,di(H[0],H[1])]})}}function di(h,g){return g?Number(g):os(h)?0:1}function os(h){return Kt.includes(h.toLowerCase())}const Jt={},De=h=>{console.error(h)},pt=(h,...g)=>{console.log(`WARN: ${h}`,...g)},Be=(h,g)=>{Jt[`${h}/${g}`]||(console.log(`Deprecated as of ${h}. ${g}`),Jt[`${h}/${g}`]=!0)},Pt=new Error;function Cn(h,g,{key:x}){let j=0;const we=h[x],me={},L={};for(let O=1;O<=g.length;O++)L[O+j]=we[O],me[O+j]=!0,j+=ie(g[O-1]);h[x]=L,h[x]._emit=me,h[x]._multi=!0}function fi(h){if(Array.isArray(h.begin)){if(h.skip||h.excludeBegin||h.returnBegin)throw De("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Pt;if(typeof h.beginScope!="object"||h.beginScope===null)throw De("beginScope must be object"),Pt;Cn(h,h.begin,{key:"beginScope"}),h.begin=fe(h.begin,{joinWith:""})}}function In(h){if(Array.isArray(h.end)){if(h.skip||h.excludeEnd||h.returnEnd)throw De("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Pt;if(typeof h.endScope!="object"||h.endScope===null)throw De("endScope must be object"),Pt;Cn(h,h.end,{key:"endScope"}),h.end=fe(h.end,{joinWith:""})}}function pi(h){h.scope&&typeof h.scope=="object"&&h.scope!==null&&(h.beginScope=h.scope,delete h.scope)}function Qt(h){pi(h),typeof h.beginScope=="string"&&(h.beginScope={_wrap:h.beginScope}),typeof h.endScope=="string"&&(h.endScope={_wrap:h.endScope}),fi(h),In(h)}function en(h){function g(L,O){return new RegExp(p(L),"m"+(h.case_insensitive?"i":"")+(h.unicodeRegex?"u":"")+(O?"g":""))}class x{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(O,H){H.position=this.position++,this.matchIndexes[this.matchAt]=H,this.regexes.push([H,O]),this.matchAt+=ie(O)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const O=this.regexes.map(H=>H[1]);this.matcherRe=g(fe(O,{joinWith:"|"}),!0),this.lastIndex=0}exec(O){this.matcherRe.lastIndex=this.lastIndex;const H=this.matcherRe.exec(O);if(!H)return null;const le=H.findIndex((Rt,tn)=>tn>0&&Rt!==void 0),he=this.matchIndexes[le];return H.splice(0,le),Object.assign(H,he)}}class j{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(O){if(this.multiRegexes[O])return this.multiRegexes[O];const H=new x;return this.rules.slice(O).forEach(([le,he])=>H.addRule(le,he)),H.compile(),this.multiRegexes[O]=H,H}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(O,H){this.rules.push([O,H]),H.type==="begin"&&this.count++}exec(O){const H=this.getMatcher(this.regexIndex);H.lastIndex=this.lastIndex;let le=H.exec(O);if(this.resumingScanAtSamePosition()&&!(le&&le.index===this.lastIndex)){const he=this.getMatcher(0);he.lastIndex=this.lastIndex+1,le=he.exec(O)}return le&&(this.regexIndex+=le.position+1,this.regexIndex===this.count&&this.considerAll()),le}}function we(L){const O=new j;return L.contains.forEach(H=>O.addRule(H.begin,{rule:H,type:"begin"})),L.terminatorEnd&&O.addRule(L.terminatorEnd,{type:"end"}),L.illegal&&O.addRule(L.illegal,{type:"illegal"}),O}function me(L,O){const H=L;if(L.isCompiled)return H;[kt,xn,Qt,St].forEach(he=>he(L,O)),h.compilerExtensions.forEach(he=>he(L,O)),L.__beforeBegin=null,[Yt,ft,Rn].forEach(he=>he(L,O)),L.isCompiled=!0;let le=null;return typeof L.keywords=="object"&&L.keywords.$pattern&&(L.keywords=Object.assign({},L.keywords),le=L.keywords.$pattern,delete L.keywords.$pattern),le=le||/\w+/,L.keywords&&(L.keywords=An(L.keywords,h.case_insensitive)),H.keywordPatternRe=g(le,!0),O&&(L.begin||(L.begin=/\B|\b/),H.beginRe=g(H.begin),!L.end&&!L.endsWithParent&&(L.end=/\B|\b/),L.end&&(H.endRe=g(H.end)),H.terminatorEnd=p(H.end)||"",L.endsWithParent&&O.terminatorEnd&&(H.terminatorEnd+=(L.end?"|":"")+O.terminatorEnd)),L.illegal&&(H.illegalRe=g(L.illegal)),L.contains||(L.contains=[]),L.contains=[].concat(...L.contains.map(function(he){return Tt(he==="self"?L:he)})),L.contains.forEach(function(he){me(he,H)}),L.starts&&me(L.starts,O),H.matcher=we(H),H}if(h.compilerExtensions||(h.compilerExtensions=[]),h.contains&&h.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return h.classNameAliases=i(h.classNameAliases||{}),me(h)}function Fe(h){return h?h.endsWithParent||Fe(h.starts):!1}function Tt(h){return h.variants&&!h.cachedVariants&&(h.cachedVariants=h.variants.map(function(g){return i(h,{variants:null},g)})),h.cachedVariants?h.cachedVariants:Fe(h)?i(h,{starts:h.starts?i(h.starts):null}):Object.isFrozen(h)?i(h):h}var On="11.11.1";class Ln extends Error{constructor(g,x){super(g),this.name="HTMLInjectionError",this.html=x}}const Nn=t,Mt=i,$t=Symbol("nomatch"),as=7,_t=function(h){const g=Object.create(null),x=Object.create(null),j=[];let we=!0;const me="Could not find the language '{}', did you forget to load/include a language module?",L={disableAutodetect:!0,name:"Plain text",contains:[]};let O={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function H(k){return O.noHighlightRe.test(k)}function le(k){let D=k.className+" ";D+=k.parentNode?k.parentNode.className:"";const ee=O.languageDetectRe.exec(D);if(ee){const pe=I(ee[1]);return pe||(pt(me.replace("{}",ee[1])),pt("Falling back to no-highlight mode for this block.",k)),pe?ee[1]:"no-highlight"}return D.split(/\s+/).find(pe=>H(pe)||I(pe))}function he(k,D,ee){let pe="",Se="";typeof D=="object"?(pe=k,ee=D.ignoreIllegals,Se=D.language):(Be("10.7.0","highlight(lang, code, ...args) has been deprecated."),Be("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Se=k,pe=D),ee===void 0&&(ee=!0);const Ye={code:pe,language:Se};tt("before:highlight",Ye);const At=Ye.result?Ye.result:Rt(Ye.language,Ye.code,ee);return At.code=Ye.code,tt("after:highlight",At),At}function Rt(k,D,ee,pe){const Se=Object.create(null);function Ye(C,B){return C.keywords[B]}function At(){if(!K.keywords){_e.addText(ge);return}let C=0;K.keywordPatternRe.lastIndex=0;let B=K.keywordPatternRe.exec(ge),Q="";for(;B;){Q+=ge.substring(C,B.index);const ce=it.case_insensitive?B[0].toLowerCase():B[0],Re=Ye(K,ce);if(Re){const[gt,Qc]=Re;if(_e.addText(Q),Q="",Se[ce]=(Se[ce]||0)+1,Se[ce]<=as&&(yi+=Qc),gt.startsWith("_"))Q+=B[0];else{const eu=it.classNameAliases[gt]||gt;nt(B[0],eu)}}else Q+=B[0];C=K.keywordPatternRe.lastIndex,B=K.keywordPatternRe.exec(ge)}Q+=ge.substring(C),_e.addText(Q)}function Ei(){if(ge==="")return;let C=null;if(typeof K.subLanguage=="string"){if(!g[K.subLanguage]){_e.addText(ge);return}C=Rt(K.subLanguage,ge,!0,pa[K.subLanguage]),pa[K.subLanguage]=C._top}else C=Dt(ge,K.subLanguage.length?K.subLanguage:null);K.relevance>0&&(yi+=C.relevance),_e.__addSublanguage(C._emitter,C.language)}function Ve(){K.subLanguage!=null?Ei():At(),ge=""}function nt(C,B){C!==""&&(_e.startScope(B),_e.addText(C),_e.endScope())}function ua(C,B){let Q=1;const ce=B.length-1;for(;Q<=ce;){if(!C._emit[Q]){Q++;continue}const Re=it.classNameAliases[C[Q]]||C[Q],gt=B[Q];Re?nt(gt,Re):(ge=gt,At(),ge=""),Q++}}function ha(C,B){return C.scope&&typeof C.scope=="string"&&_e.openNode(it.classNameAliases[C.scope]||C.scope),C.beginScope&&(C.beginScope._wrap?(nt(ge,it.classNameAliases[C.beginScope._wrap]||C.beginScope._wrap),ge=""):C.beginScope._multi&&(ua(C.beginScope,B),ge="")),K=Object.create(C,{parent:{value:K}}),K}function da(C,B,Q){let ce=J(C.endRe,Q);if(ce){if(C["on:end"]){const Re=new e(C);C["on:end"](B,Re),Re.isMatchIgnored&&(ce=!1)}if(ce){for(;C.endsParent&&C.parent;)C=C.parent;return C}}if(C.endsWithParent)return da(C.parent,B,Q)}function Xc(C){return K.matcher.regexIndex===0?(ge+=C[0],1):(us=!0,0)}function Yc(C){const B=C[0],Q=C.rule,ce=new e(Q),Re=[Q.__beforeBegin,Q["on:begin"]];for(const gt of Re)if(gt&&(gt(C,ce),ce.isMatchIgnored))return Xc(B);return Q.skip?ge+=B:(Q.excludeBegin&&(ge+=B),Ve(),!Q.returnBegin&&!Q.excludeBegin&&(ge=B)),ha(Q,C),Q.returnBegin?0:B.length}function Kc(C){const B=C[0],Q=D.substring(C.index),ce=da(K,C,Q);if(!ce)return $t;const Re=K;K.endScope&&K.endScope._wrap?(Ve(),nt(B,K.endScope._wrap)):K.endScope&&K.endScope._multi?(Ve(),ua(K.endScope,C)):Re.skip?ge+=B:(Re.returnEnd||Re.excludeEnd||(ge+=B),Ve(),Re.excludeEnd&&(ge=B));do K.scope&&_e.closeNode(),!K.skip&&!K.subLanguage&&(yi+=K.relevance),K=K.parent;while(K!==ce.parent);return ce.starts&&ha(ce.starts,C),Re.returnEnd?0:B.length}function Zc(){const C=[];for(let B=K;B!==it;B=B.parent)B.scope&&C.unshift(B.scope);C.forEach(B=>_e.openNode(B))}let vi={};function fa(C,B){const Q=B&&B[0];if(ge+=C,Q==null)return Ve(),0;if(vi.type==="begin"&&B.type==="end"&&vi.index===B.index&&Q===""){if(ge+=D.slice(B.index,B.index+1),!we){const ce=new Error(`0 width match regex (${k})`);throw ce.languageName=k,ce.badRule=vi.rule,ce}return 1}if(vi=B,B.type==="begin")return Yc(B);if(B.type==="illegal"&&!ee){const ce=new Error('Illegal lexeme "'+Q+'" for mode "'+(K.scope||"<unnamed>")+'"');throw ce.mode=K,ce}else if(B.type==="end"){const ce=Kc(B);if(ce!==$t)return ce}if(B.type==="illegal"&&Q==="")return ge+=`
`,1;if(cs>1e5&&cs>B.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ge+=Q,Q.length}const it=I(k);if(!it)throw De(me.replace("{}",k)),new Error('Unknown language: "'+k+'"');const Jc=en(it);let ls="",K=pe||Jc;const pa={},_e=new O.__emitter(O);Zc();let ge="",yi=0,Bt=0,cs=0,us=!1;try{if(it.__emitTokens)it.__emitTokens(D,_e);else{for(K.matcher.considerAll();;){cs++,us?us=!1:K.matcher.considerAll(),K.matcher.lastIndex=Bt;const C=K.matcher.exec(D);if(!C)break;const B=D.substring(Bt,C.index),Q=fa(B,C);Bt=C.index+Q}fa(D.substring(Bt))}return _e.finalize(),ls=_e.toHTML(),{language:k,value:ls,relevance:yi,illegal:!1,_emitter:_e,_top:K}}catch(C){if(C.message&&C.message.includes("Illegal"))return{language:k,value:Nn(D),illegal:!0,relevance:0,_illegalBy:{message:C.message,index:Bt,context:D.slice(Bt-100,Bt+100),mode:C.mode,resultSoFar:ls},_emitter:_e};if(we)return{language:k,value:Nn(D),illegal:!1,relevance:0,errorRaised:C,_emitter:_e,_top:K};throw C}}function tn(k){const D={value:Nn(k),illegal:!1,relevance:0,_top:L,_emitter:new O.__emitter(O)};return D._emitter.addText(k),D}function Dt(k,D){D=D||O.languages||Object.keys(g);const ee=tn(k),pe=D.filter(I).filter(ke).map(Ve=>Rt(Ve,k,!1));pe.unshift(ee);const Se=pe.sort((Ve,nt)=>{if(Ve.relevance!==nt.relevance)return nt.relevance-Ve.relevance;if(Ve.language&&nt.language){if(I(Ve.language).supersetOf===nt.language)return 1;if(I(nt.language).supersetOf===Ve.language)return-1}return 0}),[Ye,At]=Se,Ei=Ye;return Ei.secondBest=At,Ei}function gi(k,D,ee){const pe=D&&x[D]||ee;k.classList.add("hljs"),k.classList.add(`language-${pe}`)}function Ue(k){let D=null;const ee=le(k);if(H(ee))return;if(tt("before:highlightElement",{el:k,language:ee}),k.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",k);return}if(k.children.length>0&&(O.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(k)),O.throwUnescapedHTML))throw new Ln("One of your code blocks includes unescaped HTML.",k.innerHTML);D=k;const pe=D.textContent,Se=ee?he(pe,{language:ee,ignoreIllegals:!0}):Dt(pe);k.innerHTML=Se.value,k.dataset.highlighted="yes",gi(k,ee,Se.language),k.result={language:Se.language,re:Se.relevance,relevance:Se.relevance},Se.secondBest&&(k.secondBest={language:Se.secondBest.language,relevance:Se.secondBest.relevance}),tt("after:highlightElement",{el:k,result:Se,text:pe})}function mi(k){O=Mt(O,k)}const wi=()=>{nn(),Be("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function bi(){nn(),Be("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Pn=!1;function nn(){function k(){nn()}if(document.readyState==="loading"){Pn||window.addEventListener("DOMContentLoaded",k,!1),Pn=!0;return}document.querySelectorAll(O.cssSelector).forEach(Ue)}function $(k,D){let ee=null;try{ee=D(h)}catch(pe){if(De("Language definition for '{}' could not be registered.".replace("{}",k)),we)De(pe);else throw pe;ee=L}ee.name||(ee.name=k),g[k]=ee,ee.rawDefinition=D.bind(null,h),ee.aliases&&de(ee.aliases,{languageName:k})}function d(k){delete g[k];for(const D of Object.keys(x))x[D]===k&&delete x[D]}function T(){return Object.keys(g)}function I(k){return k=(k||"").toLowerCase(),g[k]||g[x[k]]}function de(k,{languageName:D}){typeof k=="string"&&(k=[k]),k.forEach(ee=>{x[ee.toLowerCase()]=D})}function ke(k){const D=I(k);return D&&!D.disableAutodetect}function Ee(k){k["before:highlightBlock"]&&!k["before:highlightElement"]&&(k["before:highlightElement"]=D=>{k["before:highlightBlock"](Object.assign({block:D.el},D))}),k["after:highlightBlock"]&&!k["after:highlightElement"]&&(k["after:highlightElement"]=D=>{k["after:highlightBlock"](Object.assign({block:D.el},D))})}function xe(k){Ee(k),j.push(k)}function Xe(k){const D=j.indexOf(k);D!==-1&&j.splice(D,1)}function tt(k,D){const ee=k;j.forEach(function(pe){pe[ee]&&pe[ee](D)})}function Mn(k){return Be("10.7.0","highlightBlock will be removed entirely in v12.0"),Be("10.7.0","Please use highlightElement now."),Ue(k)}Object.assign(h,{highlight:he,highlightAuto:Dt,highlightAll:nn,highlightElement:Ue,highlightBlock:Mn,configure:mi,initHighlighting:wi,initHighlightingOnLoad:bi,registerLanguage:$,unregisterLanguage:d,listLanguages:T,getLanguage:I,registerAliases:de,autoDetection:ke,inherit:Mt,addPlugin:xe,removePlugin:Xe}),h.debugMode=function(){we=!1},h.safeMode=function(){we=!0},h.versionString=On,h.regex={concat:b,lookahead:f,either:Z,optional:_,anyNumberOfTimes:w};for(const k in Nt)typeof Nt[k]=="object"&&n(Nt[k]);return Object.assign(h,Nt),h},xt=_t({});return xt.newInstance=()=>_t({}),zi=xt,xt.HighlightJS=xt,xt.default=xt,zi}var $a=Ma();const Ls=Pa($a);function Da(n){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},t={match:/[{}[\],:]/,className:"punctuation",relevance:0},i=["true","false","null"],r={scope:"literal",beginKeywords:i.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:i},contains:[e,t,n.QUOTE_STRING_MODE,r,n.C_NUMBER_MODE,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}Ls.registerLanguage("json",Da);class Ba extends Gn{constructor(){super("console-message-overlay"),this.cardDiv=document.createElement("div"),this.cardDiv.classList.add("console-card"),this.root.appendChild(this.cardDiv);const e=document.createElement("div");e.classList.add("console-card__header"),this.cardDiv.appendChild(e),this.titleTextDiv=document.createElement("div"),this.titleTextDiv.classList.add("console-card__title"),e.appendChild(this.titleTextDiv),this.copyButton=document.createElement("button"),this.copyButton.classList.add("copy-button"),this.copyButton.textContent="Copy",this.copyButton.onclick=()=>{const t=this.jsonViewer.root.textContent||"";navigator.clipboard.writeText(t)},e.appendChild(this.copyButton),this.messageTextDiv=document.createElement("div"),this.messageTextDiv.classList.add("console-message__text"),this.cardDiv.appendChild(this.messageTextDiv),this.jsonViewer=new Ua,this.cardDiv.appendChild(this.jsonViewer.root)}displayMessage(e,t,i){this.titleTextDiv.textContent=e,this.messageTextDiv.textContent=t,this.messageTextDiv.classList.toggle("console-message__text--hidden",t.trim().length===0);const r=i!=null;this.cardDiv.classList.toggle("console-card--compact",!r),this.copyButton.hidden=!r,this.jsonViewer.root.classList.toggle("json-viewer--hidden",!r),r?this.jsonViewer.displayAsJson(i):this.jsonViewer.clear(),super.setVisibility(!0)}hide(){this.titleTextDiv.textContent="",this.messageTextDiv.textContent="",this.messageTextDiv.classList.remove("console-message__text--hidden"),this.cardDiv.classList.remove("console-card--compact"),this.jsonViewer.root.classList.remove("json-viewer--hidden"),this.jsonViewer.clear(),super.setVisibility(!1)}}class Ua{constructor(){this.root=document.createElement("div"),this.root.classList.add("json-viewer"),this.jsonViewerContent=document.createElement("div"),this.jsonViewerContent.classList.add("json-viewer__content"),this.root.appendChild(this.jsonViewerContent)}displayAsJson(e){this.clear();const t=document.createElement("pre");t.classList.add("json-viewer__pre"),t.textContent=JSON.stringify(e,null,2),Ls.highlightElement(t),t.style.backgroundColor="transparent",this.jsonViewerContent.appendChild(t)}clear(){this.jsonViewerContent.innerHTML=""}}class Va extends Gn{constructor(){super("session-finished-overlay"),this.submitButton=document.createElement("button"),this.submitButton.textContent="Finish ↑",this.submitButton.classList.add("confirm-button"),this.root.appendChild(this.submitButton)}show(e){this.submitButton.onclick=e,this.setVisibility(!0)}hide(){super.setVisibility(!1),this.submitButton.onclick=null}}class za extends Gn{constructor(){super("session-started-overlay"),this.startButton=document.createElement("button"),this.startButton.textContent="Start →",this.startButton.classList.add("confirm-button"),this.root.appendChild(this.startButton)}show(e){this.startButton.onclick=e,this.setVisibility(!0)}hide(){super.setVisibility(!1),this.startButton.onclick=null}}class Ha{constructor(){this.root=document.createElement("div"),this.root.className="shell-ui",this.sessionConnectingOverlay=new Na,this.root.appendChild(this.sessionConnectingOverlay.root),this.overlayConsoleMessage=new Ba,this.root.appendChild(this.overlayConsoleMessage.root),this.sessionFinishedOverlay=new Va,this.root.appendChild(this.sessionFinishedOverlay.root),this.sessionStartedOverlay=new za,this.root.appendChild(this.sessionStartedOverlay.root)}showSessionConnectingOverlay(e=500){this.sessionConnectingOverlay.show(e)}hideSessionConnectingOverlay(){this.sessionConnectingOverlay.hide()}showConsoleMessageOverlay(e,t,i=null){this.overlayConsoleMessage.displayMessage(e,t,i)}hideConsoleMessageOverlay(){this.overlayConsoleMessage.hide()}async playStartScreen(){await new Promise((t,i)=>{this.sessionStartedOverlay.show(()=>{this.sessionStartedOverlay.hide(),t()})})}async playEndScreen(e=1e4){let t=null,i=new Promise((o,s)=>{this.sessionFinishedOverlay.show(()=>{this.sessionFinishedOverlay.hide(),t!==null&&(clearTimeout(t),t=null),o()})}),r=new Promise((o,s)=>{t=window.setTimeout(()=>{this.sessionFinishedOverlay.hide(),o()},e)});await Promise.race([i,r])}}function Fa(){const n=document.createElement("div");return n.className="board-views-ui",n}class qa{constructor(e,t){this.subscriptions=[],this.target=e,this.clock=t,this.boardCoordinateSystem=this.getCoordinateSystem();const i=()=>{this.boardCoordinateSystem=this.getCoordinateSystem()};window.addEventListener("resize",i);let r=!1,o=0;const s=30,a=l=>{if(!this.clock.checkClockStarted()){console.warn("PointerStream: clock has not started.");return}r||(this.boardCoordinateSystem=this.getCoordinateSystem(),r=!0);let c;switch(l.type){case"pointermove":if(l.timeStamp-o<1e3/s)return;c="move",o=l.timeStamp;break;case"pointerdown":if(l.button!==0)return;c="down";break;case"pointerup":if(l.button!==0)return;c="up";break;default:return}const{x:u,y:p}=this.boardCoordinateSystem.getBoardLocationFromPointerEvent(l),f={sampleType:c,x:u,y:p,t:t.now()};this.subscriptions.forEach(w=>w(f))};this.target.addEventListener("pointermove",a),this.target.addEventListener("pointerdown",a),this.target.addEventListener("pointerup",a)}getCoordinateSystem(){return new Ns(this.target)}subscribe(e){return this.subscriptions.push(e),(()=>{this.subscriptions=this.subscriptions.filter(t=>t!==e)})}destroy(){this.subscriptions=[]}}class ja{constructor(e){this.listeners=[],this.holdingKeys=new Set,this.handleKeyDown=t=>{if(!this.clock.checkClockStarted()){console.warn("KeyStream: clock has not started.");return}if(this.holdingKeys.has(t.key)&&t.repeat)return;this.holdingKeys.add(t.key);const i={sampleType:"down",key:t.key,t:this.clock.now()};this.emit(i)},this.handleKeyUp=t=>{if(!this.clock.checkClockStarted()){console.warn("KeyStream: clock has not started.");return}this.holdingKeys.delete(t.key);const i={sampleType:"up",key:t.key,t:this.clock.now()};this.emit(i)},window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",()=>{this.holdingKeys.clear()}),this.clock=e}emit(e){for(const t of this.listeners)t(e)}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}destroy(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),this.listeners=[]}}class Ns{constructor(e){const{width:t,height:i,left:r,top:o}=e.getBoundingClientRect();this.boardWidthPx=t,this.boardHeightPx=i,this.boardLeftPx=r,this.boardTopPx=o}getUnitPx(){return 1}getBoardLocationPx(e,t,i,r){const o=this.getUnitPx(),s=this.boardWidthPx/o,a=this.boardHeightPx/o,l=o*(e-i/2+s/2),c=o*(-t-r/2+a/2);return{leftPx:l,topPx:c}}getBoardRectanglePx(e,t){return{widthPx:this.getSizePx(e),heightPx:this.getSizePx(t)}}getSizePx(e){return this.getUnitPx()*e}getBoardLocationFromPointerEvent(e){let t=e.clientX-this.boardLeftPx-this.boardWidthPx/2,i=-(e.clientY-this.boardTopPx-this.boardHeightPx/2);return t=Math.round(t),i=Math.round(i),{x:t,y:i}}}class Ga{constructor(e,t){this.root=document.createElement("div"),this.root.className="board-view",this.root.style.backgroundColor=e,document.body.style.backgroundColor=e,this.clock=t,this.pointerStream=new qa(this.root,this.clock),this.keyStream=new ja(this.clock),this.setBoardState(!1,!1)}getCoordinateSystem(){return new Ns(this.root)}setBoardState(e,t){e?this.root.style.opacity="1":this.root.style.opacity="0",t?(this.root.removeAttribute("disabled"),this.root.style.pointerEvents="",this.root.style.userSelect="",this.root.style.opacity=""):(this.root.setAttribute("disabled","true"),this.root.style.pointerEvents="none",this.root.style.userSelect="none")}}function Hi(n,e){const t=document.createElement("div");t.classList.add("board-region");const{leftPx:i,topPx:r}=e.getBoardLocationPx(n.x,n.y,n.w,n.h),{widthPx:o,heightPx:s}=e.getBoardRectanglePx(n.w,n.h);switch(t.style.left=`${i}px`,t.style.top=`${r}px`,t.style.width=`${o}px`,t.style.height=`${s}px`,n.mask){case"ellipse":t.style.borderRadius="50%";break;case"rectangle":break;default:const a=n.mask;console.warn(`Found unsupported Region.mask ${a}. Region: ${JSON.stringify(n)}`);break}return typeof n.z_index=="number"&&(t.style.zIndex=n.z_index.toString()),t}class Wa{constructor(){this.events=[],this.rafId=null,this.t0=0,this.state="OPEN",this.onStopQueue=[],this.loop=e=>{if(this.state!=="RUNNING")return;const t=e-this.t0;for(;this.events.length>0&&this.events[0].triggerTimeMsec<=t;)this.events.shift().triggerFunc();this.events.length>0&&(this.rafId=requestAnimationFrame(this.loop))}}scheduleEvent(e){if(this.state!=="OPEN")throw new Error(`Cannot schedule event; scheduler state is ${this.state}`);const t={triggerTimeMsec:e.triggerTimeMsec,triggerFunc:e.triggerFunc},i=this.events.findIndex(r=>r.triggerTimeMsec>t.triggerTimeMsec);i===-1?this.events.push(t):this.events.splice(i,0,t)}scheduleOnStop(e){if(this.state!=="OPEN")throw new Error(`Cannot schedule onStop callback; scheduler state is ${this.state}`);this.onStopQueue.push(e)}start(){this.state==="OPEN"&&(this.state="RUNNING",this.t0=performance.now(),this.loop(this.t0))}stop(){if(this.state==="RUNNING")for(this.state="CLOSED",this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null);this.onStopQueue.length>0;)this.onStopQueue.shift()()}}class Ps{constructor(e,t){this.hoverable=!1,this.card=e,this.root=t}onStart(){}onDestroy(){}setHoverable(e){this.hoverable=e,e?this.root.classList.add("card--hoverable"):this.root.classList.remove("card--hoverable")}}class Fi extends Ps{constructor(e,t){const i=Hi(e.region,t);super(e,i),this.boardCoords=t}setSelectedState(e){e?this.root.classList.add("card--selected"):this.root.classList.remove("card--selected")}setOpacity(e){this.root.style.opacity=`${Math.min(1,Math.max(0,e))*100}%`}checkPointInCard(e,t){const i=this.card.region;switch(i.mask){case"rectangle":const r=i.x-i.w/2,o=i.x+i.w/2,s=i.y+i.h/2,a=i.y-i.h/2;return e>=r&&e<=o&&t>=a&&t<=s;case"ellipse":const l=i.w/2,c=i.h/2,u=e-i.x,p=t-i.y;return u*u/(l*l)+p*p/(c*c)<=1;default:throw new Error(`Unknown mask: ${i.mask}`)}}}class Xa extends Ps{constructor(e,t){const i=document.createElement("div");super(e,i),this.childViews=t;for(let[r,o]of Object.entries(this.childViews))this.root.appendChild(o.root)}async prepare(e){}onStart(){for(let e of Object.values(this.childViews))e.onStart()}onDestroy(){for(let e of Object.values(this.childViews))e.onDestroy();super.onDestroy()}setHoverable(e){for(const t of Object.values(this.childViews))t.setHoverable(e)}setSelectedState(e){for(const t of Object.values(this.childViews))t.setSelectedState(e)}setOpacity(e){for(const t of Object.values(this.childViews))t.setOpacity(e)}checkPointInCard(e,t){for(const i of Object.values(this.childViews))if(i.checkPointInCard(e,t))return!0;return!1}}class Ya extends Fi{async prepare(e){this.imageContainer=document.createElement("div"),this.imageContainer.classList.add("image-card"),this.root.appendChild(this.imageContainer),this.image=await e.getImageElement(this.card.image),this.image.classList.add("image-card__content"),this.image.draggable=!1,this.imageContainer.appendChild(this.image)}}class Ka extends Fi{async prepare(e){this.videoContainer=document.createElement("div"),this.videoContainer.classList.add("video-card"),this.root.appendChild(this.videoContainer),this.video=await e.getVideoElement(this.card.video),this.video.classList.add("video-card__content"),this.videoContainer.appendChild(this.video),this.video.muted=!0,this.video.loop=this.card.loop,this.video.draggable=!0}onStart(){if(!this.video)throw new Error("Video not initialized. Did you forget to call load()?");let e=new Promise((r,o)=>{setTimeout(()=>{o(new Error("Video failed to play within 4 frames!"))},66)}),t=new Promise((r,o)=>{if(!this.video)throw new Error("Video not initialized. Did you forget to call load()?");this.video.onplaying=()=>{r(null)}});this.video.play(),Promise.race([t,e]).catch(r=>{console.error(r)})}onDestroy(){this.video&&(this.video.removeAttribute("src"),this.video.load())}}function qi(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ot=qi();function Ms(n){Ot=n}var pn={exec:()=>null};function se(n,e=""){let t=typeof n=="string"?n:n.source;const i={replace:(r,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(Ae.caret,"$1"),t=t.replace(r,s),i},getRegex:()=>new RegExp(t,e)};return i}var Ae={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},Za=/^(?:[ \t]*(?:\n|$))+/,Ja=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Qa=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,gn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,el=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ji=/(?:[*+-]|\d{1,9}[.)])/,$s=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ds=se($s).replace(/bull/g,ji).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),tl=se($s).replace(/bull/g,ji).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Gi=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,nl=/^[^\n]+/,Wi=/(?!\s*\])(?:\\.|[^\[\]\\])+/,il=se(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Wi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),rl=se(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ji).getRegex(),Wn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Xi=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,sl=se("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Xi).replace("tag",Wn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Bs=se(Gi).replace("hr",gn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wn).getRegex(),ol=se(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Bs).getRegex(),Yi={blockquote:ol,code:Ja,def:il,fences:Qa,heading:el,hr:gn,html:sl,lheading:Ds,list:rl,newline:Za,paragraph:Bs,table:pn,text:nl},Us=se("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",gn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wn).getRegex(),al={...Yi,lheading:tl,table:Us,paragraph:se(Gi).replace("hr",gn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Us).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wn).getRegex()},ll={...Yi,html:se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Xi).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:pn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:se(Gi).replace("hr",gn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ds).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},cl=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ul=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Vs=/^( {2,}|\\)\n(?!\s*$)/,hl=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Xn=/[\p{P}\p{S}]/u,Ki=/[\s\p{P}\p{S}]/u,zs=/[^\s\p{P}\p{S}]/u,dl=se(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ki).getRegex(),Hs=/(?!~)[\p{P}\p{S}]/u,fl=/(?!~)[\s\p{P}\p{S}]/u,pl=/(?:[^\s\p{P}\p{S}]|~)/u,gl=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Fs=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ml=se(Fs,"u").replace(/punct/g,Xn).getRegex(),wl=se(Fs,"u").replace(/punct/g,Hs).getRegex(),qs="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",bl=se(qs,"gu").replace(/notPunctSpace/g,zs).replace(/punctSpace/g,Ki).replace(/punct/g,Xn).getRegex(),El=se(qs,"gu").replace(/notPunctSpace/g,pl).replace(/punctSpace/g,fl).replace(/punct/g,Hs).getRegex(),vl=se("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,zs).replace(/punctSpace/g,Ki).replace(/punct/g,Xn).getRegex(),yl=se(/\\(punct)/,"gu").replace(/punct/g,Xn).getRegex(),kl=se(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Sl=se(Xi).replace("(?:-->|$)","-->").getRegex(),Tl=se("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Sl).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Yn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,_l=se(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Yn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),js=se(/^!?\[(label)\]\[(ref)\]/).replace("label",Yn).replace("ref",Wi).getRegex(),Gs=se(/^!?\[(ref)\](?:\[\])?/).replace("ref",Wi).getRegex(),xl=se("reflink|nolink(?!\\()","g").replace("reflink",js).replace("nolink",Gs).getRegex(),Zi={_backpedal:pn,anyPunctuation:yl,autolink:kl,blockSkip:gl,br:Vs,code:ul,del:pn,emStrongLDelim:ml,emStrongRDelimAst:bl,emStrongRDelimUnd:vl,escape:cl,link:_l,nolink:Gs,punctuation:dl,reflink:js,reflinkSearch:xl,tag:Tl,text:hl,url:pn},Rl={...Zi,link:se(/^!?\[(label)\]\((.*?)\)/).replace("label",Yn).getRegex(),reflink:se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yn).getRegex()},Ji={...Zi,emStrongRDelimAst:El,emStrongLDelim:wl,url:se(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Al={...Ji,br:se(Vs).replace("{2,}","*").getRegex(),text:se(Ji.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Kn={normal:Yi,gfm:al,pedantic:ll},mn={normal:Zi,gfm:Ji,breaks:Al,pedantic:Rl},Cl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ws=n=>Cl[n];function Qe(n,e){if(e){if(Ae.escapeTest.test(n))return n.replace(Ae.escapeReplace,Ws)}else if(Ae.escapeTestNoEncode.test(n))return n.replace(Ae.escapeReplaceNoEncode,Ws);return n}function Xs(n){try{n=encodeURI(n).replace(Ae.percentDecode,"%")}catch{return null}return n}function Ys(n,e){const t=n.replace(Ae.findPipe,(o,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),i=t.split(Ae.splitPipe);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(Ae.slashPipe,"|");return i}function wn(n,e,t){const i=n.length;if(i===0)return"";let r=0;for(;r<i&&n.charAt(i-r-1)===e;)r++;return n.slice(0,i-r)}function Il(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return t>0?-2:-1}function Ks(n,e,t,i,r){const o=e.href,s=e.title||null,a=n[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;const l={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:o,title:s,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,l}function Ol(n,e,t){const i=n.match(t.other.indentCodeCompensation);if(i===null)return e;const r=i[1];return e.split(`
`).map(o=>{const s=o.match(t.other.beginningSpace);if(s===null)return o;const[a]=s;return a.length>=r.length?o.slice(r.length):o}).join(`
`)}var Zn=class{options;rules;lexer;constructor(n){this.options=n||Ot}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:wn(t,`
`)}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const t=e[0],i=Ol(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:i}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const i=wn(t,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(t=i.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:wn(e[0],`
`)}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){let t=wn(e[0],`
`).split(`
`),i="",r="";const o=[];for(;t.length>0;){let s=!1;const a=[];let l;for(l=0;l<t.length;l++)if(this.rules.other.blockquoteStart.test(t[l]))a.push(t[l]),s=!0;else if(!s)a.push(t[l]);else break;t=t.slice(l);const c=a.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${c}`:c,r=r?`${r}
${u}`:u;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,o,!0),this.lexer.state.top=p,t.length===0)break;const f=o.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){const w=f,_=w.raw+`
`+t.join(`
`),b=this.blockquote(_);o[o.length-1]=b,i=i.substring(0,i.length-w.raw.length)+b.raw,r=r.substring(0,r.length-w.text.length)+b.text;break}else if(f?.type==="list"){const w=f,_=w.raw+`
`+t.join(`
`),b=this.list(_);o[o.length-1]=b,i=i.substring(0,i.length-f.raw.length)+b.raw,r=r.substring(0,r.length-w.raw.length)+b.raw,t=_.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t=e[1].trim();const i=t.length>1,r={type:"list",raw:"",ordered:i,start:i?+t.slice(0,-1):"",loose:!1,items:[]};t=i?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=i?t:"[*+-]");const o=this.rules.other.listItemRegex(t);let s=!1;for(;n;){let l=!1,c="",u="";if(!(e=o.exec(n))||this.rules.block.hr.test(n))break;c=e[0],n=n.substring(c.length);let p=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Z=>" ".repeat(3*Z.length)),f=n.split(`
`,1)[0],w=!p.trim(),_=0;if(this.options.pedantic?(_=2,u=p.trimStart()):w?_=e[1].length+1:(_=e[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,u=p.slice(_),_+=e[1].length),w&&this.rules.other.blankLine.test(f)&&(c+=f+`
`,n=n.substring(f.length+1),l=!0),!l){const Z=this.rules.other.nextBulletRegex(_),ie=this.rules.other.hrRegex(_),J=this.rules.other.fencesBeginRegex(_),ne=this.rules.other.headingBeginRegex(_),fe=this.rules.other.htmlBeginRegex(_);for(;n;){const re=n.split(`
`,1)[0];let oe;if(f=re,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),oe=f):oe=f.replace(this.rules.other.tabCharGlobal,"    "),J.test(f)||ne.test(f)||fe.test(f)||Z.test(f)||ie.test(f))break;if(oe.search(this.rules.other.nonSpaceChar)>=_||!f.trim())u+=`
`+oe.slice(_);else{if(w||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||J.test(p)||ne.test(p)||ie.test(p))break;u+=`
`+f}!w&&!f.trim()&&(w=!0),c+=re+`
`,n=n.substring(re.length+1),p=oe.slice(_)}}r.loose||(s?r.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let b=null,V;this.options.gfm&&(b=this.rules.other.listIsTask.exec(u),b&&(V=b[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:c,task:!!b,checked:V,loose:!1,text:u,tokens:[]}),r.raw+=c}const a=r.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let l=0;l<r.items.length;l++)if(this.lexer.state.top=!1,r.items[l].tokens=this.lexer.blockTokens(r.items[l].text,[]),!r.loose){const c=r.items[l].tokens.filter(p=>p.type==="space"),u=c.length>0&&c.some(p=>this.rules.other.anyLine.test(p.raw));r.loose=u}if(r.loose)for(let l=0;l<r.items.length;l++)r.items[l].loose=!0;return r}}html(n){const e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){const e=this.rules.block.def.exec(n);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:i,title:r}}}table(n){const e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const t=Ys(e[1]),i=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===i.length){for(const s of i)this.rules.other.tableAlignRight.test(s)?o.align.push("right"):this.rules.other.tableAlignCenter.test(s)?o.align.push("center"):this.rules.other.tableAlignLeft.test(s)?o.align.push("left"):o.align.push(null);for(let s=0;s<t.length;s++)o.header.push({text:t[s],tokens:this.lexer.inline(t[s]),header:!0,align:o.align[s]});for(const s of r)o.rows.push(Ys(s,o.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:o.align[l]})));return o}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){const e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const o=wn(t.slice(0,-1),"\\");if((t.length-o.length)%2===0)return}else{const o=Il(e[2],"()");if(o===-2)return;if(o>-1){const a=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let i=e[2],r="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],r=o[3])}else r=e[3]?e[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?i=i.slice(1):i=i.slice(1,-1)),Ks(e,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){const i=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=e[i.toLowerCase()];if(!r){const o=t[0].charAt(0);return{type:"text",raw:o,text:o}}return Ks(t,r,t[0],this.lexer,this.rules)}}emStrong(n,e,t=""){let i=this.rules.inline.emStrongLDelim.exec(n);if(!i||i[3]&&t.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const o=[...i[0]].length-1;let s,a,l=o,c=0;const u=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*n.length+o);(i=u.exec(e))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(a=[...s].length,i[3]||i[4]){l+=a;continue}else if((i[5]||i[6])&&o%3&&!((o+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);const p=[...i[0]][0].length,f=n.slice(0,o+i.index+p+a);if(Math.min(o,a)%2){const _=f.slice(1,-1);return{type:"em",raw:f,text:_,tokens:this.lexer.inlineTokens(_)}}const w=f.slice(2,-2);return{type:"strong",raw:f,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(t),r=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return i&&r&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){const e=this.rules.inline.autolink.exec(n);if(e){let t,i;return e[2]==="@"?(t=e[1],i="mailto:"+t):(t=e[1],i=t),{type:"link",raw:e[0],text:t,href:i,tokens:[{type:"text",raw:t,text:t}]}}}url(n){let e;if(e=this.rules.inline.url.exec(n)){let t,i;if(e[2]==="@")t=e[0],i="mailto:"+t;else{let r;do r=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(r!==e[0]);t=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:t,href:i,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(n){const e=this.rules.inline.text.exec(n);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},lt=class hs{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ot,this.options.tokenizer=this.options.tokenizer||new Zn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Ae,block:Kn.normal,inline:mn.normal};this.options.pedantic?(t.block=Kn.pedantic,t.inline=mn.pedantic):this.options.gfm&&(t.block=Kn.gfm,this.options.breaks?t.inline=mn.breaks:t.inline=mn.gfm),this.tokenizer.rules=t}static get rules(){return{block:Kn,inline:mn}}static lex(e,t){return new hs(t).lex(e)}static lexInline(e,t){return new hs(t).inlineTokens(e)}lex(e){e=e.replace(Ae.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){for(this.options.pedantic&&(e=e.replace(Ae.tabCharGlobal,"    ").replace(Ae.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(s=>(r=s.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);const s=t.at(-1);r.raw.length===1&&s!==void 0?s.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);const s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);const s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let o=e;if(this.options.extensions?.startBlock){let s=1/0;const a=e.slice(1);let l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(o=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){const s=t.at(-1);i&&s?.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r),i=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);const s=t.at(-1);s?.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(e){const s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i=e,r=null;if(this.tokens.links){const a=Object.keys(this.tokens.links);if(a.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)a.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,s="";for(;e;){o||(s=""),o=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);const c=t.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(a=this.tokenizer.emStrong(e,i,s)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),t.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),t.push(a);continue}let l=e;if(this.options.extensions?.startInline){let c=1/0;const u=e.slice(1);let p;this.options.extensions.startInline.forEach(f=>{p=f.call({lexer:this},u),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(s=a.raw.slice(-1)),o=!0;const c=t.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}},Jn=class{options;parser;constructor(n){this.options=n||Ot}space(n){return""}code({text:n,lang:e,escaped:t}){const i=(e||"").match(Ae.notSpaceStart)?.[0],r=n.replace(Ae.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Qe(i)+'">'+(t?r:Qe(r,!0))+`</code></pre>
`:"<pre><code>"+(t?r:Qe(r,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){const e=n.ordered,t=n.start;let i="";for(let s=0;s<n.items.length;s++){const a=n.items[s];i+=this.listitem(a)}const r=e?"ol":"ul",o=e&&t!==1?' start="'+t+'"':"";return"<"+r+o+`>
`+i+"</"+r+`>
`}listitem(n){let e="";if(n.task){const t=this.checkbox({checked:!!n.checked});n.loose?n.tokens[0]?.type==="paragraph"?(n.tokens[0].text=t+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=t+" "+Qe(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",t="";for(let r=0;r<n.header.length;r++)t+=this.tablecell(n.header[r]);e+=this.tablerow({text:t});let i="";for(let r=0;r<n.rows.length;r++){const o=n.rows[r];t="";for(let s=0;s<o.length;s++)t+=this.tablecell(o[s]);i+=this.tablerow({text:t})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+i+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){const e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${Qe(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:t}){const i=this.parser.parseInline(t),r=Xs(n);if(r===null)return i;n=r;let o='<a href="'+n+'"';return e&&(o+=' title="'+Qe(e)+'"'),o+=">"+i+"</a>",o}image({href:n,title:e,text:t,tokens:i}){i&&(t=this.parser.parseInline(i,this.parser.textRenderer));const r=Xs(n);if(r===null)return Qe(t);n=r;let o=`<img src="${n}" alt="${t}"`;return e&&(o+=` title="${Qe(e)}"`),o+=">",o}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:Qe(n.text)}},Qi=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},ct=class ds{options;renderer;textRenderer;constructor(e){this.options=e||Ot,this.options.renderer=this.options.renderer||new Jn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Qi}static parse(e,t){return new ds(t).parse(e)}static parseInline(e,t){return new ds(t).parseInline(e)}parse(e,t=!0){let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions?.renderers?.[o.type]){const a=o,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){i+=l||"";continue}}const s=o;switch(s.type){case"space":{i+=this.renderer.space(s);continue}case"hr":{i+=this.renderer.hr(s);continue}case"heading":{i+=this.renderer.heading(s);continue}case"code":{i+=this.renderer.code(s);continue}case"table":{i+=this.renderer.table(s);continue}case"blockquote":{i+=this.renderer.blockquote(s);continue}case"list":{i+=this.renderer.list(s);continue}case"html":{i+=this.renderer.html(s);continue}case"paragraph":{i+=this.renderer.paragraph(s);continue}case"text":{let a=s,l=this.renderer.text(a);for(;r+1<e.length&&e[r+1].type==="text";)a=e[++r],l+=`
`+this.renderer.text(a);t?i+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):i+=l;continue}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(e,t=this.renderer){let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions?.renderers?.[o.type]){const a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=a||"";continue}}const s=o;switch(s.type){case"escape":{i+=t.text(s);break}case"html":{i+=t.html(s);break}case"link":{i+=t.link(s);break}case"image":{i+=t.image(s);break}case"strong":{i+=t.strong(s);break}case"em":{i+=t.em(s);break}case"codespan":{i+=t.codespan(s);break}case"br":{i+=t.br(s);break}case"del":{i+=t.del(s);break}case"text":{i+=t.text(s);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}},Qn=class{options;block;constructor(n){this.options=n||Ot}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?lt.lex:lt.lexInline}provideParser(){return this.block?ct.parse:ct.parseInline}},Ll=class{defaults=qi();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ct;Renderer=Jn;TextRenderer=Qi;Lexer=lt;Tokenizer=Zn;Hooks=Qn;constructor(...n){this.use(...n)}walkTokens(n,e){let t=[];for(const i of n)switch(t=t.concat(e.call(this,i)),i.type){case"table":{const r=i;for(const o of r.header)t=t.concat(this.walkTokens(o.tokens,e));for(const o of r.rows)for(const s of o)t=t.concat(this.walkTokens(s.tokens,e));break}case"list":{const r=i;t=t.concat(this.walkTokens(r.items,e));break}default:{const r=i;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(o=>{const s=r[o].flat(1/0);t=t.concat(this.walkTokens(s,e))}):r.tokens&&(t=t.concat(this.walkTokens(r.tokens,e)))}}return t}use(...n){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{const i={...t};if(i.async=this.defaults.async||i.async||!1,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){const o=e.renderers[r.name];o?e.renderers[r.name]=function(...s){let a=r.renderer.apply(this,s);return a===!1&&(a=o.apply(this,s)),a}:e.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=e[r.level];o?o.unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),i.extensions=e),t.renderer){const r=this.defaults.renderer||new Jn(this.defaults);for(const o in t.renderer){if(!(o in r))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const s=o,a=t.renderer[s],l=r[s];r[s]=(...c)=>{let u=a.apply(r,c);return u===!1&&(u=l.apply(r,c)),u||""}}i.renderer=r}if(t.tokenizer){const r=this.defaults.tokenizer||new Zn(this.defaults);for(const o in t.tokenizer){if(!(o in r))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const s=o,a=t.tokenizer[s],l=r[s];r[s]=(...c)=>{let u=a.apply(r,c);return u===!1&&(u=l.apply(r,c)),u}}i.tokenizer=r}if(t.hooks){const r=this.defaults.hooks||new Qn;for(const o in t.hooks){if(!(o in r))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const s=o,a=t.hooks[s],l=r[s];Qn.passThroughHooks.has(o)?r[s]=c=>{if(this.defaults.async)return Promise.resolve(a.call(r,c)).then(p=>l.call(r,p));const u=a.call(r,c);return l.call(r,u)}:r[s]=(...c)=>{let u=a.apply(r,c);return u===!1&&(u=l.apply(r,c)),u}}i.hooks=r}if(t.walkTokens){const r=this.defaults.walkTokens,o=t.walkTokens;i.walkTokens=function(s){let a=[];return a.push(o.call(this,s)),r&&(a=a.concat(r.call(this,s))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return lt.lex(n,e??this.defaults)}parser(n,e){return ct.parse(n,e??this.defaults)}parseMarkdown(n){return(t,i)=>{const r={...i},o={...this.defaults,...r},s=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=n);const a=o.hooks?o.hooks.provideLexer():n?lt.lex:lt.lexInline,l=o.hooks?o.hooks.provideParser():n?ct.parse:ct.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(c=>a(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>l(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(s);try{o.hooks&&(t=o.hooks.preprocess(t));let c=a(t,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let u=l(c,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(c){return s(c)}}}onError(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const i="<p>An error occurred:</p><pre>"+Qe(t.message+"",!0)+"</pre>";return e?Promise.resolve(i):i}if(e)return Promise.reject(t);throw t}}},Lt=new Ll;function ae(n,e){return Lt.parse(n,e)}ae.options=ae.setOptions=function(n){return Lt.setOptions(n),ae.defaults=Lt.defaults,Ms(ae.defaults),ae},ae.getDefaults=qi,ae.defaults=Ot,ae.use=function(...n){return Lt.use(...n),ae.defaults=Lt.defaults,Ms(ae.defaults),ae},ae.walkTokens=function(n,e){return Lt.walkTokens(n,e)},ae.parseInline=Lt.parseInline,ae.Parser=ct,ae.parser=ct.parse,ae.Renderer=Jn,ae.TextRenderer=Qi,ae.Lexer=lt,ae.lexer=lt.lex,ae.Tokenizer=Zn,ae.Hooks=Qn,ae.parse=ae,ae.options,ae.setOptions,ae.use,ae.walkTokens,ae.parseInline,ct.parse,lt.lex;/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Zs,setPrototypeOf:Js,isFrozen:Nl,getPrototypeOf:Pl,getOwnPropertyDescriptor:Ml}=Object;let{freeze:Ce,seal:He,create:Qs}=Object,{apply:er,construct:tr}=typeof Reflect<"u"&&Reflect;Ce||(Ce=function(e){return e}),He||(He=function(e){return e}),er||(er=function(e,t,i){return e.apply(t,i)}),tr||(tr=function(e,t){return new e(...t)});const ei=Oe(Array.prototype.forEach),$l=Oe(Array.prototype.lastIndexOf),eo=Oe(Array.prototype.pop),bn=Oe(Array.prototype.push),Dl=Oe(Array.prototype.splice),ti=Oe(String.prototype.toLowerCase),nr=Oe(String.prototype.toString),to=Oe(String.prototype.match),En=Oe(String.prototype.replace),Bl=Oe(String.prototype.indexOf),Ul=Oe(String.prototype.trim),je=Oe(Object.prototype.hasOwnProperty),Ie=Oe(RegExp.prototype.test),vn=Vl(TypeError);function Oe(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return er(n,e,i)}}function Vl(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return tr(n,t)}}function te(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ti;Js&&Js(n,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const o=t(r);o!==r&&(Nl(e)||(e[i]=o),r=o)}n[r]=!0}return n}function zl(n){for(let e=0;e<n.length;e++)je(n,e)||(n[e]=null);return n}function ut(n){const e=Qs(null);for(const[t,i]of Zs(n))je(n,t)&&(Array.isArray(i)?e[t]=zl(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=ut(i):e[t]=i);return e}function yn(n,e){for(;n!==null;){const i=Ml(n,e);if(i){if(i.get)return Oe(i.get);if(typeof i.value=="function")return Oe(i.value)}n=Pl(n)}function t(){return null}return t}const no=Ce(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ir=Ce(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rr=Ce(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Hl=Ce(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),sr=Ce(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Fl=Ce(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),io=Ce(["#text"]),ro=Ce(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),or=Ce(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),so=Ce(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ni=Ce(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ql=He(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jl=He(/<%[\w\W]*|[\w\W]*%>/gm),Gl=He(/\$\{[\w\W]*/gm),Wl=He(/^data-[\-\w.\u00B7-\uFFFF]+$/),Xl=He(/^aria-[\-\w]+$/),oo=He(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Yl=He(/^(?:\w+script|data):/i),Kl=He(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ao=He(/^html$/i),Zl=He(/^[a-z][.\w]*(-[.\w]+)+$/i);var lo=Object.freeze({__proto__:null,ARIA_ATTR:Xl,ATTR_WHITESPACE:Kl,CUSTOM_ELEMENT:Zl,DATA_ATTR:Wl,DOCTYPE_NAME:ao,ERB_EXPR:jl,IS_ALLOWED_URI:oo,IS_SCRIPT_OR_DATA:Yl,MUSTACHE_EXPR:ql,TMPLIT_EXPR:Gl});const kn={element:1,text:3,progressingInstruction:7,comment:8,document:9},Jl=function(){return typeof window>"u"?null:window},Ql=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(i=t.getAttribute(r));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},co=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function uo(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jl();const e=$=>uo($);if(e.version="3.2.6",e.removed=[],!n||!n.document||n.document.nodeType!==kn.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const i=t,r=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:w}=n,_=l.prototype,b=yn(_,"cloneNode"),V=yn(_,"remove"),Z=yn(_,"nextSibling"),ie=yn(_,"childNodes"),J=yn(_,"parentNode");if(typeof s=="function"){const $=t.createElement("template");$.content&&$.content.ownerDocument&&(t=$.content.ownerDocument)}let ne,fe="";const{implementation:re,createNodeIterator:oe,createDocumentFragment:F,getElementsByTagName:et}=t,{importNode:yt}=i;let be=co();e.isSupported=typeof Zs=="function"&&typeof J=="function"&&re&&re.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ht,ERB_EXPR:dt,TMPLIT_EXPR:A,DATA_ATTR:R,ARIA_ATTR:U,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:P}=lo;let{IS_ALLOWED_URI:q}=lo,z=null;const Y=te({},[...no,...ir,...rr,...sr,...io]);let G=null;const ye=te({},[...ro,...or,...so,...ni]);let X=Object.seal(Qs(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$e=null,_n=null,ci=!0,ui=!0,Nt=!1,hi=!0,kt=!1,Yt=!0,ft=!1,xn=!1,Rn=!1,St=!1,Kt=!1,Zt=!1,An=!0,di=!1;const os="user-content-";let Jt=!0,De=!1,pt={},Be=null;const Pt=te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Cn=null;const fi=te({},["audio","video","img","source","image","track"]);let In=null;const pi=te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qt="http://www.w3.org/1998/Math/MathML",en="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml";let Tt=Fe,On=!1,Ln=null;const Nn=te({},[Qt,en,Fe],nr);let Mt=te({},["mi","mo","mn","ms","mtext"]),$t=te({},["annotation-xml"]);const as=te({},["title","style","font","a","script"]);let _t=null;const xt=["application/xhtml+xml","text/html"],h="text/html";let g=null,x=null;const j=t.createElement("form"),we=function(d){return d instanceof RegExp||d instanceof Function},me=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(x&&x===d)){if((!d||typeof d!="object")&&(d={}),d=ut(d),_t=xt.indexOf(d.PARSER_MEDIA_TYPE)===-1?h:d.PARSER_MEDIA_TYPE,g=_t==="application/xhtml+xml"?nr:ti,z=je(d,"ALLOWED_TAGS")?te({},d.ALLOWED_TAGS,g):Y,G=je(d,"ALLOWED_ATTR")?te({},d.ALLOWED_ATTR,g):ye,Ln=je(d,"ALLOWED_NAMESPACES")?te({},d.ALLOWED_NAMESPACES,nr):Nn,In=je(d,"ADD_URI_SAFE_ATTR")?te(ut(pi),d.ADD_URI_SAFE_ATTR,g):pi,Cn=je(d,"ADD_DATA_URI_TAGS")?te(ut(fi),d.ADD_DATA_URI_TAGS,g):fi,Be=je(d,"FORBID_CONTENTS")?te({},d.FORBID_CONTENTS,g):Pt,$e=je(d,"FORBID_TAGS")?te({},d.FORBID_TAGS,g):ut({}),_n=je(d,"FORBID_ATTR")?te({},d.FORBID_ATTR,g):ut({}),pt=je(d,"USE_PROFILES")?d.USE_PROFILES:!1,ci=d.ALLOW_ARIA_ATTR!==!1,ui=d.ALLOW_DATA_ATTR!==!1,Nt=d.ALLOW_UNKNOWN_PROTOCOLS||!1,hi=d.ALLOW_SELF_CLOSE_IN_ATTR!==!1,kt=d.SAFE_FOR_TEMPLATES||!1,Yt=d.SAFE_FOR_XML!==!1,ft=d.WHOLE_DOCUMENT||!1,St=d.RETURN_DOM||!1,Kt=d.RETURN_DOM_FRAGMENT||!1,Zt=d.RETURN_TRUSTED_TYPE||!1,Rn=d.FORCE_BODY||!1,An=d.SANITIZE_DOM!==!1,di=d.SANITIZE_NAMED_PROPS||!1,Jt=d.KEEP_CONTENT!==!1,De=d.IN_PLACE||!1,q=d.ALLOWED_URI_REGEXP||oo,Tt=d.NAMESPACE||Fe,Mt=d.MATHML_TEXT_INTEGRATION_POINTS||Mt,$t=d.HTML_INTEGRATION_POINTS||$t,X=d.CUSTOM_ELEMENT_HANDLING||{},d.CUSTOM_ELEMENT_HANDLING&&we(d.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=d.CUSTOM_ELEMENT_HANDLING.tagNameCheck),d.CUSTOM_ELEMENT_HANDLING&&we(d.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=d.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),d.CUSTOM_ELEMENT_HANDLING&&typeof d.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=d.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),kt&&(ui=!1),Kt&&(St=!0),pt&&(z=te({},io),G=[],pt.html===!0&&(te(z,no),te(G,ro)),pt.svg===!0&&(te(z,ir),te(G,or),te(G,ni)),pt.svgFilters===!0&&(te(z,rr),te(G,or),te(G,ni)),pt.mathMl===!0&&(te(z,sr),te(G,so),te(G,ni))),d.ADD_TAGS&&(z===Y&&(z=ut(z)),te(z,d.ADD_TAGS,g)),d.ADD_ATTR&&(G===ye&&(G=ut(G)),te(G,d.ADD_ATTR,g)),d.ADD_URI_SAFE_ATTR&&te(In,d.ADD_URI_SAFE_ATTR,g),d.FORBID_CONTENTS&&(Be===Pt&&(Be=ut(Be)),te(Be,d.FORBID_CONTENTS,g)),Jt&&(z["#text"]=!0),ft&&te(z,["html","head","body"]),z.table&&(te(z,["tbody"]),delete $e.tbody),d.TRUSTED_TYPES_POLICY){if(typeof d.TRUSTED_TYPES_POLICY.createHTML!="function")throw vn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof d.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=d.TRUSTED_TYPES_POLICY,fe=ne.createHTML("")}else ne===void 0&&(ne=Ql(w,r)),ne!==null&&typeof fe=="string"&&(fe=ne.createHTML(""));Ce&&Ce(d),x=d}},L=te({},[...ir,...rr,...Hl]),O=te({},[...sr,...Fl]),H=function(d){let T=J(d);(!T||!T.tagName)&&(T={namespaceURI:Tt,tagName:"template"});const I=ti(d.tagName),de=ti(T.tagName);return Ln[d.namespaceURI]?d.namespaceURI===en?T.namespaceURI===Fe?I==="svg":T.namespaceURI===Qt?I==="svg"&&(de==="annotation-xml"||Mt[de]):!!L[I]:d.namespaceURI===Qt?T.namespaceURI===Fe?I==="math":T.namespaceURI===en?I==="math"&&$t[de]:!!O[I]:d.namespaceURI===Fe?T.namespaceURI===en&&!$t[de]||T.namespaceURI===Qt&&!Mt[de]?!1:!O[I]&&(as[I]||!L[I]):!!(_t==="application/xhtml+xml"&&Ln[d.namespaceURI]):!1},le=function(d){bn(e.removed,{element:d});try{J(d).removeChild(d)}catch{V(d)}},he=function(d,T){try{bn(e.removed,{attribute:T.getAttributeNode(d),from:T})}catch{bn(e.removed,{attribute:null,from:T})}if(T.removeAttribute(d),d==="is")if(St||Kt)try{le(T)}catch{}else try{T.setAttribute(d,"")}catch{}},Rt=function(d){let T=null,I=null;if(Rn)d="<remove></remove>"+d;else{const Ee=to(d,/^[\r\n\t ]+/);I=Ee&&Ee[0]}_t==="application/xhtml+xml"&&Tt===Fe&&(d='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+d+"</body></html>");const de=ne?ne.createHTML(d):d;if(Tt===Fe)try{T=new f().parseFromString(de,_t)}catch{}if(!T||!T.documentElement){T=re.createDocument(Tt,"template",null);try{T.documentElement.innerHTML=On?fe:de}catch{}}const ke=T.body||T.documentElement;return d&&I&&ke.insertBefore(t.createTextNode(I),ke.childNodes[0]||null),Tt===Fe?et.call(T,ft?"html":"body")[0]:ft?T.documentElement:ke},tn=function(d){return oe.call(d.ownerDocument||d,d,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Dt=function(d){return d instanceof p&&(typeof d.nodeName!="string"||typeof d.textContent!="string"||typeof d.removeChild!="function"||!(d.attributes instanceof u)||typeof d.removeAttribute!="function"||typeof d.setAttribute!="function"||typeof d.namespaceURI!="string"||typeof d.insertBefore!="function"||typeof d.hasChildNodes!="function")},gi=function(d){return typeof a=="function"&&d instanceof a};function Ue($,d,T){ei($,I=>{I.call(e,d,T,x)})}const mi=function(d){let T=null;if(Ue(be.beforeSanitizeElements,d,null),Dt(d))return le(d),!0;const I=g(d.nodeName);if(Ue(be.uponSanitizeElement,d,{tagName:I,allowedTags:z}),Yt&&d.hasChildNodes()&&!gi(d.firstElementChild)&&Ie(/<[/\w!]/g,d.innerHTML)&&Ie(/<[/\w!]/g,d.textContent)||d.nodeType===kn.progressingInstruction||Yt&&d.nodeType===kn.comment&&Ie(/<[/\w]/g,d.data))return le(d),!0;if(!z[I]||$e[I]){if(!$e[I]&&bi(I)&&(X.tagNameCheck instanceof RegExp&&Ie(X.tagNameCheck,I)||X.tagNameCheck instanceof Function&&X.tagNameCheck(I)))return!1;if(Jt&&!Be[I]){const de=J(d)||d.parentNode,ke=ie(d)||d.childNodes;if(ke&&de){const Ee=ke.length;for(let xe=Ee-1;xe>=0;--xe){const Xe=b(ke[xe],!0);Xe.__removalCount=(d.__removalCount||0)+1,de.insertBefore(Xe,Z(d))}}}return le(d),!0}return d instanceof l&&!H(d)||(I==="noscript"||I==="noembed"||I==="noframes")&&Ie(/<\/no(script|embed|frames)/i,d.innerHTML)?(le(d),!0):(kt&&d.nodeType===kn.text&&(T=d.textContent,ei([ht,dt,A],de=>{T=En(T,de," ")}),d.textContent!==T&&(bn(e.removed,{element:d.cloneNode()}),d.textContent=T)),Ue(be.afterSanitizeElements,d,null),!1)},wi=function(d,T,I){if(An&&(T==="id"||T==="name")&&(I in t||I in j))return!1;if(!(ui&&!_n[T]&&Ie(R,T))){if(!(ci&&Ie(U,T))){if(!G[T]||_n[T]){if(!(bi(d)&&(X.tagNameCheck instanceof RegExp&&Ie(X.tagNameCheck,d)||X.tagNameCheck instanceof Function&&X.tagNameCheck(d))&&(X.attributeNameCheck instanceof RegExp&&Ie(X.attributeNameCheck,T)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(T))||T==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&Ie(X.tagNameCheck,I)||X.tagNameCheck instanceof Function&&X.tagNameCheck(I))))return!1}else if(!In[T]){if(!Ie(q,En(I,M,""))){if(!((T==="src"||T==="xlink:href"||T==="href")&&d!=="script"&&Bl(I,"data:")===0&&Cn[d])){if(!(Nt&&!Ie(N,En(I,M,"")))){if(I)return!1}}}}}}return!0},bi=function(d){return d!=="annotation-xml"&&to(d,P)},Pn=function(d){Ue(be.beforeSanitizeAttributes,d,null);const{attributes:T}=d;if(!T||Dt(d))return;const I={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let de=T.length;for(;de--;){const ke=T[de],{name:Ee,namespaceURI:xe,value:Xe}=ke,tt=g(Ee),Mn=Xe;let k=Ee==="value"?Mn:Ul(Mn);if(I.attrName=tt,I.attrValue=k,I.keepAttr=!0,I.forceKeepAttr=void 0,Ue(be.uponSanitizeAttribute,d,I),k=I.attrValue,di&&(tt==="id"||tt==="name")&&(he(Ee,d),k=os+k),Yt&&Ie(/((--!?|])>)|<\/(style|title)/i,k)){he(Ee,d);continue}if(I.forceKeepAttr)continue;if(!I.keepAttr){he(Ee,d);continue}if(!hi&&Ie(/\/>/i,k)){he(Ee,d);continue}kt&&ei([ht,dt,A],ee=>{k=En(k,ee," ")});const D=g(d.nodeName);if(!wi(D,tt,k)){he(Ee,d);continue}if(ne&&typeof w=="object"&&typeof w.getAttributeType=="function"&&!xe)switch(w.getAttributeType(D,tt)){case"TrustedHTML":{k=ne.createHTML(k);break}case"TrustedScriptURL":{k=ne.createScriptURL(k);break}}if(k!==Mn)try{xe?d.setAttributeNS(xe,Ee,k):d.setAttribute(Ee,k),Dt(d)?le(d):eo(e.removed)}catch{he(Ee,d)}}Ue(be.afterSanitizeAttributes,d,null)},nn=function $(d){let T=null;const I=tn(d);for(Ue(be.beforeSanitizeShadowDOM,d,null);T=I.nextNode();)Ue(be.uponSanitizeShadowNode,T,null),mi(T),Pn(T),T.content instanceof o&&$(T.content);Ue(be.afterSanitizeShadowDOM,d,null)};return e.sanitize=function($){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=null,I=null,de=null,ke=null;if(On=!$,On&&($="<!-->"),typeof $!="string"&&!gi($))if(typeof $.toString=="function"){if($=$.toString(),typeof $!="string")throw vn("dirty is not a string, aborting")}else throw vn("toString is not a function");if(!e.isSupported)return $;if(xn||me(d),e.removed=[],typeof $=="string"&&(De=!1),De){if($.nodeName){const Xe=g($.nodeName);if(!z[Xe]||$e[Xe])throw vn("root node is forbidden and cannot be sanitized in-place")}}else if($ instanceof a)T=Rt("<!---->"),I=T.ownerDocument.importNode($,!0),I.nodeType===kn.element&&I.nodeName==="BODY"||I.nodeName==="HTML"?T=I:T.appendChild(I);else{if(!St&&!kt&&!ft&&$.indexOf("<")===-1)return ne&&Zt?ne.createHTML($):$;if(T=Rt($),!T)return St?null:Zt?fe:""}T&&Rn&&le(T.firstChild);const Ee=tn(De?$:T);for(;de=Ee.nextNode();)mi(de),Pn(de),de.content instanceof o&&nn(de.content);if(De)return $;if(St){if(Kt)for(ke=F.call(T.ownerDocument);T.firstChild;)ke.appendChild(T.firstChild);else ke=T;return(G.shadowroot||G.shadowrootmode)&&(ke=yt.call(i,ke,!0)),ke}let xe=ft?T.outerHTML:T.innerHTML;return ft&&z["!doctype"]&&T.ownerDocument&&T.ownerDocument.doctype&&T.ownerDocument.doctype.name&&Ie(ao,T.ownerDocument.doctype.name)&&(xe="<!DOCTYPE "+T.ownerDocument.doctype.name+`>
`+xe),kt&&ei([ht,dt,A],Xe=>{xe=En(xe,Xe," ")}),ne&&Zt?ne.createHTML(xe):xe},e.setConfig=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};me($),xn=!0},e.clearConfig=function(){x=null,xn=!1},e.isValidAttribute=function($,d,T){x||me({});const I=g($),de=g(d);return wi(I,de,T)},e.addHook=function($,d){typeof d=="function"&&bn(be[$],d)},e.removeHook=function($,d){if(d!==void 0){const T=$l(be[$],d);return T===-1?void 0:Dl(be[$],T,1)[0]}return eo(be[$])},e.removeHooks=function($){be[$]=[]},e.removeAllHooks=function(){be=co()},e}var ho=uo();function ec(n,e){const t=document.createElement("div");switch(t.classList.add("text-content"),t.style.color=n.textColor,t.style.textAlign=n.justificationHorizontal,n.justificationVertical){case"top":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"bottom":t.style.justifyContent="flex-end";break;default:throw new Error(`Unknown vertical justification: ${n.justificationVertical}`)}t.style.fontSize=e(n.fontSize);let i=ae.parse(n.text);return i instanceof Promise?i.then(r=>{t.innerHTML=ho.sanitize(r)}).catch(r=>console.error("markdown render failed",r)):t.innerHTML=ho.sanitize(i),t}class tc{constructor(){this.alreadyCalled=!1,this.promise=new Promise(e=>{this.resolveFunc=e})}resolve(e){if(this.alreadyCalled){console.warn("Warning: DeferredValue.resolve called multiple times; ignoring subsequent calls.",e);return}this.alreadyCalled=!0,this.resolveFunc(e)}}class nc extends Fi{async prepare(){this.textContainer=document.createElement("div"),this.textContainer.classList.add("text-card"),this.root.style.borderRadius="8px",this.root.appendChild(this.textContainer),this.textContainer.style.backgroundColor=this.card.background_color;const e={text:this.card.text,textColor:this.card.text_color,fontSize:this.card.font_size,justificationHorizontal:this.card.justification_horizontal,justificationVertical:this.card.justification_vertical},t=ec(e,i=>this.boardCoords.getSizePx(i)+"px");this.textContainer.appendChild(t)}}async function Wt(n,e,t){const i=e.getCoordinateSystem();let r=null;switch(n.card_type){case"ImageCard":r=new Ya(n,i);break;case"VideoCard":r=new Ka(n,i);break;case"TextCard":r=new nc(n,i);break;case"CompositeCard":const o=Object.entries(n.children).map(async([c,u])=>{const p=await Wt(u,e,t);return[c,p]}),s=await Promise.all(o),a=Object.fromEntries(s);r=new Xa(n,a);break;default:const l=n;throw new Error(`Unsupported Card type: ${JSON.stringify(l)}`)}return e.root.appendChild(r.root),await r.prepare(t),r}class vt{constructor(e,t,i){this.subscriptions=[],this.timeoutId=null,this.params={sensor:e,boardView:t,assetManager:i}}async prepare(){}start(){this.clearTimeout(),this.scheduleTimeout(),this.onStart()}onStart(){}emit(e){this.clearTimeout(),this.subscriptions.forEach(t=>t(e))}subscribe(e){this.subscriptions.push(e)}scheduleTimeout(){const e=this.params.sensor.duration_msec;e!=null&&(this.timeoutId=window.setTimeout(()=>{const t={action_type:"WaitAction",action_value:null};this.emit(t)},e))}clearTimeout(){this.timeoutId!==null&&(window.clearTimeout(this.timeoutId),this.timeoutId=null)}}class ic extends vt{constructor(){super(...arguments),this.confirmCardView=null}async prepare(){const e=new rc(this.params.sensor,this.params.boardView.getCoordinateSystem());this.params.boardView.root.appendChild(e.root);const t=this.params.sensor.confirm_button,i=t!=null;let r=this.params.sensor.initial_bin_index;const o=s=>{if(r=s.binIndex,!i){const a={action_type:"SliderAction",action_value:s.binIndex};this.emit(a)}};if(e.subscribeToSlider(o),t!=null){const s=await Wt(t,this.params.boardView,this.params.assetManager);this.confirmCardView=s;const a=.1,l=.5;s.setOpacity(a),s.setHoverable(!1);let c=!1,u=!1;const p=()=>{u||c||(c=!0,s.setOpacity(1),s.setHoverable(!0))};e.subscribeToEngagement(p);const f=w=>{if(u||!c||w.sampleType!=="down"||!s.checkPointInCard(w.x,w.y))return;const b={action_type:"SliderAction",action_value:r};this.emit(b),u=!0,s.setOpacity(l),s.setHoverable(!1)};this.params.boardView.pointerStream.subscribe(f)}}onStart(){this.confirmCardView?.onStart()}}class rc{constructor(e,t){this.pendingThumbPosition=null,this.rafId=null,this.frameRequested=!1,this.currentBinIndex=null,this.subscribers=new Set,this.engagementSubscribers=new Set,this.hasEngaged=!1,this.isDraggingThumb=!1,this.onPointerDownThumb=i=>{i.preventDefault(),this.markEngaged(),this.isDraggingThumb=!0,this.setThumbVisualState("dragging"),i.target.setPointerCapture(i.pointerId)},this.onPointerUpDocument=i=>{if(this.isDraggingThumb){i.preventDefault(),this.isDraggingThumb=!1;const r=this.calculateNearestBin(i);this.currentBinIndex=r,this.scheduleThumbMove(r),this.setThumbVisualState("committed"),i.target.releasePointerCapture(i.pointerId),this.emitSliderValue()}},this.onPointerMoveDocument=i=>{if(!this.isDraggingThumb)return;i.preventDefault();const r=this.calculateNearestBin(i);this.currentBinIndex=r,this.scheduleThumbMove(r)},this.onClickTrack=i=>{i.preventDefault(),this.markEngaged();const r=this.calculateNearestBin(i);this.currentBinIndex=r,this.scheduleThumbMove(r),this.isDraggingThumb?(this.isDraggingThumb=!1,i.target.releasePointerCapture(i.pointerId),this.setThumbVisualState("committed")):(this.isDraggingThumb=!0,this.setThumbVisualState("dragging"),i.target.setPointerCapture(i.pointerId))},this.root=Hi(e.region,t),this.boardCoords=t,this.sensor=e,this.sliderContainer=document.createElement("div"),this.sliderContainer.classList.add("slider-card"),this.sliderTrack=document.createElement("div"),this.sliderTrack.classList.add("slider-card__track"),this.sliderContainer.appendChild(this.sliderTrack),this.sliderThumb=document.createElement("div"),this.sliderThumb.classList.add("slider-card__thumb"),this.sliderContainer.appendChild(this.sliderThumb),e.orientation==="horizontal"?(this.sliderTrack.classList.add("slider-card__track--horizontal"),this.sliderThumb.classList.add("slider-card__thumb--horizontal")):(this.sliderTrack.classList.add("slider-card__track--vertical"),this.sliderThumb.classList.add("slider-card__thumb--vertical")),this.root.appendChild(this.sliderContainer),this.binIndexToProportion=i=>e.num_bins<=1?0:i/(e.num_bins-1),this.renderTicks(),this.setThumbVisualState("uncommitted"),this.scheduleThumbMove(e.initial_bin_index),this.sliderTrack.addEventListener("pointerdown",this.onClickTrack),this.sliderThumb.addEventListener("pointerdown",this.onPointerDownThumb),document.addEventListener("pointermove",this.onPointerMoveDocument),document.addEventListener("pointerup",this.onPointerUpDocument)}renderTicks(){const e=this.sensor;if(!e.show_bin_markers)return;this.sliderTrack.querySelectorAll(".slider-card__track-tick").forEach(c=>c.remove());const t=e.num_bins,i=document.createDocumentFragment(),r=e.orientation==="horizontal",o=Math.max(1,r?this.boardCoords.getSizePx(e.region.w):this.boardCoords.getSizePx(e.region.h)),s=8,a=Math.max(0,s/2),l=Math.max(0,o-s);for(let c=0;c<t;c++){if(c===0||c===t-1)continue;const p=(a+c*l/(t-1))/o*100,f=document.createElement("div");f.classList.add("slider-card__track-tick"),f.style.pointerEvents="none";const w="75%";e.orientation==="horizontal"?(f.style.width="1px",f.style.height=w,f.style.left=`${p}%`,f.style.top="50%",f.style.transform="translate(-50%, -50%)"):(f.style.width=w,f.style.height="1px",f.style.top=`${p}%`,f.style.left="50%",f.style.transform="translate(-50%, -50%)"),i.appendChild(f)}this.sliderTrack.appendChild(i)}setThumbVisualState(e){const t="slider-card__thumb--active",i="slider-card__thumb--uncommitted";switch(e){case"dragging":this.sliderThumb.classList.add(t),this.sliderThumb.classList.remove(i);return;case"committed":this.sliderThumb.classList.remove(t),this.sliderThumb.classList.remove(i);return;case"uncommitted":this.sliderThumb.classList.remove(t),this.sliderThumb.classList.add(i);return;default:return}}scheduleThumbMove(e){const t=this.binIndexToProportion(e);this.pendingThumbPosition=Math.max(0,Math.min(1,t)),this.frameRequested||(this.frameRequested=!0,this.rafId=requestAnimationFrame(()=>{this.frameRequested=!1,this.flushThumbVisualUpdate()}))}flushThumbVisualUpdate(){if(this.pendingThumbPosition==null)return;const e=this.sliderThumb.getBoundingClientRect(),t=this.sliderContainer.getBoundingClientRect();if(this.sensor.orientation==="horizontal"){const i=this.pendingThumbPosition*(t.width-e.width);this.sliderThumb.style.left=`${i}px`}else{const i=t.height-e.height-this.pendingThumbPosition*(t.height-e.height);this.sliderThumb.style.top=`${i}px`}this.pendingThumbPosition=null}calculateNearestBin(e){if(this.sensor.num_bins<=1)return 0;const t=this.sliderTrack.getBoundingClientRect();let i;switch(this.sensor.orientation){case"horizontal":i=(e.clientX-t.left)/t.width;break;case"vertical":i=1-(e.clientY-t.top)/t.height;break;default:const a=this.sensor.orientation;throw new Error(`Unsupported SliderSensor.orientation found ${JSON.stringify(a)}`)}i=Math.max(0,Math.min(1,i));const r=i*(this.sensor.num_bins-1);return Math.round(r)}onDestroy(){this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null,this.frameRequested=!1,this.pendingThumbPosition=null),this.sliderTrack.removeEventListener("pointerdown",this.onClickTrack)}emitSliderValue(){if(this.currentBinIndex==null)return;const e=this.currentBinIndex,t={sliderNormalizedPosition:e/(this.sensor.num_bins-1),binIndex:e,domTimestamp:performance.now()};for(let i of this.subscribers)i(t)}markEngaged(){if(!this.hasEngaged){this.hasEngaged=!0;for(let e of this.engagementSubscribers)e()}}subscribeToEngagement(e){this.engagementSubscribers.add(e),this.hasEngaged&&e()}subscribeToSlider(e){this.subscribers.add(e)}}class sc extends vt{async prepare(){const e=new oc(this.params.sensor,this.params.boardView.getCoordinateSystem());this.params.boardView.root.appendChild(e.root);const t=i=>{const r={action_type:"TextEntryAction",action_value:i};this.emit(r)};e.subscribe(t)}}class oc{constructor(e,t){this.root=Hi(e.region,t);const i=document.createElement("div");i.classList.add("text-entry");const r=document.createElement("textarea");r.classList.add("text-entry__input"),r.spellcheck=!1,r.placeholder=e.prompt??"",r.style.fontSize=t.getSizePx(e.font_size)+"px",r.maxLength=e.max_length??1e4;const o=document.createElement("div");o.classList.add("text-entry__gutter");const s="Done",a="",l=document.createElement("button");l.classList.add("text-entry__submit"),l.textContent=a,l.disabled=e.min_length>0,o.appendChild(l),i.appendChild(r),i.appendChild(o),this.root.appendChild(i);const c=()=>{const u=r.value.trim().length>=e.min_length;l.textContent=u?s:a,u?(l.classList.add("submittable"),l.disabled=!1):(l.classList.remove("submittable"),l.disabled=!0)};r.addEventListener("input",()=>{c()}),this.textAreaElement=r,this.doneButton=l,c()}subscribe(e){this.doneButton.addEventListener("click",()=>{const t=this.textAreaElement.value;e(t),this.doneButton.textContent="✓"})}}class ac extends vt{async prepare(){const e=new Set(this.params.sensor.keys),t=i=>{if(i.sampleType!=="down"||!e.has(i.key))return;const r={action_type:"KeyAction",action_value:i.key};this.emit(r)};this.params.boardView.keyStream.subscribe(t)}}class lc extends vt{}class cc extends vt{constructor(){super(...arguments),this.choiceCardViews=[]}async prepare(){const e={};let t=[];for(const[o,s]of Object.entries(this.params.sensor.choices)){const a=await Wt(s,this.params.boardView,this.params.assetManager);a.setHoverable(!0),e[o]=a,t.push(o),this.choiceCardViews.push(e[o])}t.sort();let i=null;const r=o=>{if(o.sampleType!=="down")return;let s=null,a=!1;for(const l of t){const c=e[l];if(!c.checkPointInCard(o.x,o.y))continue;if(i===l){a=!1;break}c.setSelectedState(!0),s=l,i=l,a=!0;const p={action_type:"SelectAction",action_value:l};this.emit(p);break}if(a)for(const l of t){if(l===s)continue;e[l].setSelectedState(!1)}};this.params.boardView.pointerStream.subscribe(r)}onStart(){for(const e of this.choiceCardViews)e.onStart()}}class uc extends vt{constructor(){super(...arguments),this.choiceCardViews=[],this.confirmCardView=null,this.choiceIds=[],this.cardViewMap={}}async prepare(){const e=this.params.sensor.min_selections,t=this.params.sensor.max_selections??Object.keys(this.params.sensor.choices).length,i=new Set;for(const[f,w]of Object.entries(this.params.sensor.choices)){const _=await Wt(w,this.params.boardView,this.params.assetManager);_.setHoverable(!0),this.cardViewMap[f]=_,this.choiceIds.push(f),this.choiceCardViews.push(this.cardViewMap[f])}this.choiceIds.sort();const r=await Wt(this.params.sensor.confirm_button,this.params.boardView,this.params.assetManager);this.confirmCardView=r;const o=.5;r.setOpacity(.1);let s=!1,a=!1;const l=()=>{const f=i.size>=t;for(const w of this.choiceIds){const _=this.cardViewMap[w],b=i.has(w);_.setSelectedState(b),f&&!b?(_.setOpacity(.25),_.setHoverable(!1)):(_.setOpacity(1),_.setHoverable(!0))}},c=()=>{const f={action_type:"MultiSelectAction",action_value:Array.from(i)};this.emit(f)},u=()=>{for(const f of this.choiceIds){const w=this.cardViewMap[f];w.setOpacity(o),w.setHoverable(!1)}this.confirmCardView?.setOpacity(o)},p=f=>{if(a||f.sampleType!=="down")return;const w=i.size>=t;let _=!1;for(const b of this.choiceIds){const V=this.cardViewMap[b];if(!V.checkPointInCard(f.x,f.y))continue;const ie=i.has(b);w&&!ie?V.setHoverable(!1):V.setHoverable(!0),f.sampleType==="down"&&(ie?(i.delete(b),_=!0):i.size<t&&(i.add(b),_=!0))}_&&(l(),s=i.size>=e),s?(r.setOpacity(1),r.checkPointInCard(f.x,f.y)&&f.sampleType==="down"&&(c(),a=!0,r.setOpacity(o),u())):r.setOpacity(.1)};this.params.boardView.pointerStream.subscribe(p)}onStart(){for(const e of this.choiceCardViews)e.onStart();this.confirmCardView?.onStart()}}class hc extends vt{constructor(){super(...arguments),this.childBindings={}}async prepare(){let e={};for(const[t,i]of Object.entries(this.params.sensor.children))e[t]=null,this.childBindings[t]=await ar(i,this.params.boardView,this.params.assetManager),this.childBindings[t].subscribe(r=>{e[t]=r;let o=this.checkValid(e);o!==null&&this.emit(o)})}checkValid(e){let t={};for(const i of Object.keys(e)){const r=i;if(e[r]===null)return null;t[r]=e[r]}return{action_type:"ProductAction",action_value:t}}onStart(){for(const[e,t]of Object.entries(this.childBindings))t.start()}}class dc extends vt{constructor(){super(...arguments),this.childBindings={}}async prepare(){let e=!1;for(const[t,i]of Object.entries(this.params.sensor.children))this.childBindings[t]=await ar(i,this.params.boardView,this.params.assetManager),this.childBindings[t].subscribe(r=>{const o={action_type:"SumAction",action_value:[t,r]};e||(e=!0,this.emit(o))})}onStart(){for(const[e,t]of Object.entries(this.childBindings))t.start()}}async function ar(n,e,t){let i=null;switch(n.sensor_type){case"WaitSensor":{i=new lc(n,e,t);break}case"KeySensor":{i=new ac(n,e,t);break}case"SliderSensor":{i=new ic(n,e,t);break}case"TextEntrySensor":{i=new sc(n,e,t);break}case"SelectSensor":{i=new cc(n,e,t);break}case"MultiSelectSensor":{i=new uc(n,e,t);break}case"ProductSensor":{i=new hc(n,e,t);break}case"SumSensor":{i=new dc(n,e,t);break}default:{const r=n;throw new Error(`Unknown Sensor provided: ${JSON.stringify(r)}`)}}return await i.prepare(),i}class fc{constructor(e,t,i,r,o){this.prepared=!1,this.started=!1,this.deferredAction=new tc,this.eventArray=o,this.boardView=new Ga(t.board_color,r),this.root=this.boardView.root,this.nodeAddress=e,this.node=t,this.scheduler=new Wa,this.assetManager=i}async prepare(){const e=this.boardView.pointerStream.subscribe(r=>{const o={event_type:"PointerSampledEvent",t:r.t,x:r.x,y:r.y,kind:r.sampleType};this.eventArray.push(o)}),t=this.boardView.keyStream.subscribe(r=>{const o={event_type:"KeySampledEvent",t:r.t,key:r.key,kind:r.sampleType};this.eventArray.push(o)});if(this.scheduler.scheduleOnStop(()=>{e(),t()}),this.node.card){const r=await Wt(this.node.card,this.boardView,this.assetManager);this.scheduler.scheduleEvent({triggerTimeMsec:0,triggerFunc:()=>{r.onStart()}}),this.scheduler.scheduleOnStop(()=>{r.onDestroy()})}const i=await ar(this.node.sensor,this.boardView,this.assetManager);i.subscribe(r=>{this.deferredAction.resolve(r)}),this.scheduler.scheduleEvent({triggerTimeMsec:0,triggerFunc:()=>{i.start()}}),this.node.hide_pointer&&(this.boardView.root.style.cursor="none"),this.prepared=!0}async run(){if(this.prepared||(console.warn("Running a NodePlay without preparing it first!"),await this.prepare()),this.started)throw new Error("NodePlay already started");this.boardView.setBoardState(!0,!0);const e={event_type:"NodeStartedEvent",t:this.boardView.clock.now(),node_address:this.nodeAddress,node:this.node};this.eventArray.push(e),this.started=!0,this.scheduler.start();const t=await this.deferredAction.promise,i={event_type:"ActionTakenEvent",node_address:this.nodeAddress,action:t,t:this.boardView.clock.now()};this.eventArray.push(i),this.scheduler.stop();const o={event_type:"NodeEndedEvent",t:this.boardView.clock.now(),node_address:this.nodeAddress};return this.eventArray.push(o),t}}const Sn="0.2.3";var ii={exports:{}},lr,fo;function ri(){if(fo)return lr;fo=1;const n="2.0.0",e=256,t=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,r=e-6;return lr={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:r,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:n,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},lr}var cr,po;function si(){return po||(po=1,cr=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{}),cr}var go;function Tn(){return go||(go=1,(function(n,e){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:r}=ri(),o=si();e=n.exports={};const s=e.re=[],a=e.safeRe=[],l=e.src=[],c=e.safeSrc=[],u=e.t={};let p=0;const f="[a-zA-Z0-9-]",w=[["\\s",1],["\\d",r],[f,i]],_=V=>{for(const[Z,ie]of w)V=V.split(`${Z}*`).join(`${Z}{0,${ie}}`).split(`${Z}+`).join(`${Z}{1,${ie}}`);return V},b=(V,Z,ie)=>{const J=_(Z),ne=p++;o(V,ne,Z),u[V]=ne,l[ne]=Z,c[ne]=J,s[ne]=new RegExp(Z,ie?"g":void 0),a[ne]=new RegExp(J,ie?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),b("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${f}+`),b("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),b("FULL",`^${l[u.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),b("LOOSE",`^${l[u.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),b("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),b("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),b("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),b("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),b("COERCERTL",l[u.COERCE],!0),b("COERCERTLFULL",l[u.COERCEFULL],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",b("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",b("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ii,ii.exports)),ii.exports}var ur,mo;function hr(){if(mo)return ur;mo=1;const n=Object.freeze({loose:!0}),e=Object.freeze({});return ur=i=>i?typeof i!="object"?n:i:e,ur}var dr,wo;function bo(){if(wo)return dr;wo=1;const n=/^[0-9]+$/,e=(i,r)=>{const o=n.test(i),s=n.test(r);return o&&s&&(i=+i,r=+r),i===r?0:o&&!s?-1:s&&!o?1:i<r?-1:1};return dr={compareIdentifiers:e,rcompareIdentifiers:(i,r)=>e(r,i)},dr}var fr,Eo;function Le(){if(Eo)return fr;Eo=1;const n=si(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:t}=ri(),{safeRe:i,t:r}=Tn(),o=hr(),{compareIdentifiers:s}=bo();class a{constructor(c,u){if(u=o(u),c instanceof a){if(c.loose===!!u.loose&&c.includePrerelease===!!u.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>e)throw new TypeError(`version is longer than ${e} characters`);n("SemVer",c,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const p=c.trim().match(u.loose?i[r.LOOSE]:i[r.FULL]);if(!p)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>t||this.major<0)throw new TypeError("Invalid major version");if(this.minor>t||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>t||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const w=+f;if(w>=0&&w<t)return w}return f}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(n("SemVer.compare",this.version,this.options,c),!(c instanceof a)){if(typeof c=="string"&&c===this.version)return 0;c=new a(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof a||(c=new a(c,this.options)),s(this.major,c.major)||s(this.minor,c.minor)||s(this.patch,c.patch)}comparePre(c){if(c instanceof a||(c=new a(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let u=0;do{const p=this.prerelease[u],f=c.prerelease[u];if(n("prerelease compare",u,p,f),p===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(p===void 0)return-1;if(p===f)continue;return s(p,f)}while(++u)}compareBuild(c){c instanceof a||(c=new a(c,this.options));let u=0;do{const p=this.build[u],f=c.build[u];if(n("build compare",u,p,f),p===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(p===void 0)return-1;if(p===f)continue;return s(p,f)}while(++u)}inc(c,u,p){if(c.startsWith("pre")){if(!u&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(u){const f=`-${u}`.match(this.options.loose?i[r.PRERELEASELOOSE]:i[r.PRERELEASE]);if(!f||f[1]!==u)throw new Error(`invalid identifier: ${u}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",u,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",u,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",u,p),this.inc("pre",u,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",u,p),this.inc("pre",u,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[f];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);if(w===-1){if(u===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(u){let w=[u,f];p===!1&&(w=[u]),s(this.prerelease[0],u)===0?isNaN(this.prerelease[1])&&(this.prerelease=w):this.prerelease=w}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return fr=a,fr}var pr,vo;function Xt(){if(vo)return pr;vo=1;const n=Le();return pr=(t,i,r=!1)=>{if(t instanceof n)return t;try{return new n(t,i)}catch(o){if(!r)return null;throw o}},pr}var gr,yo;function pc(){if(yo)return gr;yo=1;const n=Xt();return gr=(t,i)=>{const r=n(t,i);return r?r.version:null},gr}var mr,ko;function gc(){if(ko)return mr;ko=1;const n=Xt();return mr=(t,i)=>{const r=n(t.trim().replace(/^[=v]+/,""),i);return r?r.version:null},mr}var wr,So;function mc(){if(So)return wr;So=1;const n=Le();return wr=(t,i,r,o,s)=>{typeof r=="string"&&(s=o,o=r,r=void 0);try{return new n(t instanceof n?t.version:t,r).inc(i,o,s).version}catch{return null}},wr}var br,To;function wc(){if(To)return br;To=1;const n=Xt();return br=(t,i)=>{const r=n(t,null,!0),o=n(i,null,!0),s=r.compare(o);if(s===0)return null;const a=s>0,l=a?r:o,c=a?o:r,u=!!l.prerelease.length;if(!!c.prerelease.length&&!u){if(!c.patch&&!c.minor)return"major";if(c.compareMain(l)===0)return c.minor&&!c.patch?"minor":"patch"}const f=u?"pre":"";return r.major!==o.major?f+"major":r.minor!==o.minor?f+"minor":r.patch!==o.patch?f+"patch":"prerelease"},br}var Er,_o;function bc(){if(_o)return Er;_o=1;const n=Le();return Er=(t,i)=>new n(t,i).major,Er}var vr,xo;function Ec(){if(xo)return vr;xo=1;const n=Le();return vr=(t,i)=>new n(t,i).minor,vr}var yr,Ro;function vc(){if(Ro)return yr;Ro=1;const n=Le();return yr=(t,i)=>new n(t,i).patch,yr}var kr,Ao;function yc(){if(Ao)return kr;Ao=1;const n=Xt();return kr=(t,i)=>{const r=n(t,i);return r&&r.prerelease.length?r.prerelease:null},kr}var Sr,Co;function Ge(){if(Co)return Sr;Co=1;const n=Le();return Sr=(t,i,r)=>new n(t,r).compare(new n(i,r)),Sr}var Tr,Io;function kc(){if(Io)return Tr;Io=1;const n=Ge();return Tr=(t,i,r)=>n(i,t,r),Tr}var _r,Oo;function Sc(){if(Oo)return _r;Oo=1;const n=Ge();return _r=(t,i)=>n(t,i,!0),_r}var xr,Lo;function Rr(){if(Lo)return xr;Lo=1;const n=Le();return xr=(t,i,r)=>{const o=new n(t,r),s=new n(i,r);return o.compare(s)||o.compareBuild(s)},xr}var Ar,No;function Tc(){if(No)return Ar;No=1;const n=Rr();return Ar=(t,i)=>t.sort((r,o)=>n(r,o,i)),Ar}var Cr,Po;function _c(){if(Po)return Cr;Po=1;const n=Rr();return Cr=(t,i)=>t.sort((r,o)=>n(o,r,i)),Cr}var Ir,Mo;function oi(){if(Mo)return Ir;Mo=1;const n=Ge();return Ir=(t,i,r)=>n(t,i,r)>0,Ir}var Or,$o;function Lr(){if($o)return Or;$o=1;const n=Ge();return Or=(t,i,r)=>n(t,i,r)<0,Or}var Nr,Do;function Bo(){if(Do)return Nr;Do=1;const n=Ge();return Nr=(t,i,r)=>n(t,i,r)===0,Nr}var Pr,Uo;function Vo(){if(Uo)return Pr;Uo=1;const n=Ge();return Pr=(t,i,r)=>n(t,i,r)!==0,Pr}var Mr,zo;function $r(){if(zo)return Mr;zo=1;const n=Ge();return Mr=(t,i,r)=>n(t,i,r)>=0,Mr}var Dr,Ho;function Br(){if(Ho)return Dr;Ho=1;const n=Ge();return Dr=(t,i,r)=>n(t,i,r)<=0,Dr}var Ur,Fo;function qo(){if(Fo)return Ur;Fo=1;const n=Bo(),e=Vo(),t=oi(),i=$r(),r=Lr(),o=Br();return Ur=(a,l,c,u)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof c=="object"&&(c=c.version),a===c;case"!==":return typeof a=="object"&&(a=a.version),typeof c=="object"&&(c=c.version),a!==c;case"":case"=":case"==":return n(a,c,u);case"!=":return e(a,c,u);case">":return t(a,c,u);case">=":return i(a,c,u);case"<":return r(a,c,u);case"<=":return o(a,c,u);default:throw new TypeError(`Invalid operator: ${l}`)}},Ur}var Vr,jo;function xc(){if(jo)return Vr;jo=1;const n=Le(),e=Xt(),{safeRe:t,t:i}=Tn();return Vr=(o,s)=>{if(o instanceof n)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;s=s||{};let a=null;if(!s.rtl)a=o.match(s.includePrerelease?t[i.COERCEFULL]:t[i.COERCE]);else{const w=s.includePrerelease?t[i.COERCERTLFULL]:t[i.COERCERTL];let _;for(;(_=w.exec(o))&&(!a||a.index+a[0].length!==o.length);)(!a||_.index+_[0].length!==a.index+a[0].length)&&(a=_),w.lastIndex=_.index+_[1].length+_[2].length;w.lastIndex=-1}if(a===null)return null;const l=a[2],c=a[3]||"0",u=a[4]||"0",p=s.includePrerelease&&a[5]?`-${a[5]}`:"",f=s.includePrerelease&&a[6]?`+${a[6]}`:"";return e(`${l}.${c}.${u}${p}${f}`,s)},Vr}var zr,Go;function Rc(){if(Go)return zr;Go=1;class n{constructor(){this.max=1e3,this.map=new Map}get(t){const i=this.map.get(t);if(i!==void 0)return this.map.delete(t),this.map.set(t,i),i}delete(t){return this.map.delete(t)}set(t,i){if(!this.delete(t)&&i!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(t,i)}return this}}return zr=n,zr}var Hr,Wo;function We(){if(Wo)return Hr;Wo=1;const n=/\s+/g;class e{constructor(R,U){if(U=r(U),R instanceof e)return R.loose===!!U.loose&&R.includePrerelease===!!U.includePrerelease?R:new e(R.raw,U);if(R instanceof o)return this.raw=R.value,this.set=[[R]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=R.trim().replace(n," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(M=>!b(M[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const M of this.set)if(M.length===1&&V(M[0])){this.set=[M];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let R=0;R<this.set.length;R++){R>0&&(this.formatted+="||");const U=this.set[R];for(let N=0;N<U.length;N++)N>0&&(this.formatted+=" "),this.formatted+=U[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(R){const N=((this.options.includePrerelease&&w)|(this.options.loose&&_))+":"+R,M=i.get(N);if(M)return M;const P=this.options.loose,q=P?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];R=R.replace(q,ht(this.options.includePrerelease)),s("hyphen replace",R),R=R.replace(l[c.COMPARATORTRIM],u),s("comparator trim",R),R=R.replace(l[c.TILDETRIM],p),s("tilde trim",R),R=R.replace(l[c.CARETTRIM],f),s("caret trim",R);let z=R.split(" ").map(X=>ie(X,this.options)).join(" ").split(/\s+/).map(X=>be(X,this.options));P&&(z=z.filter(X=>(s("loose invalid filter",X,this.options),!!X.match(l[c.COMPARATORLOOSE])))),s("range list",z);const Y=new Map,G=z.map(X=>new o(X,this.options));for(const X of G){if(b(X))return[X];Y.set(X.value,X)}Y.size>1&&Y.has("")&&Y.delete("");const ye=[...Y.values()];return i.set(N,ye),ye}intersects(R,U){if(!(R instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>Z(N,U)&&R.set.some(M=>Z(M,U)&&N.every(P=>M.every(q=>P.intersects(q,U)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new a(R,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(dt(this.set[U],R,this.options))return!0;return!1}}Hr=e;const t=Rc(),i=new t,r=hr(),o=ai(),s=si(),a=Le(),{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:p,caretTrimReplace:f}=Tn(),{FLAG_INCLUDE_PRERELEASE:w,FLAG_LOOSE:_}=ri(),b=A=>A.value==="<0.0.0-0",V=A=>A.value==="",Z=(A,R)=>{let U=!0;const N=A.slice();let M=N.pop();for(;U&&N.length;)U=N.every(P=>M.intersects(P,R)),M=N.pop();return U},ie=(A,R)=>(s("comp",A,R),A=re(A,R),s("caret",A),A=ne(A,R),s("tildes",A),A=F(A,R),s("xrange",A),A=yt(A,R),s("stars",A),A),J=A=>!A||A.toLowerCase()==="x"||A==="*",ne=(A,R)=>A.trim().split(/\s+/).map(U=>fe(U,R)).join(" "),fe=(A,R)=>{const U=R.loose?l[c.TILDELOOSE]:l[c.TILDE];return A.replace(U,(N,M,P,q,z)=>{s("tilde",A,N,M,P,q,z);let Y;return J(M)?Y="":J(P)?Y=`>=${M}.0.0 <${+M+1}.0.0-0`:J(q)?Y=`>=${M}.${P}.0 <${M}.${+P+1}.0-0`:z?(s("replaceTilde pr",z),Y=`>=${M}.${P}.${q}-${z} <${M}.${+P+1}.0-0`):Y=`>=${M}.${P}.${q} <${M}.${+P+1}.0-0`,s("tilde return",Y),Y})},re=(A,R)=>A.trim().split(/\s+/).map(U=>oe(U,R)).join(" "),oe=(A,R)=>{s("caret",A,R);const U=R.loose?l[c.CARETLOOSE]:l[c.CARET],N=R.includePrerelease?"-0":"";return A.replace(U,(M,P,q,z,Y)=>{s("caret",A,M,P,q,z,Y);let G;return J(P)?G="":J(q)?G=`>=${P}.0.0${N} <${+P+1}.0.0-0`:J(z)?P==="0"?G=`>=${P}.${q}.0${N} <${P}.${+q+1}.0-0`:G=`>=${P}.${q}.0${N} <${+P+1}.0.0-0`:Y?(s("replaceCaret pr",Y),P==="0"?q==="0"?G=`>=${P}.${q}.${z}-${Y} <${P}.${q}.${+z+1}-0`:G=`>=${P}.${q}.${z}-${Y} <${P}.${+q+1}.0-0`:G=`>=${P}.${q}.${z}-${Y} <${+P+1}.0.0-0`):(s("no pr"),P==="0"?q==="0"?G=`>=${P}.${q}.${z}${N} <${P}.${q}.${+z+1}-0`:G=`>=${P}.${q}.${z}${N} <${P}.${+q+1}.0-0`:G=`>=${P}.${q}.${z} <${+P+1}.0.0-0`),s("caret return",G),G})},F=(A,R)=>(s("replaceXRanges",A,R),A.split(/\s+/).map(U=>et(U,R)).join(" ")),et=(A,R)=>{A=A.trim();const U=R.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return A.replace(U,(N,M,P,q,z,Y)=>{s("xRange",A,N,M,P,q,z,Y);const G=J(P),ye=G||J(q),X=ye||J(z),$e=X;return M==="="&&$e&&(M=""),Y=R.includePrerelease?"-0":"",G?M===">"||M==="<"?N="<0.0.0-0":N="*":M&&$e?(ye&&(q=0),z=0,M===">"?(M=">=",ye?(P=+P+1,q=0,z=0):(q=+q+1,z=0)):M==="<="&&(M="<",ye?P=+P+1:q=+q+1),M==="<"&&(Y="-0"),N=`${M+P}.${q}.${z}${Y}`):ye?N=`>=${P}.0.0${Y} <${+P+1}.0.0-0`:X&&(N=`>=${P}.${q}.0${Y} <${P}.${+q+1}.0-0`),s("xRange return",N),N})},yt=(A,R)=>(s("replaceStars",A,R),A.trim().replace(l[c.STAR],"")),be=(A,R)=>(s("replaceGTE0",A,R),A.trim().replace(l[R.includePrerelease?c.GTE0PRE:c.GTE0],"")),ht=A=>(R,U,N,M,P,q,z,Y,G,ye,X,$e)=>(J(N)?U="":J(M)?U=`>=${N}.0.0${A?"-0":""}`:J(P)?U=`>=${N}.${M}.0${A?"-0":""}`:q?U=`>=${U}`:U=`>=${U}${A?"-0":""}`,J(G)?Y="":J(ye)?Y=`<${+G+1}.0.0-0`:J(X)?Y=`<${G}.${+ye+1}.0-0`:$e?Y=`<=${G}.${ye}.${X}-${$e}`:A?Y=`<${G}.${ye}.${+X+1}-0`:Y=`<=${Y}`,`${U} ${Y}`.trim()),dt=(A,R,U)=>{for(let N=0;N<A.length;N++)if(!A[N].test(R))return!1;if(R.prerelease.length&&!U.includePrerelease){for(let N=0;N<A.length;N++)if(s(A[N].semver),A[N].semver!==o.ANY&&A[N].semver.prerelease.length>0){const M=A[N].semver;if(M.major===R.major&&M.minor===R.minor&&M.patch===R.patch)return!0}return!1}return!0};return Hr}var Fr,Xo;function ai(){if(Xo)return Fr;Xo=1;const n=Symbol("SemVer ANY");class e{static get ANY(){return n}constructor(u,p){if(p=t(p),u instanceof e){if(u.loose===!!p.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),s("comparator",u,p),this.options=p,this.loose=!!p.loose,this.parse(u),this.semver===n?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(u){const p=this.options.loose?i[r.COMPARATORLOOSE]:i[r.COMPARATOR],f=u.match(p);if(!f)throw new TypeError(`Invalid comparator: ${u}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=n}toString(){return this.value}test(u){if(s("Comparator.test",u,this.options.loose),this.semver===n||u===n)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return o(u,this.operator,this.semver,this.options)}intersects(u,p){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,p).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,p).test(u.semver):(p=t(p),p.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||o(this.semver,"<",u.semver,p)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||o(this.semver,">",u.semver,p)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Fr=e;const t=hr(),{safeRe:i,t:r}=Tn(),o=qo(),s=si(),a=Le(),l=We();return Fr}var qr,Yo;function li(){if(Yo)return qr;Yo=1;const n=We();return qr=(t,i,r)=>{try{i=new n(i,r)}catch{return!1}return i.test(t)},qr}var jr,Ko;function Ac(){if(Ko)return jr;Ko=1;const n=We();return jr=(t,i)=>new n(t,i).set.map(r=>r.map(o=>o.value).join(" ").trim().split(" ")),jr}var Gr,Zo;function Cc(){if(Zo)return Gr;Zo=1;const n=Le(),e=We();return Gr=(i,r,o)=>{let s=null,a=null,l=null;try{l=new e(r,o)}catch{return null}return i.forEach(c=>{l.test(c)&&(!s||a.compare(c)===-1)&&(s=c,a=new n(s,o))}),s},Gr}var Wr,Jo;function Ic(){if(Jo)return Wr;Jo=1;const n=Le(),e=We();return Wr=(i,r,o)=>{let s=null,a=null,l=null;try{l=new e(r,o)}catch{return null}return i.forEach(c=>{l.test(c)&&(!s||a.compare(c)===1)&&(s=c,a=new n(s,o))}),s},Wr}var Xr,Qo;function Oc(){if(Qo)return Xr;Qo=1;const n=Le(),e=We(),t=oi();return Xr=(r,o)=>{r=new e(r,o);let s=new n("0.0.0");if(r.test(s)||(s=new n("0.0.0-0"),r.test(s)))return s;s=null;for(let a=0;a<r.set.length;++a){const l=r.set[a];let c=null;l.forEach(u=>{const p=new n(u.semver.version);switch(u.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!c||t(p,c))&&(c=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${u.operator}`)}}),c&&(!s||t(s,c))&&(s=c)}return s&&r.test(s)?s:null},Xr}var Yr,ea;function Lc(){if(ea)return Yr;ea=1;const n=We();return Yr=(t,i)=>{try{return new n(t,i).range||"*"}catch{return null}},Yr}var Kr,ta;function Zr(){if(ta)return Kr;ta=1;const n=Le(),e=ai(),{ANY:t}=e,i=We(),r=li(),o=oi(),s=Lr(),a=Br(),l=$r();return Kr=(u,p,f,w)=>{u=new n(u,w),p=new i(p,w);let _,b,V,Z,ie;switch(f){case">":_=o,b=a,V=s,Z=">",ie=">=";break;case"<":_=s,b=l,V=o,Z="<",ie="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(r(u,p,w))return!1;for(let J=0;J<p.set.length;++J){const ne=p.set[J];let fe=null,re=null;if(ne.forEach(oe=>{oe.semver===t&&(oe=new e(">=0.0.0")),fe=fe||oe,re=re||oe,_(oe.semver,fe.semver,w)?fe=oe:V(oe.semver,re.semver,w)&&(re=oe)}),fe.operator===Z||fe.operator===ie||(!re.operator||re.operator===Z)&&b(u,re.semver))return!1;if(re.operator===ie&&V(u,re.semver))return!1}return!0},Kr}var Jr,na;function Nc(){if(na)return Jr;na=1;const n=Zr();return Jr=(t,i,r)=>n(t,i,">",r),Jr}var Qr,ia;function Pc(){if(ia)return Qr;ia=1;const n=Zr();return Qr=(t,i,r)=>n(t,i,"<",r),Qr}var es,ra;function Mc(){if(ra)return es;ra=1;const n=We();return es=(t,i,r)=>(t=new n(t,r),i=new n(i,r),t.intersects(i,r)),es}var ts,sa;function $c(){if(sa)return ts;sa=1;const n=li(),e=Ge();return ts=(t,i,r)=>{const o=[];let s=null,a=null;const l=t.sort((f,w)=>e(f,w,r));for(const f of l)n(f,i,r)?(a=f,s||(s=f)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const c=[];for(const[f,w]of o)f===w?c.push(f):!w&&f===l[0]?c.push("*"):w?f===l[0]?c.push(`<=${w}`):c.push(`${f} - ${w}`):c.push(`>=${f}`);const u=c.join(" || "),p=typeof i.raw=="string"?i.raw:String(i);return u.length<p.length?u:i},ts}var ns,oa;function Dc(){if(oa)return ns;oa=1;const n=We(),e=ai(),{ANY:t}=e,i=li(),r=Ge(),o=(p,f,w={})=>{if(p===f)return!0;p=new n(p,w),f=new n(f,w);let _=!1;e:for(const b of p.set){for(const V of f.set){const Z=l(b,V,w);if(_=_||Z!==null,Z)continue e}if(_)return!1}return!0},s=[new e(">=0.0.0-0")],a=[new e(">=0.0.0")],l=(p,f,w)=>{if(p===f)return!0;if(p.length===1&&p[0].semver===t){if(f.length===1&&f[0].semver===t)return!0;w.includePrerelease?p=s:p=a}if(f.length===1&&f[0].semver===t){if(w.includePrerelease)return!0;f=a}const _=new Set;let b,V;for(const F of p)F.operator===">"||F.operator===">="?b=c(b,F,w):F.operator==="<"||F.operator==="<="?V=u(V,F,w):_.add(F.semver);if(_.size>1)return null;let Z;if(b&&V){if(Z=r(b.semver,V.semver,w),Z>0)return null;if(Z===0&&(b.operator!==">="||V.operator!=="<="))return null}for(const F of _){if(b&&!i(F,String(b),w)||V&&!i(F,String(V),w))return null;for(const et of f)if(!i(F,String(et),w))return!1;return!0}let ie,J,ne,fe,re=V&&!w.includePrerelease&&V.semver.prerelease.length?V.semver:!1,oe=b&&!w.includePrerelease&&b.semver.prerelease.length?b.semver:!1;re&&re.prerelease.length===1&&V.operator==="<"&&re.prerelease[0]===0&&(re=!1);for(const F of f){if(fe=fe||F.operator===">"||F.operator===">=",ne=ne||F.operator==="<"||F.operator==="<=",b){if(oe&&F.semver.prerelease&&F.semver.prerelease.length&&F.semver.major===oe.major&&F.semver.minor===oe.minor&&F.semver.patch===oe.patch&&(oe=!1),F.operator===">"||F.operator===">="){if(ie=c(b,F,w),ie===F&&ie!==b)return!1}else if(b.operator===">="&&!i(b.semver,String(F),w))return!1}if(V){if(re&&F.semver.prerelease&&F.semver.prerelease.length&&F.semver.major===re.major&&F.semver.minor===re.minor&&F.semver.patch===re.patch&&(re=!1),F.operator==="<"||F.operator==="<="){if(J=u(V,F,w),J===F&&J!==V)return!1}else if(V.operator==="<="&&!i(V.semver,String(F),w))return!1}if(!F.operator&&(V||b)&&Z!==0)return!1}return!(b&&ne&&!V&&Z!==0||V&&fe&&!b&&Z!==0||oe||re)},c=(p,f,w)=>{if(!p)return f;const _=r(p.semver,f.semver,w);return _>0?p:_<0||f.operator===">"&&p.operator===">="?f:p},u=(p,f,w)=>{if(!p)return f;const _=r(p.semver,f.semver,w);return _<0?p:_>0||f.operator==="<"&&p.operator==="<="?f:p};return ns=o,ns}var is,aa;function Bc(){if(aa)return is;aa=1;const n=Tn(),e=ri(),t=Le(),i=bo(),r=Xt(),o=pc(),s=gc(),a=mc(),l=wc(),c=bc(),u=Ec(),p=vc(),f=yc(),w=Ge(),_=kc(),b=Sc(),V=Rr(),Z=Tc(),ie=_c(),J=oi(),ne=Lr(),fe=Bo(),re=Vo(),oe=$r(),F=Br(),et=qo(),yt=xc(),be=ai(),ht=We(),dt=li(),A=Ac(),R=Cc(),U=Ic(),N=Oc(),M=Lc(),P=Zr(),q=Nc(),z=Pc(),Y=Mc(),G=$c(),ye=Dc();return is={parse:r,valid:o,clean:s,inc:a,diff:l,major:c,minor:u,patch:p,prerelease:f,compare:w,rcompare:_,compareLoose:b,compareBuild:V,sort:Z,rsort:ie,gt:J,lt:ne,eq:fe,neq:re,gte:oe,lte:F,cmp:et,coerce:yt,Comparator:be,Range:ht,satisfies:dt,toComparators:A,maxSatisfying:R,minSatisfying:U,minVersion:N,validRange:M,outside:P,gtr:q,ltr:z,intersects:Y,simplifyRange:G,subset:ye,SemVer:t,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},is}var rs=Bc();class Uc{constructor(e){this.onEventCallback=e,this.events=[]}push(e){this.events.push(e),this.onEventCallback(e)}}function Vc(n,e=null){const t=n,i=t?.stack?t.stack.split(`
`).map(r=>r.trim()).filter(Boolean):void 0;return{title:"NodeKit Error Report",timestamp:new Date().toISOString(),url:typeof window<"u"?window.location.href:"unknown",userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",context:e,error:t?{name:t.name||"Error",message:t.message||String(t),stack:i}:{name:"UnknownError",message:"Unknown error"}}}function Te(n,e){switch(n.op){case"reg":{if(!(n.id in e.graphRegisters))throw new Error(`Graph Register '${n.id}' not found`);return e.graphRegisters[n.id]}case"creg":{if(e.lastSubgraphRegisters===null)throw new Error("No last subgraph registers available for 'creg'");if(!(n.id in e.lastSubgraphRegisters))throw new Error(`Child Graph Register '${n.id}' not found`);return e.lastSubgraphRegisters[n.id]}case"la":{if(e.lastAction===null)throw new Error("No last action available for 'la'");return e.lastAction.action_value}case"gdv":{const t=Te(n.d,e);if(typeof t!="object"||t===null||Array.isArray(t))throw new Error(`gdv: dict must be object, got '${typeof t}'`);const i=Te(n.key,e);if(typeof i!="string")throw new Error(`gdv: key must be string, got '${typeof i}'`);if(!(i in t))throw new Error(`gdv: key '${i}' not found in dict`);return t[i]}case"lit":return n.value;case"if":return Te(n.cond,e)?Te(n.then,e):Te(n.otherwise,e);case"not":return!Te(n.operand,e);case"and":{for(const t of n.args){const i=Te(t,e);if(typeof i!="boolean")throw new Error(`and: all args must be boolean, got '${typeof i}'`);if(!i)return!1}return!0}case"or":{for(const t of n.args){const i=Te(t,e);if(typeof i!="boolean")throw new Error(`or: all args must be boolean, got '${typeof i}'`);if(i)return!0}return!1}case"eq":{const t=Te(n.lhs,e),i=Te(n.rhs,e);return t===i}case"ne":{const t=Te(n.lhs,e),i=Te(n.rhs,e);return t!==i}case"gt":case"ge":case"lt":case"le":{const t=Te(n.lhs,e),i=Te(n.rhs,e);if(typeof t!=typeof i)throw new Error(`${n.op}: lhs and rhs must have same type, got '${typeof t}' and '${typeof i}'`);if(typeof t!="number"&&typeof t!="string")throw new Error(`${n.op}: only number or string comparison supported, got '${typeof t}'`);switch(n.op){case"gt":return t>i;case"ge":return t>=i;case"lt":return t<i;case"le":return t<=i;default:const r=n;throw new Error(`Unsupported comparator op: ${r.op}`)}}case"add":case"sub":case"mul":case"div":{const t=Te(n.lhs,e),i=Te(n.rhs,e);if(typeof t!="number"||typeof i!="number")throw new Error(`${n.op}: operands must be numbers, got '${typeof t}' and '${typeof i}'`);switch(n.op){case"add":return t+i;case"sub":return t-i;case"mul":return t*i;case"div":if(i===0)throw new Error("div: division by zero");return t/i;default:const r=n;throw new Error(`Unsupported arithmetic op: ${r.op}`)}}default:{const t=n;throw new Error(`Unsupported expression op: ${t.op}`)}}}function ss(n){const{transition:e,registers:t,lastAction:i,lastSubgraphRegisters:r}=n;switch(e.transition_type){case"Go":case"End":{const s={};for(const[a,l]of Object.entries(e.register_updates))s[a]=Te(l,{graphRegisters:t,lastAction:i,lastSubgraphRegisters:r});if(e.transition_type==="Go")return{nextNodeId:e.to,registerUpdates:s};if(e.transition_type==="End")return{nextNodeId:null,registerUpdates:s};{const a=e;throw new Error(`Unhandled transition: ${JSON.stringify(a)}`)}}case"IfThenElse":return Te(e.if,{graphRegisters:t,lastAction:i,lastSubgraphRegisters:r})?ss({transition:e.then,registers:t,lastAction:i,lastSubgraphRegisters:r}):ss({transition:e.else,registers:t,lastAction:i,lastSubgraphRegisters:r});default:const o=e;throw new Error(`Unhandled transition: ${JSON.stringify(o)}`)}}function la(){let n={platform:"None"};if(typeof window>"u"||!window.location)return{nodekitSubmitTo:null,externalPlatformContext:n};const t=new URLSearchParams(window.location.search).get("nodekitSubmitTo"),i=zc(),r=Hc();if(i&&r){const o=new Error("Multiple platform contexts detected.");throw o.name="BadPlatformContextError",o}if(r&&!t){const o=new Error("nodekitSubmitTo is required when using Prolific.");throw o.name="BadPlatformContextError",o}return i?n=i:r&&(n=r),{nodekitSubmitTo:t,externalPlatformContext:n}}function zc(){const n=new URLSearchParams(window.location.search),e=n.get("assignmentId"),t=n.get("hitId"),i=n.get("workerId"),r=n.get("turkSubmitTo");if(!(e!==null||t!==null||i!==null||r!==null))return null;if(e==="ASSIGNMENT_ID_NOT_AVAILABLE")return{platform:"MechanicalTurkPreviewMode"};if(!r||!t||!e||!i){const l=new Error("Missing required parameters in the query for MTurk platform.");throw l.name="BadPlatformContextError",l}return{platform:"MechanicalTurk",assignment_id:e,worker_id:i,hit_id:t,turk_submit_to:r}}function Hc(){const n=new URLSearchParams(window.location.search),e=n.get("PROLIFIC_PID"),t=n.get("STUDY_ID"),i=n.get("SESSION_ID"),r=n.get("prolificCompletionCode");if(!(e!==null||t!==null||i!==null||r!==null))return null;if(!e||!t||!i||!r){const s=new Error("Missing required parameters in the query for Prolific platform.");throw s.name="BadPlatformContextError",s}return{platform:"Prolific",completion_code:r,prolific_pid:e,study_id:t,session_id:i}}function Fc(n){let e="";for(let i=0;i<n.length;i+=32768)e+=String.fromCharCode(...n.subarray(i,i+32768));return btoa(e)}async function qc(n){const e=JSON.stringify(n),t=new Blob([e]).stream().pipeThrough(new CompressionStream("gzip")),i=new Uint8Array(await new Response(t).arrayBuffer());return Fc(i)}async function jc(n,e){let t=null;const{nodekitSubmitTo:i,externalPlatformContext:r}=e,s={trace_gzipped_base64:await qc(n),platform_context:r};if(i){const a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){const l=await a.text();t=new Error(`Submission failed with status ${a.status}`),t.name="SubmissionError",t.responseStatus=a.status,t.responseBody=l}}if(r.platform==="MechanicalTurk"&&Gc(s,e),r.platform==="Prolific"){const a=new URL("https://app.prolific.com/submissions/complete");a.searchParams.set("cc",r.completion_code),window.location.assign(a.toString())}if(t)throw t}function Gc(n,e){const t=e.externalPlatformContext.turk_submit_to,i=e.externalPlatformContext.assignment_id,r=document.createElement("form");r.action=new URL("mturk/externalSubmit",t).href,r.method="post";const o=document.createElement("input");o.name="assignmentId",o.value=i,o.hidden=!0,r.appendChild(o);const s=document.createElement("input");s.name="nodekitSubmissionPayload",s.value=JSON.stringify(n),s.hidden=!0,r.appendChild(s),document.body.appendChild(r),r.submit()}async function Wc(n,e=i=>{},t=!1){const i=Ia(),r=new Ha;i.appendChild(r.root);const o=Fa();i.appendChild(o);let s=null;try{let a=function(){if(document.visibilityState==="hidden"){const b={event_type:"PageSuspendedEvent",t:l.now()};c.push(b)}else if(document.visibilityState==="visible"){const b={event_type:"PageResumedEvent",t:l.now()};c.push(b)}};if(s=la(),s.externalPlatformContext.platform==="MechanicalTurkPreviewMode"){r.showConsoleMessageOverlay("Mechanical Turk Preview Mode","Accept the HIT to continue.");return}const l=new ga;l.start();const c=new Uc(e);if(rs.gt(n.nodekit_version,Sn)||rs.major(n.nodekit_version)!==rs.major(Sn))throw new Error(`Incompatible NodeKit version requested: ${n.nodekit_version}, Runtime version: ${Sn}`);if(!Ca())throw new Error("Unsupported device for NodeKit. Please use a desktop browser.");r.showSessionConnectingOverlay();const u=new Oa;r.hideSessionConnectingOverlay(),t||await r.playStartScreen();const p={event_type:"TraceStartedEvent",t:0};c.push(p),document.addEventListener("visibilitychange",a);const f=ma(l);c.push(f),await ca(n,[],{eventArray:c,boardViewsContainerDiv:o,assetManager:u,clock:l});const w={event_type:"TraceEndedEvent",t:l.now()};c.push(w),document.removeEventListener("visibilitychange",a);const _={nodekit_version:Sn,events:c.events};await r.playEndScreen(),await jc(_,s),r.showConsoleMessageOverlay("Trace","",_);return}catch(a){let l=s;if(!l)try{l=la()}catch(u){l={error:String(u)}}const c=Vc(a,{nodekitVersion:Sn,graphVersion:n.nodekit_version,debugMode:t,submissionTarget:l});throw r.showConsoleMessageOverlay("Something went wrong. ","Please copy the error report below and email it to the requester.",c),a}}async function ca(n,e,t){const i=n.nodes,r={...n.registers};let o=n.start,s=null,a=null;for(;;){const l=i[o],c=[...e,o];if(l.type==="Graph")a=await ca(l,c,t);else if(l.type==="Node"){const w=new fc(c,l,t.assetManager,t.clock,t.eventArray);t.boardViewsContainerDiv.appendChild(w.root),await w.prepare(),s=await w.run()}else throw new Error(`Unknown node type: ${l.type}`);for(;t.boardViewsContainerDiv.firstChild;)t.boardViewsContainerDiv.removeChild(t.boardViewsContainerDiv.firstChild);if(!(o in n.transitions))break;let u=null;const p=n.transitions[o],f=ss({transition:p,registers:r,lastAction:s,lastSubgraphRegisters:a});if(u=f.nextNodeId,u===null)break;o=u;for(const[w,_]of Object.entries(f.registerUpdates))r[w]=_;a=null,s=null}return r}return ki.play=Wc,Object.defineProperty(ki,Symbol.toStringTag,{value:"Module"}),ki})({});

[project]
name = "fluidattacks-core"
version = "5.0.1"
description = "Fluid Attacks Core Library"
authors = [{ name = "Development", email = "development@fluidattacks.com" }]
license = { text = "MPL-2.0" }
readme = "README.md"
classifiers = [
  "Development Status :: 1 - Planning",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: Mozilla Public License 2.0 (MPL 2.0)",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.11",
  "Topic :: Software Development :: Libraries",
]
requires-python = ">=3.11"

# NOTE: Global dependencies are not allowed.
# Dependencies should be added to the specific extra.
dependencies = []

[project.optional-dependencies]
aio = ["uvloop>=0.21.0"]
authz = []
git = [
  "aiohttp>=3.10.0",
  "aiofiles>=23.2.1",
  "boto3>=1.34",
  "botocore>=1.40.18",
  "GitPython>=3.1.41",
  "pathspec>=0.12.1",
  "urllib3>=2.6.1",
]
http = ["aiohttp>=3.10.0", "certifi>=2024.8.30", "urllib3>=2.6.1"]
logging = ["simplejson>=3.20.1", "python-json-logger>=3.3.0"]
serializers = [
  "more-itertools>=10.0.0",
  "tree-sitter-c-sharp>=0.23.1",
  "tree-sitter-go>=0.23.4",
  "tree-sitter-html>=0.23.2",
  "tree-sitter-java>=0.23.4",
  "tree-sitter-javascript>=0.23.1",
  "tree-sitter-json>=0.24.8",
  "tree-sitter-kotlin>=1.0.1",
  "tree-sitter-php==0.23.11",
  "tree-sitter-python>=0.23.4",
  "tree-sitter-typescript>=0.23.2",
  "tree-sitter-xml>=0.7.0",
  "tree-sitter-yaml>=0.7.0",
  "tree-sitter>=0.25.2",
  "tree-sitter-dart-orchard==0.3.2",
]
cpg = ["aioboto3>=13.3.0", "platformdirs>=4.3.8"]
filesystem = []
sarif = ["pydantic>=2.12.3"]
semver = []
all = [
  "fluidattacks-core[aio]",
  "fluidattacks-core[authz]",
  "fluidattacks-core[cpg]",
  "fluidattacks-core[filesystem]",
  "fluidattacks-core[git]",
  "fluidattacks-core[http]",
  "fluidattacks-core[logging]",
  "fluidattacks-core[sarif]",
  "fluidattacks-core[semver]",
  "fluidattacks-core[serializers]",
]

[dependency-groups]
dev = [
  "boto3-stubs[essential,dynamodbstreams,sts]>=1.34.0",
  "botocore-stubs==1.35.71",
  "datamodel-code-generator>=0.35.0",
  "deptry==0.24.0",
  "import-linter==2.5.2",
  "mypy==1.18.2",
  "pytest-asyncio>=1.1.0",
  "pytest==8.4.1",
  "ruff==0.14.0",
  "types-aioboto3[s3]>=15.1.0",
  "types-aiofiles==24.1.0.20240626",
  "types-simplejson>=3.20.0.20250822",
]

[tool.setuptools]
include-package-data = true

[tool.setuptools.packages.find]
include = ["fluidattacks_core*"]

[tool.setuptools.package-data]
"fluidattacks_core.sarif" = ["__init__.py"]

[tool.deptry]
extend_exclude = ["^test/.*"]
known_first_party = ["fluidattacks_core"]

[tool.deptry.per_rule_ignores]
DEP002 = [
  "tree-sitter-c-sharp",
  "tree-sitter-go",
  "tree-sitter-html",
  "tree-sitter-java",
  "tree-sitter-javascript",
  "tree-sitter-json",
  "tree-sitter-kotlin",
  "tree-sitter-php",
  "tree-sitter-python",
  "tree-sitter-typescript",
  "tree-sitter-xml",
  "tree-sitter-yaml",
  "tree-sitter-dart-orchard",
]

[build-system]
requires = ["setuptools>=69", "wheel"]
build-backend = "setuptools.build_meta"

Metadata-Version: 2.4
Name: croupier-sdk
Version: 0.1.0
Summary: Croupier Python SDK for Game Function Registration and File Transfer
Home-page: https://github.com/cuihairu/croupier-sdk-python
Author: cuihairu
Author-email: cuihairu <chuihairu@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/cuihairu/croupier-sdk-python
Project-URL: Repository, https://github.com/cuihairu/croupier-sdk-python
Project-URL: Documentation, https://docs.croupier.io/sdk/python
Project-URL: Bug Tracker, https://github.com/cuihairu/croupier-sdk-python/issues
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.12
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: grpcio<2.0.0,>=1.69.0
Requires-Dist: protobuf<6.0.0,>=5.29.5
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: flake8>=6.0.0; extra == "dev"
Requires-Dist: mypy>=1.5.0; extra == "dev"
Requires-Dist: types-protobuf>=5.0.0; extra == "dev"
Requires-Dist: types-grpcio>=1.0.0; extra == "dev"
Provides-Extra: monitoring
Requires-Dist: prometheus-client>=0.17.0; extra == "monitoring"
Requires-Dist: structlog>=23.0.0; extra == "monitoring"
Provides-Extra: web
Requires-Dist: uvicorn>=0.23.0; extra == "web"
Requires-Dist: gunicorn>=21.0.0; extra == "web"
Requires-Dist: fastapi>=0.100.0; extra == "web"
Dynamic: author
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

<p align="center">
  <h1 align="center">Croupier Python SDK</h1>
  <p align="center">
    <strong>åŒæ­¥ Python SDKï¼Œç”¨äº Croupier æ¸¸æˆå‡½æ•°æ³¨å†Œä¸æ‰§è¡Œç³»ç»Ÿ</strong>
  </p>
</p>

<p align="center">
  <a href="https://github.com/cuihairu/croupier-sdk-python/actions/workflows/nightly.yml">
    <img src="https://github.com/cuihairu/croupier-sdk-python/actions/workflows/nightly.yml/badge.svg" alt="Nightly Build">
  </a>
  <a href="https://codecov.io/gh/cuihairu/croupier-sdk-python">
    <img src="https://codecov.io/gh/cuihairu/croupier-sdk-python/branch/main/graph/badge.svg" alt="Coverage">
  </a>
  <a href="https://www.apache.org/licenses/LICENSE-2.0">
    <img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License">
  </a>
  <a href="https://www.python.org/">
    <img src="https://img.shields.io/badge/Python-3.12+-3776AB.svg" alt="Python Version">
  </a>
</p>

<p align="center">
  <a href="#">
    <img src="https://img.shields.io/badge/platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey.svg" alt="Platform">
  </a>
  <a href="https://github.com/cuihairu/croupier">
    <img src="https://img.shields.io/badge/Main%20Project-Croupier-green.svg" alt="Main Project">
  </a>
</p>

---

## ç®€ä»‹

Croupier Python SDK æ˜¯ [Croupier](https://github.com/cuihairu/croupier) æ¸¸æˆåç«¯å¹³å°çš„å®˜æ–¹ Python å®¢æˆ·ç«¯å®ç°ã€‚å®ƒæä¾›äº†åŒæ­¥çš„ gRPC é€šä¿¡ã€å¿ƒè·³ç»´æŠ¤ã€çº¿ç¨‹å®‰å…¨çš„ä½œä¸šçŠ¶æ€ç®¡ç†ä»¥åŠ Provider Manifest ä¸Šä¼ åŠŸèƒ½ã€‚

## ç³»ç»Ÿè¦æ±‚

- **Python** â‰¥ 3.12
- **grpcio**, **protobuf**

## å®‰è£…

### ä½¿ç”¨ pipï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰

```bash
cd sdks/python
python -m venv .venv
source .venv/bin/activate
python -m pip install -U pip
python -m pip install -e .
```

### ä½¿ç”¨ uvï¼ˆæ¨èï¼Œæ›´å¿«é€Ÿï¼‰

```bash
pip install uv
cd croupier-sdk-python
uv sync --dev --all-extras
```

## å¿«é€Ÿå¼€å§‹

```python
import json
from croupier import CroupierClient, ClientConfig, FunctionDescriptor

config = ClientConfig(
    agent_addr="127.0.0.1:19090",
    control_addr="127.0.0.1:18080",
    service_id="python-demo",
    service_version="1.0.0",
)

client = CroupierClient(config)

def player_ban(_context: str, payload: bytes) -> str:
    req = json.loads(payload.decode("utf-8"))
    return json.dumps({
        "status": "ok",
        "player_id": req["player_id"],
    })

client.register_function(FunctionDescriptor(id="player.ban", version="1.0.0"), player_ban)
client.connect()
print("âœ… python-demo å·²æ³¨å†Œå¹¶æ­£åœ¨æœåŠ¡ gRPC æµé‡")
```

## å¼€å‘æŒ‡å—

### ä½¿ç”¨ uv å¼€å‘ï¼ˆæ¨èï¼‰

```bash
pip install uv
uv sync --dev --all-extras
uv run pytest
uv run python examples/main.py
uv build
```

### ä½¿ç”¨ pip å¼€å‘

```bash
python -m venv .venv
source .venv/bin/activate
python -m pip install -e ".[dev]"
python -m pytest
python examples/main.py
```

## å…¶ä»–è¯­è¨€ SDK

| è¯­è¨€ | ä»“åº“ | Nightly | Release | Docs | Coverage |
| --- | --- | --- | --- | --- | --- |
| C++ | [croupier-sdk-cpp](https://github.com/cuihairu/croupier-sdk-cpp) | [![nightly](https://github.com/cuihairu/croupier-sdk-cpp/actions/workflows/nightly.yml/badge.svg)](https://github.com/cuihairu/croupier-sdk-cpp/actions/workflows/nightly.yml) | [![release](https://img.shields.io/github/v/release/cuihairu/croupier-sdk-cpp)](https://github.com/cuihairu/croupier-sdk-cpp/releases) | [![docs](https://img.shields.io/badge/docs-GitHub%20Pages-blue)](https://cuihairu.github.io/croupier-sdk-cpp/) | [![codecov](https://codecov.io/gh/cuihairu/croupier-sdk-cpp/branch/main/graph/badge.svg)](https://codecov.io/gh/cuihairu/croupier-sdk-cpp) |
| Go | [croupier-sdk-go](https://github.com/cuihairu/croupier-sdk-go) | [![nightly](https://github.com/cuihairu/croupier-sdk-go/actions/workflows/nightly.yml/badge.svg)](https://github.com/cuihairu/croupier-sdk-go/actions/workflows/nightly.yml) | [![release](https://img.shields.io/github/v/release/cuihairu/croupier-sdk-go)](https://github.com/cuihairu/croupier-sdk-go/releases) | [![docs](https://img.shields.io/badge/docs-GitHub%20Pages-blue)](https://cuihairu.github.io/croupier-sdk-go/) | [![codecov](https://codecov.io/gh/cuihairu/croupier-sdk-go/branch/main/graph/badge.svg)](https://codecov.io/gh/cuihairu/croupier-sdk-go) |
| Java | [croupier-sdk-java](https://github.com/cuihairu/croupier-sdk-java) | [![nightly](https://github.com/cuihairu/croupier-sdk-java/actions/workflows/nightly.yml/badge.svg)](https://github.com/cuihairu/croupier-sdk-java/actions/workflows/nightly.yml) | [![release](https://img.shields.io/github/v/release/cuihairu/croupier-sdk-java)](https://github.com/cuihairu/croupier-sdk-java/releases) | [![docs](https://img.shields.io/badge/docs-GitHub%20Pages-blue)](https://cuihairu.github.io/croupier-sdk-java/) | [![codecov](https://codecov.io/gh/cuihairu/croupier-sdk-java/branch/main/graph/badge.svg)](https://codecov.io/gh/cuihairu/croupier-sdk-java) |
| JS/TS | [croupier-sdk-js](https://github.com/cuihairu/croupier-sdk-js) | [![nightly](https://github.com/cuihairu/croupier-sdk-js/actions/workflows/nightly.yml/badge.svg)](https://github.com/cuihairu/croupier-sdk-js/actions/workflows/nightly.yml) | [![release](https://img.shields.io/github/v/release/cuihairu/croupier-sdk-js)](https://github.com/cuihairu/croupier-sdk-js/releases) | [![docs](https://img.shields.io/badge/docs-GitHub%20Pages-blue)](https://cuihairu.github.io/croupier-sdk-js/) | [![codecov](https://codecov.io/gh/cuihairu/croupier-sdk-js/branch/main/graph/badge.svg)](https://codecov.io/gh/cuihairu/croupier-sdk-js) |
| C# | [croupier-sdk-csharp](https://github.com/cuihairu/croupier-sdk-csharp) | [![nightly](https://github.com/cuihairu/croupier-sdk-csharp/actions/workflows/nightly.yml/badge.svg)](https://github.com/cuihairu/croupier-sdk-csharp/actions/workflows/nightly.yml) | [![release](https://img.shields.io/github/v/release/cuihairu/croupier-sdk-csharp)](https://github.com/cuihairu/croupier-sdk-csharp/releases) | [![docs](https://img.shields.io/badge/docs-GitHub%20Pages-blue)](https://cuihairu.github.io/croupier-sdk-csharp/) | [![codecov](https://codecov.io/gh/cuihairu/croupier-sdk-csharp/branch/main/graph/badge.svg)](https://codecov.io/gh/cuihairu/croupier-sdk-csharp) |
| Lua | [croupier-sdk-cpp](https://github.com/cuihairu/croupier-sdk-cpp) | - | - | [![docs](https://img.shields.io/badge/docs-GitHub%20Pages-blue)](https://cuihairu.github.io/croupier-sdk-cpp/) | - |

## è´¡çŒ®æŒ‡å—

1. ç¡®ä¿æ‰€æœ‰ç±»å‹ä¸ proto å®šä¹‰å¯¹é½
2. ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•
3. æ›´æ–° API å˜æ›´çš„æ–‡æ¡£
4. éµå¾ª Python ç¼–ç è§„èŒƒï¼ˆPEP 8ï¼‰

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ issue æˆ– PRã€‚ğŸ’¡

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) å¼€æºåè®®ã€‚

---

<p align="center">
  <a href="https://github.com/cuihairu/croupier">ğŸ  ä¸»é¡¹ç›®</a> â€¢
  <a href="https://github.com/cuihairu/croupier-sdk-python/issues">ğŸ› é—®é¢˜åé¦ˆ</a> â€¢
  <a href="https://github.com/cuihairu/croupier/discussions">ğŸ’¬ è®¨è®ºåŒº</a>
</p>

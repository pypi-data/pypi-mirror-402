{% extends 'django_forms_workflows/base.html' %}

{% block title %}Sign In - SSO{% endblock %}

{% block content %}
<div class="row justify-content-center mt-5">
  <div class="col-md-6 col-lg-5">
    <div class="card shadow-sm">
      <div class="card-body p-4 p-md-5">
        <div class="text-center mb-4">
          <h2 class="fw-bold">Sign In</h2>
          <p class="text-muted mb-0">Choose your sign-in method</p>
        </div>

        {% if messages %}
          {% for message in messages %}
          <div class="alert alert-{{ message.tags }}" role="alert">
            {{ message }}
          </div>
          {% endfor %}
        {% endif %}

        <div class="d-grid gap-3">
          {% for provider in providers %}
          <a href="{% url 'social:begin' provider.name %}?next={{ next|urlencode }}"
             class="btn btn-lg {{ provider.button_class }}">
            <i class="{{ provider.icon_class }} me-2"></i>
            Sign in with {{ provider.display_name }}
          </a>
          {% empty %}
          <div class="alert alert-warning" role="alert">
            <i class="bi bi-exclamation-triangle me-2"></i>
            No SSO providers are configured. Please contact your administrator.
          </div>
          {% endfor %}
        </div>

        <hr class="my-4">

        <div class="text-center">
          <a href="{% url 'login' %}?next={{ next|urlencode }}" class="text-muted">
            <i class="bi bi-arrow-left me-1"></i>
            Sign in with username/password instead
          </a>
        </div>

        <hr class="my-4">

        <div class="text-center">
          <p class="text-muted small mb-0">
            <i class="bi bi-info-circle me-1"></i>
            Trouble logging in? Contact your administrator.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}


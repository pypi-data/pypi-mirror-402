query accountSnapshot ( $siteIDs:[ID!] $userIDs:[ID!]) {
	accountSnapshot ( ) {
		id
		sites ( siteIDs:$siteIDs  )  {
			id
			protoId
			connectivityStatus
			haStatus {
				readiness
				wanConnectivity
				keepalive
				socketVersion
			}
			operationalStatus
			lastConnected
			connectedSince
			popName
			devices {
				id
				name
				identifier
				connected
				haRole
				interfaces {
					connected
					id
					name
					physicalPort
					naturalOrder
					popName
					previousPopID
					previousPopName
					tunnelConnectionReason
					tunnelUptime
					tunnelRemoteIP
					tunnelRemoteIPInfo {
						ip
						countryCode
						countryName
						city
						state
						provider
						latitude
						longitude
					}
					type
					info {
						id
						name
						upstreamBandwidth
						downstreamBandwidth
						upstreamBandwidthMbpsPrecision
						downstreamBandwidthMbpsPrecision
						destType
						wanRole
					}
					cellularInterfaceInfo {
						networkType
						simSlotId
						modemStatus
						isModemConnected
						iccid
						imei
						operatorName
						isModemSuspended
						apn
						apnSelectionMethod
						signalStrength
						isRoamingAllowed
						simNumber
						disconnectionReason
						isSimSlot1Detected
						isSimSlot2Detected
					}
					bgpState
				}
				lastConnected
				lastDuration
				connectedSince
				lastPopID
				lastPopName
				recentConnections {
					duration
					interfaceName
					deviceName
					lastConnected
					popName
					remoteIP
					remoteIPInfo {
						ip
						countryCode
						countryName
						city
						state
						provider
						latitude
						longitude
					}
				}
				type
				deviceUptime
				socketInfo {
					id
					serial
					isPrimary
					platform
					version
					versionUpdateTime
				}
				interfacesLinkState {
					id
					up
					mediaIn
					linkSpeed
					duplex
					hasAddress
					hasInternet
					hasTunnel
				}
				osType
				osVersion
				version
				versionNumber
				releaseGroup
				mfaExpirationTime
				mfaCreationTime
				internalIP
			}
			info {
				name
				type
				description
				countryCode
				region
				countryName
				countryStateName
				cityName
				address
				isHA
				connType
				creationTime
				interfaces {
					id
					name
					upstreamBandwidth
					downstreamBandwidth
					upstreamBandwidthMbpsPrecision
					downstreamBandwidthMbpsPrecision
					destType
					wanRole
				}
				sockets {
					id
					serial
					isPrimary
					platform
					version
					versionUpdateTime
				}
				ipsec {
					isPrimary
					catoIP
					remoteIP
					ikeVersion
					tunnelConfig {
						tunnelId
						tunnelRemoteIdentifier
						localId
					}
				}
			}
			hostCount
			altWanStatus
			degradedStatus {
				isDegraded
				degradedDetails {
					reason
					args {
						__typename
						... on DegradedStatusSocketVersionsArgs {
							primaryVersion
							secondaryVersion
						}
						... on DegradedStatusBasicDataArgs {
							deviceName
							lastConnectedDate
						}
						... on DegradedStatusSocketArgs {
							deviceName
							portID
							portName
							lastConnectedDate
						}
						... on DegradedStatusLastConnectedArgs {
							lastConnectedDate
						}
						... on DegradedStatusMultiTunnelArgs {
							deviceName
							tunnelID
							tunnelName
							lastConnectedDate
						}
					}
 {
						__typename
						... on DegradedStatusSocketVersionsArgs {
							primaryVersion
							secondaryVersion
						}
						... on DegradedStatusBasicDataArgs {
							deviceName
							lastConnectedDate
						}
						... on DegradedStatusSocketArgs {
							deviceName
							portID
							portName
							lastConnectedDate
						}
						... on DegradedStatusLastConnectedArgs {
							lastConnectedDate
						}
						... on DegradedStatusMultiTunnelArgs {
							deviceName
							tunnelID
							tunnelName
							lastConnectedDate
						}
					}
				}
			}
		}
		users ( userIDs:$userIDs  )  {
			id
			connectivityStatus
			operationalStatus
			name
			deviceName
			uptime
			lastConnected
			version
			versionNumber
			popID
			popName
			remoteIP
			remoteIPInfo {
				ip
				countryCode
				countryName
				city
				state
				provider
				latitude
				longitude
			}
			internalIP
			osType
			osVersion
			devices {
				id
				name
				identifier
				connected
				haRole
				interfaces {
					connected
					id
					name
					physicalPort
					naturalOrder
					popName
					previousPopID
					previousPopName
					tunnelConnectionReason
					tunnelUptime
					tunnelRemoteIP
					tunnelRemoteIPInfo {
						ip
						countryCode
						countryName
						city
						state
						provider
						latitude
						longitude
					}
					type
					info {
						id
						name
						upstreamBandwidth
						downstreamBandwidth
						upstreamBandwidthMbpsPrecision
						downstreamBandwidthMbpsPrecision
						destType
						wanRole
					}
					cellularInterfaceInfo {
						networkType
						simSlotId
						modemStatus
						isModemConnected
						iccid
						imei
						operatorName
						isModemSuspended
						apn
						apnSelectionMethod
						signalStrength
						isRoamingAllowed
						simNumber
						disconnectionReason
						isSimSlot1Detected
						isSimSlot2Detected
					}
					bgpState
				}
				lastConnected
				lastDuration
				connectedSince
				lastPopID
				lastPopName
				recentConnections {
					duration
					interfaceName
					deviceName
					lastConnected
					popName
					remoteIP
					remoteIPInfo {
						ip
						countryCode
						countryName
						city
						state
						provider
						latitude
						longitude
					}
				}
				type
				deviceUptime
				socketInfo {
					id
					serial
					isPrimary
					platform
					version
					versionUpdateTime
				}
				interfacesLinkState {
					id
					up
					mediaIn
					linkSpeed
					duplex
					hasAddress
					hasInternet
					hasTunnel
				}
				osType
				osVersion
				version
				versionNumber
				releaseGroup
				mfaExpirationTime
				mfaCreationTime
				internalIP
			}
			connectedInOffice
			info {
				name
				status
				email
				creationTime
				phoneNumber
				origin
				authMethod
			}
			recentConnections {
				duration
				interfaceName
				deviceName
				lastConnected
				popName
				remoteIP
				remoteIPInfo {
					ip
					countryCode
					countryName
					city
					state
					provider
					latitude
					longitude
				}
			}
		}
		timestamp
	}	
}
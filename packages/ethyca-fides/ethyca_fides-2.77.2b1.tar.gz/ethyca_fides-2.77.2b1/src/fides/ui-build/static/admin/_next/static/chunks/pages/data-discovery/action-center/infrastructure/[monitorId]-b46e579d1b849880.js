(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7890],{58095:function(e,t,n){var r=n(8817);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},21796:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},95372:function(e){e.exports=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return -1}},8817:function(e,t,n){var r=n(95372),i=n(1129),s=n(58263);e.exports=function(e,t,n){return t==t?s(e,t,n):r(e,i,n)}},1129:function(e){e.exports=function(e){return e!=e}},92198:function(e,t,n){var r=n(52485),i=n(58095),s=n(21796),l=n(65581),o=n(47111),a=n(43735);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,f=!0,h=[],m=h;if(n)f=!1,u=s;else if(d>=200){var v=t?null:o(e);if(v)return a(v);f=!1,u=l,m=new r}else m=t?[]:h;e:for(;++c<d;){var g=e[c],p=t?t(g):g;if(g=n||0!==g?g:0,f&&p==p){for(var x=m.length;x--;)if(m[x]===p)continue e;t&&m.push(p),h.push(g)}else u(m,p,n)||(m!==h&&m.push(p),h.push(g))}return h}},56632:function(e,t,n){var r=n(89278),i=n(80068),s=n(50098);e.exports=function(e){return function(t,n,l){var o=Object(t);if(!i(t)){var a=r(n,3);t=s(t),n=function(e){return a(o[e],e,o)}}var c=e(t,n,l);return c>-1?o[a?t[c]:c]:void 0}}},47111:function(e,t,n){var r=n(46151),i=n(50344),s=n(43735),l=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=l},58263:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}},64925:function(e,t,n){var r=n(56632)(n(66259));e.exports=r},66259:function(e,t,n){var r=n(95372),i=n(89278),s=n(47991),l=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return -1;var a=null==n?0:s(n);return a<0&&(a=l(o+a,0)),r(e,i(t,3),a)}},50344:function(e){e.exports=function(){}},94919:function(e,t,n){var r=n(91936),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},47991:function(e,t,n){var r=n(94919);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},83766:function(e,t,n){var r=n(92198);e.exports=function(e){return e&&e.length?r(e):[]}},50755:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/action-center/infrastructure/[monitorId]",function(){return n(72734)}])},30952:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(24246),i=n(26917);let s=e=>{let{...t}=e;return(0,r.jsx)(i.Z,{debounce:!0,...t})}},35287:function(e,t,n){"use strict";var r=n(24246),i=n(10034),s=n(88038),l=n.n(s);n(27378),t.Z=e=>{let{children:t,title:n,fullHeight:s,fullWidth:o,mainProps:a}=e;return(0,r.jsxs)(i.ad9,{"data-testid":n,direction:"column",height:s?"100vh":"calc(100vh - 48px)",width:o?"100vw":"calc(100vw - 240px)",children:[(0,r.jsxs)(l(),{children:[(0,r.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,r.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(i.ad9,{px:10,py:6,as:"main",overflow:"auto",direction:"column",flex:1,minWidth:0,...a,children:t})]})}},79283:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(24246),i=n(10034),s=n(72707),l=n.n(s);let o=e=>{let{data:{formattedTitle:t,description:n,name:s,primaryName:l}}=e;return(0,r.jsxs)(i.kCb,{gap:12,title:"".concat(t," - ").concat(n),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:l||s}),l&&": ".concat(s)]}),(0,r.jsx)("em",{className:"overflow-hidden text-ellipsis",children:n})]})},a=e=>"options"in e&&Array.isArray(e.options),c=e=>({...e,className:l().option,formattedTitle:e.formattedTitle||[e.primaryName,e.name].filter(e=>e).join(": ")}),u=e=>{let{options:t,...n}=e,s=null==t?void 0:t.map(e=>a(e)?{...e,options:e.options.map(c)}:c(e));return(0,r.jsx)(i.PhF,{options:s,filterOption:(e,t)=>{var n,r;return(null==t?void 0:null===(n=t.formattedTitle)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null==t?void 0:null===(r=t.value)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))||!1},optionFilterProp:"label",autoFocus:!0,variant:"borderless",optionRender:o,styles:{popup:{root:{minWidth:"500px"}}},className:"w-full p-0","data-testid":"taxonomy-select",...n})}},34929:function(e,t,n){"use strict";var r=n(24246),i=n(64925),s=n.n(i),l=n(27378),o=n(16134),a=n(30002),c=n(28079),u=n(57072);let d=()=>{let{isLoading:e}=(0,c.fd)(),t=(0,o.C)(c.U3),{isLoading:n}=(0,u.MO)(),r=(0,o.C)(u.qb),{isLoading:i}=(0,a.te)();return{dataUses:t,dataSubjects:(0,o.C)(a.ZL),dataCategories:r,isLoading:e||n||i}};t.Z=()=>{let{dataUses:e,dataCategories:t,dataSubjects:n,isLoading:i}=d(),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.split(".").slice(0,t).join(".")},a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t(e);if(!r)return{};let i=t(o(e,n)),s=!!r.parent_key;return{name:r.name||void 0,primaryName:s&&(null==i?void 0:i.name)!==r.name&&(null==i?void 0:i.name)||void 0}},c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{name:i,primaryName:s}=a(e,t,n);return i?s?(0,r.jsxs)(l.Fragment,{children:[(0,r.jsxs)("strong",{children:[s,":"]})," ",i]},e):(0,r.jsx)("strong",{children:i},e):e},u=t=>s()(e,{fides_key:t}),f=e=>s()(t,{fides_key:e}),h=e=>s()(n,{fides_key:e});return{getDataUses:()=>e,getDataUseByKey:u,getDataUseDisplayName:e=>c(e,u,1),getDataUseDisplayNameProps:e=>a(e,u,1),getDataCategories:()=>t,getDataCategoryByKey:f,getDataCategoryDisplayName:e=>c(e,f,2),getDataCategoryDisplayNameProps:e=>a(e,f,2),getDataSubjects:()=>n,getDataSubjectByKey:h,getDataSubjectDisplayName:e=>{let t=h(e);return t?t.name:e},getDataSubjectDisplayNameProps:e=>{let t=h(e);return t?{name:t.name||e}:{}},getPrimaryKey:o,isLoading:i}}},9270:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(27378),i=n(36866);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.h)(e),{pageIndex:n,pageSize:s,updatePageIndex:l,updatePageSize:o,pageSizeOptions:a,showSizeChanger:c}=t,u=(0,r.useMemo)(()=>({current:n,pageSize:s,showSizeChanger:c,pageSizeOptions:a.map(String),onChange:l,onShowSizeChange:(e,t)=>{o(t)}}),[n,s,c,a,l,o]);return{...t,paginationProps:u}}},57072:function(e,t,n){"use strict";n.d(t,{Bd:function(){return r.Bd},L5:function(){return r.L5},MO:function(){return r.MO},qb:function(){return r.qb}});var r=n(5785)},72734:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var r=n(24246),i=n(86677),s=n(35287),l=n(77830),o=n(58754),a=n(10034),c=n(27378),u=n(30952),d=n(70675),f=n(37059),h=n(16394),m=n(79283),v=n(34929),g=e=>{let{onSelectDataUse:t,urn:n,...i}=e,{getDataUseDisplayNameProps:s,getDataUses:l}=(0,v.Z)(),o=l().filter(e=>e.active),[u,d]=(0,c.useState)(!1),f=o.map(e=>{let{name:t,primaryName:n}=s(e.fides_key);return{value:e.fides_key,label:(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:n||t}),n&&": ".concat(t)]}),name:t,primaryName:n,description:e.description||""}});return(0,r.jsx)(m.l,{options:f,prefix:(0,r.jsx)(a.zxk,{"aria-label":"Add data use",type:"text",size:"small",icon:(0,r.jsx)(a.PJP.mm_,{}),disabled:i.disabled}),placeholder:"",suffixIcon:null,classNames:{root:"w-full max-w-full overflow-hidden p-0 cursor-pointer -ml-5"},style:{"--ant-select-multiple-selector-bg-disabled":"transparent"},variant:"borderless",autoFocus:!1,maxTagCount:"responsive",open:u,onOpenChange:e=>d(e),onSelect:e=>{t(e),d(!1)},"data-classification-select":n,popupMatchSelectWidth:600,...i})},p=n(812),x=n(46628),y=n(88708);let k=e=>{let{monitorId:t,system:n,allowIgnore:i,activeTab:s,addIcon:l=(0,r.jsx)(a.PJP.MCw,{}),ignoreIcon:o=(0,r.jsx)(a.PJP.uzw,{}),onPromoteSuccess:c}=e,[u,{isLoading:f}]=(0,d.Kj)(),[h,{isLoading:m}]=(0,d.Lm)(),[v,{isLoading:g}]=(0,d.RA)(),k=(0,a.p8r)(),b=async()=>{if(!n.urn){k((0,x.Vo)("Cannot promote: system URN is missing"));return}let e=await u({monitor_config_key:t,urn:n.urn});(0,p.D4)(e)?k((0,x.Vo)((0,p.e$)(e.error))):(k((0,x.t5)("".concat(n.name||"System"," has been promoted to the system inventory."))),c&&c())},j=async()=>{if(!n.urn){k((0,x.Vo)("Cannot ignore: system URN is missing"));return}let e=await h({monitor_config_key:t,urn:n.urn});(0,p.D4)(e)?k((0,x.Vo)((0,p.e$)(e.error))):(k((0,x.t5)("".concat(n.name||"System"," has been ignored."))),c&&c())},w=async()=>{if(!n.urn){k((0,x.Vo)("Cannot restore: system URN is missing"));return}let e=await v({monitor_config_key:t,urn:n.urn});(0,p.D4)(e)?k((0,x.Vo)((0,p.e$)(e.error))):(k((0,x.t5)("".concat(n.name||"System"," has been restored."))),c&&c())},_=f||m||g,C=s===y.A.IGNORED;return(0,r.jsxs)(a.TaI,{children:[i&&!C&&(0,r.jsx)(a.ua7,{title:"Ignore",children:(0,r.jsx)(a.zxk,{"data-testid":"ignore-btn",size:"small",onClick:j,disabled:!n.urn||_,loading:m,icon:o,"aria-label":"Ignore",children:!o&&"Ignore"})}),C?(0,r.jsx)(a.ua7,{title:n.urn?"Restore":"This system cannot be restored: URN is missing.",children:(0,r.jsx)(a.zxk,{"data-testid":"restore-btn",size:"small",onClick:w,disabled:!n.urn||_,loading:g,icon:(0,r.jsx)(a.PJP.CQM,{}),"aria-label":"Restore",children:"Restore"})}):(0,r.jsx)(a.ua7,{title:n.urn?"Add":"This system cannot be promoted: URN is missing.",children:(0,r.jsx)(a.zxk,{"data-testid":"add-btn",size:"small",onClick:b,disabled:!n.urn||_,loading:f,icon:l,"aria-label":"Add",children:!l&&"Add"})})]})},b=e=>{let{label:t,closable:n,onClose:i,isFromClassifier:s}=e;return(0,r.jsx)(a.Vp9,{color:"white",bordered:!0,onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},closable:n,onClose:i,style:{marginInlineEnd:"calc((var(--ant-padding-xs) * 0.5))"},icon:s&&(0,r.jsx)(a.QMR,{}),children:(0,r.jsx)(a.xvT,{size:"sm",children:t})})},j=e=>{var t,n,i;let{item:s,selected:l,onSelect:o,onNavigate:u,rowClickUrl:d,monitorId:f,activeTab:m,allowIgnore:v,onSetDataUses:p,onSelectDataUse:x,dataUsesDisabled:y,onPromoteSuccess:j}=e,w=s.urn,_=null==d?void 0:d(s),{metadata:C}=s,S=null!==(t=s.name)&&void 0!==t?t:"Uncategorized",D=null!==(n=null==C?void 0:C.app_type)&&void 0!==n?n:"System type",E=(0,c.useMemo)(()=>{if(null==C?void 0:C.vendor_logo_url)return C.vendor_logo_url;let e=s.vendor_id||S;if(e&&"Uncategorized"!==e)try{let t=(0,h.ge)(e);if(t)return(0,h.Ms)(t,36)}catch(e){}},[null==C?void 0:C.vendor_logo_url,s.vendor_id,S]),P=e=>{o&&w&&o(w,e)};return(0,r.jsx)(a.aVo.Item,{actions:[(0,r.jsx)(k,{monitorId:f,system:s,allowIgnore:v,activeTab:m,onPromoteSuccess:j},"actions")],children:(0,r.jsx)(a.aVo.Item.Meta,{avatar:(0,r.jsxs)(a.kCb,{align:"center",gap:"small",children:[(0,r.jsx)(a.XZJ,{checked:l,onChange:e=>P(e.target.checked),onClick:e=>e.stopPropagation()}),(0,r.jsx)(a.qEK,{size:18,src:E,icon:(0,r.jsx)(a.PJP.Zrf,{}),alt:S})]}),title:(0,r.jsxs)(a.kCb,{gap:"small",align:"center",wrap:"wrap",children:[(0,r.jsx)(a.zxk,{type:"text",size:"small",onClick:()=>{_&&u&&u(_)},children:(0,r.jsx)(a.xvT,{strong:!0,children:S})}),(0,r.jsx)(a.xvT,{type:"secondary",style:{fontWeight:400},children:D})]}),description:(0,r.jsx)(g,{mode:"multiple",value:null!==(i=s.preferred_data_uses)&&void 0!==i?i:[],urn:w,tagRender:e=>{var t;let n=null===(t=s.data_uses)||void 0===t?void 0:t.includes(e.value);return b({...e,isFromClassifier:n,onClose:()=>{if(p&&w){var t,n;p(w,null!==(n=null===(t=s.preferred_data_uses)||void 0===t?void 0:t.filter(t=>t!==e.value))&&void 0!==n?n:[])}}})},onSelectDataUse:e=>{if(x)x(e);else if(p&&w){var t;let n=null!==(t=s.preferred_data_uses)&&void 0!==t?t:[];n.includes(e)||p(w,[...n,e])}},disabled:y})})},w)};var w=n(98145),_=n(83766),C=n.n(_);let S=e=>{let{statusFilters:t,setStatusFilters:n,vendorFilters:i,setVendorFilters:s,reset:l}=e,[o,u]=(0,c.useState)(t),[d,f]=(0,c.useState)(i),[h,m]=(0,c.useState)([w.oq.STATUS]);(0,c.useEffect)(()=>{u(t)},[t]),(0,c.useEffect)(()=>{f(i)},[i]);let v=(0,c.useMemo)(()=>w.sv.filter(e=>"all"!==e&&"known"!==e&&"unknown"!==e).map(e=>({title:w.bE[e],key:e,checkable:!0,selectable:!1,isLeaf:!0})),[]),g=(0,c.useMemo)(()=>w.sv.filter(e=>"known"===e||"unknown"===e).map(e=>({title:w.bE[e],key:e,checkable:!0,selectable:!1,isLeaf:!0})),[]),p=(0,c.useMemo)(()=>{let e=[];return v.length>0&&e.push({title:"Status",key:w.oq.STATUS,checkable:!0,selectable:!1,isLeaf:!1,children:v}),g.length>0&&e.push({title:"Vendor",key:w.oq.VENDOR,checkable:!0,selectable:!1,isLeaf:!1,children:g}),e},[v,g]),x=(0,c.useMemo)(()=>C()([...null!=o?o:[],...null!=d?d:[]]),[o,d]),y=(0,c.useMemo)(()=>{let e=0;return t&&(e+=new Set(t).size),i&&(e+=new Set(i).size),e},[t,i]);return(0,r.jsx)(a.wn$,{treeProps:{checkable:!0,checkedKeys:x,onCheck:e=>{let t=Array.isArray(e)?e:e.checked,n=[],r=[],i=Object.values(w.oq);t.forEach(e=>{let t=e.toString();if(i.some(e=>e===t))return;let s=w.sv.find(e=>e===t&&"known"!==e&&"unknown"!==e);if(s)n.push(s);else{let e=w.sv.find(e=>e===t&&("known"===e||"unknown"===e));e&&r.push(e)}}),u(n.length>0?n:[]),f(r.length>0?r:[])},treeData:p,expandedKeys:h,onExpand:e=>{m(e)}},onApply:()=>{n(o&&o.length>0?Array.from(new Set(o)):o),s(d&&d.length>0?Array.from(new Set(d)):d)},onReset:()=>{l(),u([]),f([])},onClear:()=>{u([]),f([])},onOpenChange:e=>{e||(u(t),f(i))},activeFiltersCount:y})};var D=n(40431);let E=()=>{let[e,t]=(0,D.v1)("statusFilters",(0,D.S$)((0,D.km)(w.sv)).withDefault([])),[n,r]=(0,D.v1)("vendorFilters",(0,D.S$)(D.Oi).withDefault([]));return{statusFilters:e,setStatusFilters:t,vendorFilters:n,setVendorFilters:r,reset:()=>{t([]),r([])}}};var P=n(17245),R=n(9270),N=n(71985);let z=e=>{let{monitorId:t,statusFilters:n,vendorFilters:r}=e,{paginationProps:i,pageIndex:s,pageSize:o,resetPagination:a}=(0,R.S)({defaultPageSize:50}),u=(0,P.Rx)(),{activeTab:f,filterTabs:h,activeParams:m,onTabChange:v}=(0,y.Z)(),g=(0,c.useMemo)(()=>{if(!n||0===n.length)return m.diff_status;let e=[];return(n.forEach(t=>{let n=(0,w.$Q)(t);n&&e.push(n)}),1===e.length)?e[0]:e.length>0?e:m.diff_status},[n,m.diff_status]),p=(0,c.useMemo)(()=>{if(!n||0===n.length)return;let e=[];return n.forEach(t=>{let n=(0,w.Lh)(t);n&&e.push(n)}),e.length>0?e:void 0},[n]),x=(0,c.useMemo)(()=>{if(!r||0===r.length)return;let e=[];return(r.includes("unknown")&&e.push("null"),r.includes("known")&&!r.includes("unknown"))?"not_null":e.length>0?e:void 0},[r]);(0,c.useEffect)(()=>{a()},[n,r,a]);let{data:k,isLoading:b,isFetching:j,refetch:_}=(0,d.QP)({monitor_config_key:t,page:s,size:o,search:u.searchQuery,diff_status:g,status:p,vendor_id:x},{refetchOnMountOrArgChange:!0}),C=(0,c.useMemo)(()=>{var e,t;return{items:null!==(e=null==k?void 0:k.items)&&void 0!==e?e:[],total:null!==(t=null==k?void 0:k.total)&&void 0!==t?t:0}},[k]),S=(0,c.useCallback)(async e=>{await v(e),a(),_()},[v,a,_]),D=(0,c.useCallback)(e=>{var n;let r=null!==(n=e.urn)&&void 0!==n?n:l.Kl,i=f?"#".concat(f):"";return"".concat(l.vi,"/").concat(N.w.INFRASTRUCTURE,"/").concat(t,"/").concat(r).concat(i)},[t,f]);return{data:C,isLoading:b,isFetching:j,refetch:_,searchQuery:u.searchQuery,updateSearch:u.updateSearch,paginationProps:i,filterTabs:h,activeTab:f,handleTabChange:S,activeParams:m,rowClickUrl:D,getRecordKey:(0,c.useCallback)(e=>{var t,n,r;return null!==(r=null!==(n=null!==(t=e.urn)&&void 0!==t?t:e.vendor_id)&&void 0!==n?n:e.name)&&void 0!==r?r:l.Kl},[])}},M=e=>{let{monitorId:t,onSuccess:n}=e,r=(0,a.p8r)(),[i,{isLoading:s}]=(0,d.OB)(),[l,{isLoading:o}]=(0,d.ip)(),[u,{isLoading:f}]=(0,d.Vd)();return{handleBulkAction:(0,c.useCallback)(async(e,s)=>{let o,a;let c=s.map(e=>e.urn);if(0===c.length){r((0,x.Vo)("No valid systems selected. Please select systems with URNs."));return}if(e===w.Qk.ADD){o=await i({monitor_config_key:t,urns:c});let e=c.length;a="".concat(e," system").concat(e>1?"s":""," ").concat(e>1?"have":"has"," been promoted to the system inventory.")}else if(e===w.Qk.IGNORE){o=await l({monitor_config_key:t,urns:c});let e=c.length;a="".concat(e," system").concat(e>1?"s":""," ").concat(e>1?"have":"has"," been ignored.")}else{if(e!==w.Qk.RESTORE)return;o=await u({monitor_config_key:t,urns:c});let n=c.length;a="".concat(n," system").concat(n>1?"s":""," ").concat(n>1?"have":"has"," been restored.")}(0,p.D4)(o)?r((0,x.Vo)((0,p.e$)(o.error))):(r((0,x.t5)(a)),null==n||n())},[t,i,l,u,r,n]),isBulkActionInProgress:s||o||f}},A=e=>{let{items:t,getRecordKey:n}=e,[r,i]=(0,c.useState)(new Set),s=r.size>0,l=r.size,o=(0,c.useCallback)(e=>{if(e){var r;i(new Set(null!==(r=null==t?void 0:t.map(e=>n(e)))&&void 0!==r?r:[]))}else i(new Set)},[t,n]),a=(0,c.useCallback)((e,t)=>{i(n=>{let r=new Set(n);return t?r.add(e):r.delete(e),r})},[]),u=(0,c.useCallback)(()=>{i(new Set)},[]),d=(0,c.useMemo)(()=>!!t&&0!==t.length&&r.size>0&&r.size===t.length&&t.every(e=>r.has(n(e))),[t,r,n]),f=(0,c.useMemo)(()=>!!t&&0!==t.length&&r.size>0&&r.size<t.length,[t,r]),h=(0,c.useMemo)(()=>t?t.filter(e=>r.has(n(e))):[],[t,r,n]),m=(0,c.useCallback)(e=>r.has(n(e)),[r,n]);return{selectedKeys:r,hasSelectedRows:s,selectedRowsCount:l,selectedItems:h,isAllSelected:d,isIndeterminate:f,handleSelectAll:o,handleSelectItem:a,clearSelection:u,isItemSelected:m}};var L=n(60240);let I=e=>{let{isIgnoredTab:t,allowIgnore:n,isBulkActionInProgress:r,onBulkAction:i}=e;return t?[{key:w.Qk.RESTORE,label:"Restore",onClick:()=>i(w.Qk.RESTORE),disabled:r}]:[...n?[{key:w.Qk.IGNORE,label:"Ignore",onClick:()=>i(w.Qk.IGNORE),disabled:r}]:[],{key:w.Qk.ADD,label:"Add",onClick:()=>i(w.Qk.ADD),disabled:r}]},T=e=>!!e.diff_status&&!e.diff_status.includes(L.LL.MUTED),O=e=>{var t,n;let{monitorId:i}=e,s=E(),{data:l,isLoading:o,searchQuery:h,updateSearch:m,paginationProps:v,activeTab:g,handleTabChange:p,activeParams:x,rowClickUrl:k,getRecordKey:b,refetch:_}=z({monitorId:i,statusFilters:s.statusFilters,vendorFilters:s.vendorFilters}),{data:C}=(0,f.vc)({monitor_config_id:i}),[D]=(0,d.Lu)(),P=async(e,t)=>{await D({monitorId:i,urn:e,dataUses:t}),_()},{selectedItems:R,hasSelectedRows:N,selectedRowsCount:L,isAllSelected:O,isIndeterminate:U,handleSelectAll:F,handleSelectItem:Q,clearSelection:V,isItemSelected:Z}=A({items:null==l?void 0:l.items,getRecordKey:b}),{handleBulkAction:J,isBulkActionInProgress:q}=M({monitorId:i,getRecordKey:b,onSuccess:()=>{V(),_()}}),$=g===y.A.IGNORED,B=T(x),G=(0,c.useCallback)(e=>{J(e,R)},[J,R]),K=(0,c.useMemo)(()=>I({isIgnoredTab:$,allowIgnore:B,isBulkActionInProgress:q,onBulkAction:G}),[$,B,q,G]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.v2r,{"aria-label":"Asset state filter",mode:"horizontal",items:w.hc.map(e=>({key:e.key,label:e.label})),selectedKeys:[g],onClick:async e=>{await p(e.key),V()},className:"mb-4","data-testid":"asset-state-filter"}),(0,r.jsxs)(a.kCb,{vertical:!0,gap:"middle",className:"h-full",children:[(0,r.jsxs)(a.kCb,{justify:"space-between",children:[(0,r.jsx)(a.Dxz,{level:2,children:"Monitor results"}),(0,r.jsx)(a.kCb,{align:"center",children:(null==C?void 0:C.last_monitored)&&(0,r.jsxs)(a.xvT,{type:"secondary",children:["Last scan:"," ",new Date(C.last_monitored).toLocaleString()]})})]}),(0,r.jsxs)(a.kCb,{justify:"space-between",children:[(0,r.jsx)(a.kCb,{gap:"small",children:(0,r.jsx)(u.f,{value:h,onChange:m,placeholder:"Search"})}),(0,r.jsxs)(a.kCb,{gap:"small",children:[(0,r.jsx)(S,{...s}),(0,r.jsx)(a.Ltx,{menu:{items:K},disabled:!N||q,children:(0,r.jsx)(a.zxk,{type:"primary",icon:(0,r.jsx)(a.PJP._ME,{}),iconPosition:"end",disabled:!N||q,loading:q,children:"Actions"})}),(0,r.jsx)(a.ua7,{title:"Refresh",children:(0,r.jsx)(a.zxk,{icon:(0,r.jsx)(a.PJP.CQM,{}),"aria-label":"Refresh",onClick:_,loading:o})})]})]}),(0,r.jsxs)(a.kCb,{gap:"middle",align:"center",children:[(0,r.jsx)(a.XZJ,{checked:O,indeterminate:U,onChange:e=>F(e.target.checked),title:"Select all"}),(0,r.jsx)("span",{className:"ml-2",children:"Select all"}),L>0&&(0,r.jsxs)(a.xvT,{strong:!0,children:[L.toLocaleString()," selected"]})]}),(0,r.jsx)(a.aVo,{dataSource:null==l?void 0:l.items,loading:o,className:"h-full overflow-y-scroll",locale:{emptyText:(0,r.jsx)(a.HYy,{image:a.HYy.PRESENTED_IMAGE_SIMPLE,description:"All caught up!"})},renderItem:e=>(0,r.jsx)(j,{item:e,selected:Z(e),onSelect:Q,rowClickUrl:k,monitorId:i,activeTab:g,allowIgnore:B,onPromoteSuccess:_,onSetDataUses:P})}),(0,r.jsx)(a.tlE,{...v,total:(null==l?void 0:l.total)||0,showSizeChanger:{suffixIcon:(0,r.jsx)(a.PJP._ME,{})},hideOnSinglePage:(null===(t=v.pageSize)||void 0===t?void 0:t.toString())===(null===(n=v.pageSizeOptions)||void 0===n?void 0:n[0])})]})]})};var U=()=>{let e=decodeURIComponent((0,i.useRouter)().query.monitorId);return(0,r.jsxs)(s.Z,{title:"Action center - Discovered infrastructure systems",children:[(0,r.jsx)(o.Z,{heading:"Action center",breadcrumbItems:[{title:"All activity",href:l.vi},{title:e}]}),(0,r.jsx)(O,{monitorId:e})]})}},72707:function(e){e.exports={option:"TaxonomySelect_option__vY6v2"}}},function(e){e.O(0,[431,7245,1690,2888,9774,179],function(){return e(e.s=50755)}),_N_E=e.O()}]);
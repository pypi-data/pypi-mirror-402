(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9340],{33187:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset/[datasetId]",function(){return i(1016)}])},58754:function(e,t,i){"use strict";var o=i(24246),n=i(10034),l=i(70788);t.Z=e=>{let{heading:t,breadcrumbItems:i,isSticky:s=!0,children:a,rightContent:c,style:r,...d}=e;return(0,o.jsxs)("div",{...d,style:s?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...r}:{paddingBottom:"24px",...r},children:[(0,o.jsxs)(n.kCb,{justify:"space-between",children:["string"==typeof t?(0,o.jsx)(n.Dxz,{className:i||a?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,c&&(0,o.jsx)("div",{"data-testid":"page-header-right-content",children:c})]}),!!i&&(0,o.jsx)(l.m,{className:a?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),a]})}},70788:function(e,t,i){"use strict";i.d(t,{m:function(){return r}});var o=i(24246),n=i(10034),l=i(79894),s=i.n(l),a=i(27378);let{Text:c}=n.Typography,r=e=>{let{items:t,...i}=e,l=(0,a.useMemo)(()=>null==t?void 0:t.map((e,i)=>{let l=i===t.length-1,a={...e},r=a.onClick&&!a.href;return("string"==typeof a.title&&(a.title=(0,o.jsx)(c,{style:{color:"inherit",maxWidth:l?void 0:400},ellipsis:!l,id:l?"breadcrumb-current-page":void 0,children:a.title})),r)?a.title=(0,o.jsx)(n.zxk,{type:"text",size:"small",icon:a.icon,onClick:a.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:a.title}):(a.icon&&(a.title=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"anticon align-text-bottom",children:a.icon}),a.title]})),a.href&&a.title&&(a.title=(0,o.jsx)(s(),{href:a.href,className:"ant-breadcrumb-link",children:a.title}),delete a.href)),a}),[t]);return(0,o.jsx)(n.aGc,{items:l,...i})}},1016:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return w}});var o=i(24246),n=i(92222),l=i(59003),s=i(10034),a=i(86677),c=i(27378),r=i(77213),d=i(77830),u=i(58754),m=i(15793),h=i(69828),p=i(41966),x=i(46628),g=i(79806),j=i(20386),f=i(63927),b=i(69435),C=e=>{let{dataset:t,collection:i,isOpen:n,onClose:l}=e,a=(0,c.useMemo)(()=>null==t?void 0:t.collections.indexOf(i),[i,null==t?void 0:t.collections]),[r]=(0,j.TG)(),d=(0,s.p8r)(),{isOpen:u,onOpen:m,onClose:h}=(0,s.E2M)(),p=async e=>{let o={...i,...e},n=(0,b.jC)(t,o,a);try{await r(n),d((0,x.t5)("Successfully modified collection"))}catch(e){d((0,x.Vo)(e))}l()},C=async()=>{if(t&&void 0!==a){let e=(0,b.qe)(t,a);try{await r(e),d((0,x.t5)("Successfully deleted collection"))}catch(e){d((0,x.Vo)(e))}l(),h()}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.ZP,{isOpen:n,onClose:l,description:"Collections are an array of objects that describe the Dataset's collections. Provide additional context to this collection by filling out the fields below.",header:(0,o.jsx)(g.zR,{title:"Collection Name: ".concat(null==i?void 0:i.name)}),footer:(0,o.jsx)(g.Gn,{onClose:l,onDelete:m,formId:f.e}),children:(0,o.jsx)(f.Z,{values:i,onSubmit:p,dataType:"collection",showDataCategories:!1})}),(0,o.jsx)(s.cVQ,{isOpen:u,onClose:h,onConfirm:C,title:"Delete Collection",message:(0,o.jsxs)(s.Bjg,{children:["You are about to permanently delete the collection named"," ",(0,o.jsx)(s.Bjg,{color:"complimentary.500",as:"span",fontWeight:"bold",children:null==i?void 0:i.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})};let y=(0,n.Cl)(),v=()=>(0,o.jsx)(s.s_g,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",textAlign:"center",children:(0,o.jsx)(s.s_g,{children:(0,o.jsx)(s.Bjg,{fontSize:"md",fontWeight:"600",children:"No collections found."})})});var w=()=>{let e=(0,a.useRouter)(),t=decodeURIComponent(e.query.datasetId),{isLoading:i,data:x}=(0,p.oM)(t),g=(0,c.useMemo)(()=>(null==x?void 0:x.collections)||[],[x]),[j,f]=(0,c.useState)(!1),[b,w]=(0,c.useState)(),[k,R]=(0,c.useState)(),N=(0,c.useMemo)(()=>[y.accessor(e=>e.name,{id:"name",cell:e=>(0,o.jsx)(m.G3,{value:e.getValue(),fontWeight:"semibold"}),header:e=>(0,o.jsx)(m.Rr,{value:"Collection Name",...e}),size:180}),y.accessor(e=>e.description,{id:"description",cell:e=>(0,o.jsx)(m.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,o.jsx)(m.Rr,{value:"Description",...e}),size:300,meta:{showHeaderMenu:!0}}),y.display({id:"actions",header:"Actions",cell:e=>{let{row:t}=e,i=t.original;return(0,o.jsx)(s.Br$,{spacing:0,"data-testid":"collection-".concat(i.name),children:(0,o.jsx)(s.zxk,{size:"small",icon:(0,o.jsx)(s.oji,{}),onClick:()=>{w(i),f(!0)},children:"Edit"})})},meta:{disableRowClick:!0}})],[]),_=(0,c.useMemo)(()=>k?g.filter(e=>e.name.toLowerCase().includes(k.toLowerCase())):g,[g,k]),M=(0,l.b7)({getCoreRowModel:(0,n.sC)(),getFilteredRowModel:(0,n.vL)(),getSortedRowModel:(0,n.tj)(),columns:N,data:_,columnResizeMode:"onChange"}),z=(0,c.useMemo)(()=>[{title:"All datasets",href:d.$m},{title:t,icon:h.Y[1]}],[t]);return(0,o.jsxs)(r.Z,{title:"Dataset - ".concat(t),children:[(0,o.jsx)(u.Z,{heading:"Datasets",breadcrumbItems:z}),i?(0,o.jsx)(m.I4,{rowHeight:36,numRows:15}):(0,o.jsxs)(s.TJV,{"data-testid":"collections-table",children:[(0,o.jsx)(m.Q$,{children:(0,o.jsx)(m.HO,{globalFilter:k,setGlobalFilter:R,placeholder:"Search",testid:"collections-search"})}),(0,o.jsx)(m.ZK,{tableInstance:M,emptyTableNotice:(0,o.jsx)(v,{}),onRowClick:i=>{e.push({pathname:d.RF,query:{datasetId:encodeURIComponent(t),collectionName:encodeURIComponent(i.name)}})}})]}),x&&b&&(0,o.jsx)(C,{dataset:x,collection:b,isOpen:j,onClose:()=>f(!1)})]})}}},function(e){e.O(0,[9226,2888,9774,179],function(){return e(e.s=33187)}),_N_E=e.O()}]);
{% load django_vite %}
{# React Header Island - Domain config via LIGHTWAVE_CONFIG context processor #}
{#
   This template provides the mount point for a React header component.
   Data is passed via data-* attributes for JavaScript parsing.

   Required context variables (from lightwave.islands.context_processors.lightwave_navigation):
   - header_nav: JSON string of navigation items
   - company_info: JSON string of brand/company information (name, logo_url, etc.)
   - auth_config: JSON string of auth configuration
   - auth_state: JSON string of current user's auth state
   - island_config: JSON string of header island configuration (variant, floating, etc.)
   - lightwave_config: Dict containing islands.header_js path
#}

{# Container for React to mount the header #}
<div id="header-root"
     data-nav-items="{{ header_nav }}"
     data-company-info="{{ company_info }}"
     data-auth-config="{{ auth_config }}"
     data-auth-state="{{ auth_state }}"
     data-island-config="{{ island_config }}">
</div>

{# Load the domain-specific header React bundle #}
{% vite_react_refresh %}
{% with header_js=lightwave_config.islands.header_js|default:"assets/javascript/header.tsx" %}
{% vite_asset header_js %}
{% endwith %}

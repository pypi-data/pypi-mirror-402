[project]
name = "gpt2giga"
version = "0.1.0.post0"
description = "Утилита для проксирования OpenAI-запросов в GigaChat"
authors = [{ name = "Konstantin Krestnikov", email = "rai220@gmail.com" }]
requires-python = ">=3.10,<4,<3.15"
readme = "README.md"
license = "MIT"
dependencies = [
    "python-dotenv>=1.0.1,<2",
    "aiohttp>=3.10.10,<4",
    "tiktoken>=0.12.0,<0.13",
    "pillow>=12,<13",
    "uvicorn>=0.37.0,<0.38",
    "openai>=2.3.0,<3",
    "aioitertools>=0.13.0,<0.14",
    "loguru>=0.7.3,<0.8",
    "sse-starlette>=3.0.3,<4",
    "pydantic-settings>=2.12.0,<3",
    "fastapi>=0.128.0,<0.129.0",
    "starlette>=0.49,<1",
    "gigachat>=0.2.0,<0.3.0",
]

[project.scripts]
gpt2giga = "gpt2giga:run"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"


[tool.coverage.run]
omit = [
  "tests/*",
  "scripts/*",
  "docs/*",
  "*/migrations/*",
  "examples/*",
  "*/__pycache__/*",
  ".local/"
]
[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
    "def __repr__",
    "if self.debug",
    "if settings.DEBUG",
    "raise AssertionError",
    "raise NotImplementedError",
    "if 0:",
    "if __name__ == .__main__.:",
    "class .*\\bProtocol\\):",
    "@(abc\\.)?abstractmethod"
]
[tool.codeflash]
# All paths are relative to this pyproject.toml's directory.
module-root = "gpt2giga"
tests-root = "tests"
test-framework = "pytest"
ignore-paths = []
disable-telemetry = true
formatter-cmds = ["black $file"]
[dependency-groups]
dev = [
    "black (>=25.9.0,<26.0.0)",
    "pytest (>=8.4.2,<9.0.0)",
    "pytest-asyncio (>=1.2.0,<2.0.0)",
    "pytest-mock (>=3.15.1,<4.0.0)",
    "ruff (>=0.14.2,<0.15.0)",
    "pytest-cov (>=7.0.0,<8.0.0)",
    "pre-commit (>=4.3.0,<5.0.0)",
    "codeflash (>=0.18.3,<0.19.0)",
]
integrations = [
    "openai-agents (>=0.5.0,<0.6.0)"
]

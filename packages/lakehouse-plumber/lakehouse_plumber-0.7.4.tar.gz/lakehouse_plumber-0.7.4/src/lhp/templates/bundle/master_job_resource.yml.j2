# Generated by LakehousePlumber - Master Orchestration Job for {{ project_name }}
# This job coordinates the execution of all individual jobs

resources:
  jobs:
    {{ master_job_name }}:
      name: {{ master_job_name }}
      max_concurrent_runs: 1
      tasks:
{%- for job_name, job_info in jobs.items() %}
        - task_key: {{ job_name }}_task
{%- if job_info.depends_on %}
          depends_on:
{%- for dependency in job_info.depends_on %}
            - task_key: {{ dependency }}_task
{%- endfor %}
{%- endif %}
          job_task:
            job_id: ${{ '{' }}resources.jobs.{{ job_name }}.id}
{%- endfor %}
      
      # Master job configuration
      queue:
        enabled: false
      performance_target: STANDARD
      
      # You can add additional configuration like tags, notifications, etc.
      # tags:
      #   orchestration: "true"
      #   project: "{{ project_name }}"


[project]
name = "fbnconfig"
version = "0.1.183"
description = "fbnconfig is a python library (and commandline tool) to allow a declarative description of a LUSID environment"
authors = [{ name = "FINBOURNE Technology", email = "engineering@finbourne.com" }]
requires-python = "~=3.11"
readme = "fbnconfig.md"
dependencies = [
    "pydantic>= 2.6.0, <= 2.8.2",
    "httpx==0.28.1",
    "click>=8.1.7,<9",
    "httpcore==1.0.9",
    "jsonschema>=4.25.1",
    "starlette>=0.48.0",
    "uvicorn>=0.37.0",
]

[project.scripts]
fbnconfig = "fbnconfig.main:cli"

[dependency-groups]
dev = [
    "pytest-xdist>=3.6.1,<4",
    "coverage>=7.4.1,<8",
    "ruff>=0.8,<0.9",
    "respx>=0.22",
    "pytest~=8.3",
    "pytest-cov>=6,<7",
    "pyright>=1.1.391,<2",
    "polyfactory>=2.19.0,<3",
    "pytest-sugar>=1.0.0,<2",
]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.pytest.ini_options]
pythonpath = "."
python_files = ["test_*.py", "int_*.py"]
python_classes= ["Test", "Describe"]
testpaths= ["tests"]

[tool.ruff]
line-length = 105

[tool.ruff.lint]
select = [
    "F",
    "Q",
    "E",
    "N",
    "W",
    "I"
]
preview = true
# Allow autofix for all enabled rules (when `--fix`) is provided.
fixable = ["A", "B", "C", "D", "E", "F", "G", "I", "N", "Q", "S", "T", "W",
    "ANN", "ARG", "BLE", "COM", "DJ", "DTZ", "EM", "ERA", "EXE", "FBT", "ICN", "INP", "ISC",
    "NPY", "PD", "PGH", "PIE", "PL", "PT", "PTH", "PYI", "RET", "RSE", "RUF", "SIM", "SLF",
    "TCH", "TID", "TRY", "UP", "YTT"
]
unfixable = []

[tool.ruff.lint.per-file-ignores]
"__init__.py" = ["I001", "F401"]

[tool.ruff.lint.flake8-quotes]
inline-quotes = "double"
multiline-quotes = "double"

[tool.ruff.lint.isort]
split-on-trailing-comma = false

[tool.ruff.format]
quote-style = "double"
skip-magic-trailing-comma = true

[tool.pyright]
exclude = [
     "**/__pycache__",
    "build",
    "**/.venv"
]
ignore = ["fbnconfog/__init__.py"]
